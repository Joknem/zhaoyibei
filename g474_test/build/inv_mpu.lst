ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"inv_mpu.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "DMP/driver/eMPL/inv_mpu.c"
  20              		.section	.text.set_int_enable,"ax",%progbits
  21              		.align	1
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	set_int_enable:
  27              	.LVL0:
  28              	.LFB169:
   1:DMP/driver/eMPL/inv_mpu.c **** /*
   2:DMP/driver/eMPL/inv_mpu.c ****  $License:
   3:DMP/driver/eMPL/inv_mpu.c ****     Copyright (C) 2011-2012 InvenSense Corporation, All Rights Reserved.
   4:DMP/driver/eMPL/inv_mpu.c ****     See included License.txt for License information.
   5:DMP/driver/eMPL/inv_mpu.c ****  $
   6:DMP/driver/eMPL/inv_mpu.c ****  */
   7:DMP/driver/eMPL/inv_mpu.c **** /**
   8:DMP/driver/eMPL/inv_mpu.c ****  *  @addtogroup  DRIVERS Sensor Driver Layer
   9:DMP/driver/eMPL/inv_mpu.c ****  *  @brief       Hardware drivers to communicate with sensors via I2C.
  10:DMP/driver/eMPL/inv_mpu.c ****  *
  11:DMP/driver/eMPL/inv_mpu.c ****  *  @{
  12:DMP/driver/eMPL/inv_mpu.c ****  *      @file       inv_mpu.c
  13:DMP/driver/eMPL/inv_mpu.c ****  *      @brief      An I2C-based driver for Invensense gyroscopes.
  14:DMP/driver/eMPL/inv_mpu.c ****  *      @details    This driver currently works for the following devices:
  15:DMP/driver/eMPL/inv_mpu.c ****  *                  MPU6050
  16:DMP/driver/eMPL/inv_mpu.c ****  *                  MPU6500
  17:DMP/driver/eMPL/inv_mpu.c ****  *                  MPU9150 (or MPU6050 w/ AK8975 on the auxiliary bus)
  18:DMP/driver/eMPL/inv_mpu.c ****  *                  MPU9250 (or MPU6500 w/ AK8963 on the auxiliary bus)
  19:DMP/driver/eMPL/inv_mpu.c ****  */
  20:DMP/driver/eMPL/inv_mpu.c **** #include "inv_mpu.h"
  21:DMP/driver/eMPL/inv_mpu.c **** #include <math.h>
  22:DMP/driver/eMPL/inv_mpu.c **** #include <stdint.h>
  23:DMP/driver/eMPL/inv_mpu.c **** #include <stdio.h>
  24:DMP/driver/eMPL/inv_mpu.c **** #include <stdlib.h>
  25:DMP/driver/eMPL/inv_mpu.c **** #include <string.h>
  26:DMP/driver/eMPL/inv_mpu.c **** 
  27:DMP/driver/eMPL/inv_mpu.c **** #include "data_builder.h"
  28:DMP/driver/eMPL/inv_mpu.c **** #include "eMPL_outputs.h"
  29:DMP/driver/eMPL/inv_mpu.c **** #include "inv_mpu_dmp_motion_driver.h"
  30:DMP/driver/eMPL/inv_mpu.c **** #include "invensense.h"
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 2


  31:DMP/driver/eMPL/inv_mpu.c **** #include "invensense_adv.h"
  32:DMP/driver/eMPL/inv_mpu.c **** #include "log.h"
  33:DMP/driver/eMPL/inv_mpu.c **** #include "mltypes.h"
  34:DMP/driver/eMPL/inv_mpu.c **** #include "mpl.h"
  35:DMP/driver/eMPL/inv_mpu.c **** #include "mpu.h"
  36:DMP/driver/eMPL/inv_mpu.c **** #include "packet.h"
  37:DMP/driver/eMPL/inv_mpu.c **** 
  38:DMP/driver/eMPL/inv_mpu.c **** #include "mpu9250.h"
  39:DMP/driver/eMPL/inv_mpu.c **** #include "usart.h"
  40:DMP/driver/eMPL/inv_mpu.c **** 
  41:DMP/driver/eMPL/inv_mpu.c **** // 重定向C库函数printf到串口，重定向后可使用printf函数
  42:DMP/driver/eMPL/inv_mpu.c **** 
  43:DMP/driver/eMPL/inv_mpu.c **** void _sys_exit(int x) { x = x; }
  44:DMP/driver/eMPL/inv_mpu.c **** 
  45:DMP/driver/eMPL/inv_mpu.c **** int fputc(int ch, FILE *f) {
  46:DMP/driver/eMPL/inv_mpu.c ****   /*发送一个字节数据到串口*/
  47:DMP/driver/eMPL/inv_mpu.c ****   HAL_UART_Transmit(&huart1, (uint8_t *)&ch, 1, 1000);
  48:DMP/driver/eMPL/inv_mpu.c ****   /*等待发送完毕*/
  49:DMP/driver/eMPL/inv_mpu.c **** 
  50:DMP/driver/eMPL/inv_mpu.c ****   return (ch);
  51:DMP/driver/eMPL/inv_mpu.c **** }
  52:DMP/driver/eMPL/inv_mpu.c **** 
  53:DMP/driver/eMPL/inv_mpu.c **** /* The following functions must be defined for this platform:
  54:DMP/driver/eMPL/inv_mpu.c ****  * i2c_write(unsigned char slave_addr, unsigned char reg_addr,
  55:DMP/driver/eMPL/inv_mpu.c ****  *      unsigned char length, unsigned char const *data)
  56:DMP/driver/eMPL/inv_mpu.c ****  * i2c_read(unsigned char slave_addr, unsigned char reg_addr,
  57:DMP/driver/eMPL/inv_mpu.c ****  *      unsigned char length, unsigned char *data)
  58:DMP/driver/eMPL/inv_mpu.c ****  * delay_ms(unsigned long num_ms)
  59:DMP/driver/eMPL/inv_mpu.c ****  * get_ms(unsigned long *count)
  60:DMP/driver/eMPL/inv_mpu.c ****  * reg_int_cb(void (*cb)(void), unsigned char port, unsigned char pin)
  61:DMP/driver/eMPL/inv_mpu.c ****  * labs(long x)
  62:DMP/driver/eMPL/inv_mpu.c ****  * fabsf(float x)
  63:DMP/driver/eMPL/inv_mpu.c ****  * min(int a, int b)
  64:DMP/driver/eMPL/inv_mpu.c ****  */
  65:DMP/driver/eMPL/inv_mpu.c **** #if defined EMPL_TARGET_STM32F4
  66:DMP/driver/eMPL/inv_mpu.c **** // #include "i2c.h"
  67:DMP/driver/eMPL/inv_mpu.c **** // #include "main.h"
  68:DMP/driver/eMPL/inv_mpu.c **** // #include "log.h"
  69:DMP/driver/eMPL/inv_mpu.c **** // #include "board-st_discovery.h"
  70:DMP/driver/eMPL/inv_mpu.c **** //
  71:DMP/driver/eMPL/inv_mpu.c **** // #define i2c_write   Sensors_I2C_WriteRegister
  72:DMP/driver/eMPL/inv_mpu.c **** // #define i2c_read    Sensors_I2C_ReadRegister
  73:DMP/driver/eMPL/inv_mpu.c **** // #define delay_ms    mdelay
  74:DMP/driver/eMPL/inv_mpu.c **** // #define get_ms      get_tick_count
  75:DMP/driver/eMPL/inv_mpu.c **** // #define log_i       MPL_LOGI
  76:DMP/driver/eMPL/inv_mpu.c **** // #define log_e       MPL_LOGE
  77:DMP/driver/eMPL/inv_mpu.c **** // #define min(a,b) ((a<b)?a:b)
  78:DMP/driver/eMPL/inv_mpu.c **** #include "log.h"
  79:DMP/driver/eMPL/inv_mpu.c **** unsigned char *mpl_key = (unsigned char *)"eMPL 5.1";
  80:DMP/driver/eMPL/inv_mpu.c **** 
  81:DMP/driver/eMPL/inv_mpu.c **** #define i2c_write MPU_Write_Len
  82:DMP/driver/eMPL/inv_mpu.c **** #define i2c_read MPU_Read_Len
  83:DMP/driver/eMPL/inv_mpu.c **** #define delay_ms HAL_Delay
  84:DMP/driver/eMPL/inv_mpu.c **** #define get_ms mget_ms
  85:DMP/driver/eMPL/inv_mpu.c **** 
  86:DMP/driver/eMPL/inv_mpu.c **** #define log_i printf // 打印信息
  87:DMP/driver/eMPL/inv_mpu.c **** #define log_e printf // 打印信息
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 3


  88:DMP/driver/eMPL/inv_mpu.c **** #define min(a, b) ((a < b) ? a : b)
  89:DMP/driver/eMPL/inv_mpu.c **** 
  90:DMP/driver/eMPL/inv_mpu.c **** #elif defined MOTION_DRIVER_TARGET_MSP430
  91:DMP/driver/eMPL/inv_mpu.c **** #include "msp430.h"
  92:DMP/driver/eMPL/inv_mpu.c **** #include "msp430_clock.h"
  93:DMP/driver/eMPL/inv_mpu.c **** #include "msp430_i2c.h"
  94:DMP/driver/eMPL/inv_mpu.c **** #include "msp430_interrupt.h"
  95:DMP/driver/eMPL/inv_mpu.c **** #define i2c_write msp430_i2c_write
  96:DMP/driver/eMPL/inv_mpu.c **** #define i2c_read msp430_i2c_read
  97:DMP/driver/eMPL/inv_mpu.c **** #define delay_ms msp430_delay_ms
  98:DMP/driver/eMPL/inv_mpu.c **** #define get_ms msp430_get_clock_ms
  99:DMP/driver/eMPL/inv_mpu.c **** static inline int reg_int_cb(struct int_param_s *int_param) {
 100:DMP/driver/eMPL/inv_mpu.c ****   return msp430_reg_int_cb(int_param->cb, int_param->pin, int_param->lp_exit,
 101:DMP/driver/eMPL/inv_mpu.c ****                            int_param->active_low);
 102:DMP/driver/eMPL/inv_mpu.c **** }
 103:DMP/driver/eMPL/inv_mpu.c **** #define log_i(...)                                                             \
 104:DMP/driver/eMPL/inv_mpu.c ****   do {                                                                         \
 105:DMP/driver/eMPL/inv_mpu.c ****   } while (0)
 106:DMP/driver/eMPL/inv_mpu.c **** #define log_e(...)                                                             \
 107:DMP/driver/eMPL/inv_mpu.c ****   do {                                                                         \
 108:DMP/driver/eMPL/inv_mpu.c ****   } while (0)
 109:DMP/driver/eMPL/inv_mpu.c **** /* labs is already defined by TI's toolchain. */
 110:DMP/driver/eMPL/inv_mpu.c **** /* fabs is for doubles. fabsf is for floats. */
 111:DMP/driver/eMPL/inv_mpu.c **** #define fabs fabsf
 112:DMP/driver/eMPL/inv_mpu.c **** #define min(a, b) ((a < b) ? a : b)
 113:DMP/driver/eMPL/inv_mpu.c **** #elif defined EMPL_TARGET_MSP430
 114:DMP/driver/eMPL/inv_mpu.c **** #include "log.h"
 115:DMP/driver/eMPL/inv_mpu.c **** #include "msp430.h"
 116:DMP/driver/eMPL/inv_mpu.c **** #include "msp430_clock.h"
 117:DMP/driver/eMPL/inv_mpu.c **** #include "msp430_i2c.h"
 118:DMP/driver/eMPL/inv_mpu.c **** #include "msp430_interrupt.h"
 119:DMP/driver/eMPL/inv_mpu.c **** #define i2c_write msp430_i2c_write
 120:DMP/driver/eMPL/inv_mpu.c **** #define i2c_read msp430_i2c_read
 121:DMP/driver/eMPL/inv_mpu.c **** #define delay_ms msp430_delay_ms
 122:DMP/driver/eMPL/inv_mpu.c **** #define get_ms msp430_get_clock_ms
 123:DMP/driver/eMPL/inv_mpu.c **** static inline int reg_int_cb(struct int_param_s *int_param) {
 124:DMP/driver/eMPL/inv_mpu.c ****   return msp430_reg_int_cb(int_param->cb, int_param->pin, int_param->lp_exit,
 125:DMP/driver/eMPL/inv_mpu.c ****                            int_param->active_low);
 126:DMP/driver/eMPL/inv_mpu.c **** }
 127:DMP/driver/eMPL/inv_mpu.c **** #define log_i MPL_LOGI
 128:DMP/driver/eMPL/inv_mpu.c **** #define log_e MPL_LOGE
 129:DMP/driver/eMPL/inv_mpu.c **** /* labs is already defined by TI's toolchain. */
 130:DMP/driver/eMPL/inv_mpu.c **** /* fabs is for doubles. fabsf is for floats. */
 131:DMP/driver/eMPL/inv_mpu.c **** #define fabs fabsf
 132:DMP/driver/eMPL/inv_mpu.c **** #define min(a, b) ((a < b) ? a : b)
 133:DMP/driver/eMPL/inv_mpu.c **** #elif defined EMPL_TARGET_UC3L0
 134:DMP/driver/eMPL/inv_mpu.c **** /* Instead of using the standard TWI driver from the ASF library, we're using
 135:DMP/driver/eMPL/inv_mpu.c ****  * a TWI driver that follows the slave address + register address convention.
 136:DMP/driver/eMPL/inv_mpu.c ****  */
 137:DMP/driver/eMPL/inv_mpu.c **** #include "delay.h"
 138:DMP/driver/eMPL/inv_mpu.c **** #include "log.h"
 139:DMP/driver/eMPL/inv_mpu.c **** #include "sensors_xplained.h"
 140:DMP/driver/eMPL/inv_mpu.c **** #include "sysclk.h"
 141:DMP/driver/eMPL/inv_mpu.c **** #include "twi.h"
 142:DMP/driver/eMPL/inv_mpu.c **** #include "uc3l0_clock.h"
 143:DMP/driver/eMPL/inv_mpu.c **** #define i2c_write(a, b, c, d) twi_write(a, b, d, c)
 144:DMP/driver/eMPL/inv_mpu.c **** #define i2c_read(a, b, c, d) twi_read(a, b, d, c)
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 4


 145:DMP/driver/eMPL/inv_mpu.c **** /* delay_ms is a function already defined in ASF. */
 146:DMP/driver/eMPL/inv_mpu.c **** #define get_ms uc3l0_get_clock_ms
 147:DMP/driver/eMPL/inv_mpu.c **** static inline int reg_int_cb(struct int_param_s *int_param) {
 148:DMP/driver/eMPL/inv_mpu.c ****   sensor_board_irq_connect(int_param->pin, int_param->cb, int_param->arg);
 149:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 150:DMP/driver/eMPL/inv_mpu.c **** }
 151:DMP/driver/eMPL/inv_mpu.c **** #define log_i MPL_LOGI
 152:DMP/driver/eMPL/inv_mpu.c **** #define log_e MPL_LOGE
 153:DMP/driver/eMPL/inv_mpu.c **** /* UC3 is a 32-bit processor, so abs and labs are equivalent. */
 154:DMP/driver/eMPL/inv_mpu.c **** #define labs abs
 155:DMP/driver/eMPL/inv_mpu.c **** #define fabs(x) (((x) > 0) ? (x) : -(x))
 156:DMP/driver/eMPL/inv_mpu.c **** #else
 157:DMP/driver/eMPL/inv_mpu.c **** #error Gyro driver is missing the system layer implementations.
 158:DMP/driver/eMPL/inv_mpu.c **** #endif
 159:DMP/driver/eMPL/inv_mpu.c **** 
 160:DMP/driver/eMPL/inv_mpu.c **** #if !defined MPU6050 && !defined MPU9150 && !defined MPU6500 && !defined MPU9250
 161:DMP/driver/eMPL/inv_mpu.c **** #error Which gyro are you using? Define MPUxxxx in your compiler options.
 162:DMP/driver/eMPL/inv_mpu.c **** #endif
 163:DMP/driver/eMPL/inv_mpu.c **** 
 164:DMP/driver/eMPL/inv_mpu.c **** /* Time for some messy macro work. =]
 165:DMP/driver/eMPL/inv_mpu.c ****  * #define MPU9150
 166:DMP/driver/eMPL/inv_mpu.c ****  * is equivalent to..
 167:DMP/driver/eMPL/inv_mpu.c ****  * #define MPU6050
 168:DMP/driver/eMPL/inv_mpu.c ****  * #define AK8975_SECONDARY
 169:DMP/driver/eMPL/inv_mpu.c ****  *
 170:DMP/driver/eMPL/inv_mpu.c ****  * #define MPU9250
 171:DMP/driver/eMPL/inv_mpu.c ****  * is equivalent to..
 172:DMP/driver/eMPL/inv_mpu.c ****  * #define MPU6500
 173:DMP/driver/eMPL/inv_mpu.c ****  * #define AK8963_SECONDARY
 174:DMP/driver/eMPL/inv_mpu.c ****  */
 175:DMP/driver/eMPL/inv_mpu.c **** #if defined MPU9150
 176:DMP/driver/eMPL/inv_mpu.c **** #ifndef MPU6050
 177:DMP/driver/eMPL/inv_mpu.c **** #define MPU6050
 178:DMP/driver/eMPL/inv_mpu.c **** #endif /* #ifndef MPU6050 */
 179:DMP/driver/eMPL/inv_mpu.c **** #if defined AK8963_SECONDARY
 180:DMP/driver/eMPL/inv_mpu.c **** #error "MPU9150 and AK8963_SECONDARY cannot both be defined."
 181:DMP/driver/eMPL/inv_mpu.c **** #elif !defined AK8975_SECONDARY /* #if defined AK8963_SECONDARY */
 182:DMP/driver/eMPL/inv_mpu.c **** #define AK8975_SECONDARY
 183:DMP/driver/eMPL/inv_mpu.c **** #endif                /* #if defined AK8963_SECONDARY */
 184:DMP/driver/eMPL/inv_mpu.c **** #elif defined MPU9250 /* #if defined MPU9150 */
 185:DMP/driver/eMPL/inv_mpu.c **** #ifndef MPU6500
 186:DMP/driver/eMPL/inv_mpu.c **** #define MPU6500
 187:DMP/driver/eMPL/inv_mpu.c **** #endif /* #ifndef MPU6500 */
 188:DMP/driver/eMPL/inv_mpu.c **** #if defined AK8975_SECONDARY
 189:DMP/driver/eMPL/inv_mpu.c **** #error "MPU9250 and AK8975_SECONDARY cannot both be defined."
 190:DMP/driver/eMPL/inv_mpu.c **** #elif !defined AK8963_SECONDARY /* #if defined AK8975_SECONDARY */
 191:DMP/driver/eMPL/inv_mpu.c **** #define AK8963_SECONDARY
 192:DMP/driver/eMPL/inv_mpu.c **** #endif /* #if defined AK8975_SECONDARY */
 193:DMP/driver/eMPL/inv_mpu.c **** #endif /* #if defined MPU9150 */
 194:DMP/driver/eMPL/inv_mpu.c **** 
 195:DMP/driver/eMPL/inv_mpu.c **** #if defined AK8975_SECONDARY || defined AK8963_SECONDARY
 196:DMP/driver/eMPL/inv_mpu.c **** #define AK89xx_SECONDARY
 197:DMP/driver/eMPL/inv_mpu.c **** #else
 198:DMP/driver/eMPL/inv_mpu.c **** /* #warning "No compass = less profit for Invensense. Lame." */
 199:DMP/driver/eMPL/inv_mpu.c **** #endif
 200:DMP/driver/eMPL/inv_mpu.c **** 
 201:DMP/driver/eMPL/inv_mpu.c **** static int set_int_enable(unsigned char enable);
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 5


 202:DMP/driver/eMPL/inv_mpu.c **** 
 203:DMP/driver/eMPL/inv_mpu.c **** /* Hardware registers needed by driver. */
 204:DMP/driver/eMPL/inv_mpu.c **** struct gyro_reg_s {
 205:DMP/driver/eMPL/inv_mpu.c ****   unsigned char who_am_i;
 206:DMP/driver/eMPL/inv_mpu.c ****   unsigned char rate_div;
 207:DMP/driver/eMPL/inv_mpu.c ****   unsigned char lpf;
 208:DMP/driver/eMPL/inv_mpu.c ****   unsigned char prod_id;
 209:DMP/driver/eMPL/inv_mpu.c ****   unsigned char user_ctrl;
 210:DMP/driver/eMPL/inv_mpu.c ****   unsigned char fifo_en;
 211:DMP/driver/eMPL/inv_mpu.c ****   unsigned char gyro_cfg;
 212:DMP/driver/eMPL/inv_mpu.c ****   unsigned char accel_cfg;
 213:DMP/driver/eMPL/inv_mpu.c ****   unsigned char accel_cfg2;
 214:DMP/driver/eMPL/inv_mpu.c ****   unsigned char lp_accel_odr;
 215:DMP/driver/eMPL/inv_mpu.c ****   unsigned char motion_thr;
 216:DMP/driver/eMPL/inv_mpu.c ****   unsigned char motion_dur;
 217:DMP/driver/eMPL/inv_mpu.c ****   unsigned char fifo_count_h;
 218:DMP/driver/eMPL/inv_mpu.c ****   unsigned char fifo_r_w;
 219:DMP/driver/eMPL/inv_mpu.c ****   unsigned char raw_gyro;
 220:DMP/driver/eMPL/inv_mpu.c ****   unsigned char raw_accel;
 221:DMP/driver/eMPL/inv_mpu.c ****   unsigned char temp;
 222:DMP/driver/eMPL/inv_mpu.c ****   unsigned char int_enable;
 223:DMP/driver/eMPL/inv_mpu.c ****   unsigned char dmp_int_status;
 224:DMP/driver/eMPL/inv_mpu.c ****   unsigned char int_status;
 225:DMP/driver/eMPL/inv_mpu.c ****   unsigned char accel_intel;
 226:DMP/driver/eMPL/inv_mpu.c ****   unsigned char pwr_mgmt_1;
 227:DMP/driver/eMPL/inv_mpu.c ****   unsigned char pwr_mgmt_2;
 228:DMP/driver/eMPL/inv_mpu.c ****   unsigned char int_pin_cfg;
 229:DMP/driver/eMPL/inv_mpu.c ****   unsigned char mem_r_w;
 230:DMP/driver/eMPL/inv_mpu.c ****   unsigned char accel_offs;
 231:DMP/driver/eMPL/inv_mpu.c ****   unsigned char i2c_mst;
 232:DMP/driver/eMPL/inv_mpu.c ****   unsigned char bank_sel;
 233:DMP/driver/eMPL/inv_mpu.c ****   unsigned char mem_start_addr;
 234:DMP/driver/eMPL/inv_mpu.c ****   unsigned char prgm_start_h;
 235:DMP/driver/eMPL/inv_mpu.c **** #if defined AK89xx_SECONDARY
 236:DMP/driver/eMPL/inv_mpu.c ****   unsigned char s0_addr;
 237:DMP/driver/eMPL/inv_mpu.c ****   unsigned char s0_reg;
 238:DMP/driver/eMPL/inv_mpu.c ****   unsigned char s0_ctrl;
 239:DMP/driver/eMPL/inv_mpu.c ****   unsigned char s1_addr;
 240:DMP/driver/eMPL/inv_mpu.c ****   unsigned char s1_reg;
 241:DMP/driver/eMPL/inv_mpu.c ****   unsigned char s1_ctrl;
 242:DMP/driver/eMPL/inv_mpu.c ****   unsigned char s4_ctrl;
 243:DMP/driver/eMPL/inv_mpu.c ****   unsigned char s0_do;
 244:DMP/driver/eMPL/inv_mpu.c ****   unsigned char s1_do;
 245:DMP/driver/eMPL/inv_mpu.c ****   unsigned char i2c_delay_ctrl;
 246:DMP/driver/eMPL/inv_mpu.c ****   unsigned char raw_compass;
 247:DMP/driver/eMPL/inv_mpu.c ****   /* The I2C_MST_VDDIO bit is in this register. */
 248:DMP/driver/eMPL/inv_mpu.c ****   unsigned char yg_offs_tc;
 249:DMP/driver/eMPL/inv_mpu.c **** #endif
 250:DMP/driver/eMPL/inv_mpu.c **** };
 251:DMP/driver/eMPL/inv_mpu.c **** 
 252:DMP/driver/eMPL/inv_mpu.c **** /* Information specific to a particular device. */
 253:DMP/driver/eMPL/inv_mpu.c **** struct hw_s {
 254:DMP/driver/eMPL/inv_mpu.c ****   unsigned char addr;
 255:DMP/driver/eMPL/inv_mpu.c ****   unsigned short max_fifo;
 256:DMP/driver/eMPL/inv_mpu.c ****   unsigned char num_reg;
 257:DMP/driver/eMPL/inv_mpu.c ****   unsigned short temp_sens;
 258:DMP/driver/eMPL/inv_mpu.c ****   short temp_offset;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 6


 259:DMP/driver/eMPL/inv_mpu.c ****   unsigned short bank_size;
 260:DMP/driver/eMPL/inv_mpu.c **** #if defined AK89xx_SECONDARY
 261:DMP/driver/eMPL/inv_mpu.c ****   unsigned short compass_fsr;
 262:DMP/driver/eMPL/inv_mpu.c **** #endif
 263:DMP/driver/eMPL/inv_mpu.c **** };
 264:DMP/driver/eMPL/inv_mpu.c **** 
 265:DMP/driver/eMPL/inv_mpu.c **** /* When entering motion interrupt mode, the driver keeps track of the
 266:DMP/driver/eMPL/inv_mpu.c ****  * previous state so that it can be restored at a later time.
 267:DMP/driver/eMPL/inv_mpu.c ****  * TODO: This is tacky. Fix it.
 268:DMP/driver/eMPL/inv_mpu.c ****  */
 269:DMP/driver/eMPL/inv_mpu.c **** struct motion_int_cache_s {
 270:DMP/driver/eMPL/inv_mpu.c ****   unsigned short gyro_fsr;
 271:DMP/driver/eMPL/inv_mpu.c ****   unsigned char accel_fsr;
 272:DMP/driver/eMPL/inv_mpu.c ****   unsigned short lpf;
 273:DMP/driver/eMPL/inv_mpu.c ****   unsigned short sample_rate;
 274:DMP/driver/eMPL/inv_mpu.c ****   unsigned char sensors_on;
 275:DMP/driver/eMPL/inv_mpu.c ****   unsigned char fifo_sensors;
 276:DMP/driver/eMPL/inv_mpu.c ****   unsigned char dmp_on;
 277:DMP/driver/eMPL/inv_mpu.c **** };
 278:DMP/driver/eMPL/inv_mpu.c **** 
 279:DMP/driver/eMPL/inv_mpu.c **** /* Cached chip configuration data.
 280:DMP/driver/eMPL/inv_mpu.c ****  * TODO: A lot of these can be handled with a bitmask.
 281:DMP/driver/eMPL/inv_mpu.c ****  */
 282:DMP/driver/eMPL/inv_mpu.c **** struct chip_cfg_s {
 283:DMP/driver/eMPL/inv_mpu.c ****   /* Matches gyro_cfg >> 3 & 0x03 */
 284:DMP/driver/eMPL/inv_mpu.c ****   unsigned char gyro_fsr;
 285:DMP/driver/eMPL/inv_mpu.c ****   /* Matches accel_cfg >> 3 & 0x03 */
 286:DMP/driver/eMPL/inv_mpu.c ****   unsigned char accel_fsr;
 287:DMP/driver/eMPL/inv_mpu.c ****   /* Enabled sensors. Uses same masks as fifo_en, NOT pwr_mgmt_2. */
 288:DMP/driver/eMPL/inv_mpu.c ****   unsigned char sensors;
 289:DMP/driver/eMPL/inv_mpu.c ****   /* Matches config register. */
 290:DMP/driver/eMPL/inv_mpu.c ****   unsigned char lpf;
 291:DMP/driver/eMPL/inv_mpu.c ****   unsigned char clk_src;
 292:DMP/driver/eMPL/inv_mpu.c ****   /* Sample rate, NOT rate divider. */
 293:DMP/driver/eMPL/inv_mpu.c ****   unsigned short sample_rate;
 294:DMP/driver/eMPL/inv_mpu.c ****   /* Matches fifo_en register. */
 295:DMP/driver/eMPL/inv_mpu.c ****   unsigned char fifo_enable;
 296:DMP/driver/eMPL/inv_mpu.c ****   /* Matches int enable register. */
 297:DMP/driver/eMPL/inv_mpu.c ****   unsigned char int_enable;
 298:DMP/driver/eMPL/inv_mpu.c ****   /* 1 if devices on auxiliary I2C bus appear on the primary. */
 299:DMP/driver/eMPL/inv_mpu.c ****   unsigned char bypass_mode;
 300:DMP/driver/eMPL/inv_mpu.c ****   /* 1 if half-sensitivity.
 301:DMP/driver/eMPL/inv_mpu.c ****    * NOTE: This doesn't belong here, but everything else in hw_s is const,
 302:DMP/driver/eMPL/inv_mpu.c ****    * and this allows us to save some precious RAM.
 303:DMP/driver/eMPL/inv_mpu.c ****    */
 304:DMP/driver/eMPL/inv_mpu.c ****   unsigned char accel_half;
 305:DMP/driver/eMPL/inv_mpu.c ****   /* 1 if device in low-power accel-only mode. */
 306:DMP/driver/eMPL/inv_mpu.c ****   unsigned char lp_accel_mode;
 307:DMP/driver/eMPL/inv_mpu.c ****   /* 1 if interrupts are only triggered on motion events. */
 308:DMP/driver/eMPL/inv_mpu.c ****   unsigned char int_motion_only;
 309:DMP/driver/eMPL/inv_mpu.c ****   struct motion_int_cache_s cache;
 310:DMP/driver/eMPL/inv_mpu.c ****   /* 1 for active low interrupts. */
 311:DMP/driver/eMPL/inv_mpu.c ****   unsigned char active_low_int;
 312:DMP/driver/eMPL/inv_mpu.c ****   /* 1 for latched interrupts. */
 313:DMP/driver/eMPL/inv_mpu.c ****   unsigned char latched_int;
 314:DMP/driver/eMPL/inv_mpu.c ****   /* 1 if DMP is enabled. */
 315:DMP/driver/eMPL/inv_mpu.c ****   unsigned char dmp_on;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 7


 316:DMP/driver/eMPL/inv_mpu.c ****   /* Ensures that DMP will only be loaded once. */
 317:DMP/driver/eMPL/inv_mpu.c ****   unsigned char dmp_loaded;
 318:DMP/driver/eMPL/inv_mpu.c ****   /* Sampling rate used when DMP is enabled. */
 319:DMP/driver/eMPL/inv_mpu.c ****   unsigned short dmp_sample_rate;
 320:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
 321:DMP/driver/eMPL/inv_mpu.c ****   /* Compass sample rate. */
 322:DMP/driver/eMPL/inv_mpu.c ****   unsigned short compass_sample_rate;
 323:DMP/driver/eMPL/inv_mpu.c ****   unsigned char compass_addr;
 324:DMP/driver/eMPL/inv_mpu.c ****   short mag_sens_adj[3];
 325:DMP/driver/eMPL/inv_mpu.c **** #endif
 326:DMP/driver/eMPL/inv_mpu.c **** };
 327:DMP/driver/eMPL/inv_mpu.c **** 
 328:DMP/driver/eMPL/inv_mpu.c **** /* Information for self-test. */
 329:DMP/driver/eMPL/inv_mpu.c **** struct test_s {
 330:DMP/driver/eMPL/inv_mpu.c ****   unsigned long gyro_sens;
 331:DMP/driver/eMPL/inv_mpu.c ****   unsigned long accel_sens;
 332:DMP/driver/eMPL/inv_mpu.c ****   unsigned char reg_rate_div;
 333:DMP/driver/eMPL/inv_mpu.c ****   unsigned char reg_lpf;
 334:DMP/driver/eMPL/inv_mpu.c ****   unsigned char reg_gyro_fsr;
 335:DMP/driver/eMPL/inv_mpu.c ****   unsigned char reg_accel_fsr;
 336:DMP/driver/eMPL/inv_mpu.c ****   unsigned short wait_ms;
 337:DMP/driver/eMPL/inv_mpu.c ****   unsigned char packet_thresh;
 338:DMP/driver/eMPL/inv_mpu.c ****   float min_dps;
 339:DMP/driver/eMPL/inv_mpu.c ****   float max_dps;
 340:DMP/driver/eMPL/inv_mpu.c ****   float max_gyro_var;
 341:DMP/driver/eMPL/inv_mpu.c ****   float min_g;
 342:DMP/driver/eMPL/inv_mpu.c ****   float max_g;
 343:DMP/driver/eMPL/inv_mpu.c ****   float max_accel_var;
 344:DMP/driver/eMPL/inv_mpu.c **** #ifdef MPU6500
 345:DMP/driver/eMPL/inv_mpu.c ****   float max_g_offset;
 346:DMP/driver/eMPL/inv_mpu.c ****   unsigned short sample_wait_ms;
 347:DMP/driver/eMPL/inv_mpu.c **** #endif
 348:DMP/driver/eMPL/inv_mpu.c **** };
 349:DMP/driver/eMPL/inv_mpu.c **** 
 350:DMP/driver/eMPL/inv_mpu.c **** /* Gyro driver state variables. */
 351:DMP/driver/eMPL/inv_mpu.c **** struct gyro_state_s {
 352:DMP/driver/eMPL/inv_mpu.c ****   const struct gyro_reg_s *reg;
 353:DMP/driver/eMPL/inv_mpu.c ****   const struct hw_s *hw;
 354:DMP/driver/eMPL/inv_mpu.c ****   struct chip_cfg_s chip_cfg;
 355:DMP/driver/eMPL/inv_mpu.c ****   const struct test_s *test;
 356:DMP/driver/eMPL/inv_mpu.c **** };
 357:DMP/driver/eMPL/inv_mpu.c **** 
 358:DMP/driver/eMPL/inv_mpu.c **** /* Filter configurations. */
 359:DMP/driver/eMPL/inv_mpu.c **** enum lpf_e {
 360:DMP/driver/eMPL/inv_mpu.c ****   INV_FILTER_256HZ_NOLPF2 = 0,
 361:DMP/driver/eMPL/inv_mpu.c ****   INV_FILTER_188HZ,
 362:DMP/driver/eMPL/inv_mpu.c ****   INV_FILTER_98HZ,
 363:DMP/driver/eMPL/inv_mpu.c ****   INV_FILTER_42HZ,
 364:DMP/driver/eMPL/inv_mpu.c ****   INV_FILTER_20HZ,
 365:DMP/driver/eMPL/inv_mpu.c ****   INV_FILTER_10HZ,
 366:DMP/driver/eMPL/inv_mpu.c ****   INV_FILTER_5HZ,
 367:DMP/driver/eMPL/inv_mpu.c ****   INV_FILTER_2100HZ_NOLPF,
 368:DMP/driver/eMPL/inv_mpu.c ****   NUM_FILTER
 369:DMP/driver/eMPL/inv_mpu.c **** };
 370:DMP/driver/eMPL/inv_mpu.c **** 
 371:DMP/driver/eMPL/inv_mpu.c **** /* Full scale ranges. */
 372:DMP/driver/eMPL/inv_mpu.c **** enum gyro_fsr_e {
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 8


 373:DMP/driver/eMPL/inv_mpu.c ****   INV_FSR_250DPS = 0,
 374:DMP/driver/eMPL/inv_mpu.c ****   INV_FSR_500DPS,
 375:DMP/driver/eMPL/inv_mpu.c ****   INV_FSR_1000DPS,
 376:DMP/driver/eMPL/inv_mpu.c ****   INV_FSR_2000DPS,
 377:DMP/driver/eMPL/inv_mpu.c ****   NUM_GYRO_FSR
 378:DMP/driver/eMPL/inv_mpu.c **** };
 379:DMP/driver/eMPL/inv_mpu.c **** 
 380:DMP/driver/eMPL/inv_mpu.c **** /* Full scale ranges. */
 381:DMP/driver/eMPL/inv_mpu.c **** enum accel_fsr_e {
 382:DMP/driver/eMPL/inv_mpu.c ****   INV_FSR_2G = 0,
 383:DMP/driver/eMPL/inv_mpu.c ****   INV_FSR_4G,
 384:DMP/driver/eMPL/inv_mpu.c ****   INV_FSR_8G,
 385:DMP/driver/eMPL/inv_mpu.c ****   INV_FSR_16G,
 386:DMP/driver/eMPL/inv_mpu.c ****   NUM_ACCEL_FSR
 387:DMP/driver/eMPL/inv_mpu.c **** };
 388:DMP/driver/eMPL/inv_mpu.c **** 
 389:DMP/driver/eMPL/inv_mpu.c **** /* Clock sources. */
 390:DMP/driver/eMPL/inv_mpu.c **** enum clock_sel_e { INV_CLK_INTERNAL = 0, INV_CLK_PLL, NUM_CLK };
 391:DMP/driver/eMPL/inv_mpu.c **** 
 392:DMP/driver/eMPL/inv_mpu.c **** /* Low-power accel wakeup rates. */
 393:DMP/driver/eMPL/inv_mpu.c **** enum lp_accel_rate_e {
 394:DMP/driver/eMPL/inv_mpu.c **** #if defined MPU6050
 395:DMP/driver/eMPL/inv_mpu.c ****   INV_LPA_1_25HZ,
 396:DMP/driver/eMPL/inv_mpu.c ****   INV_LPA_5HZ,
 397:DMP/driver/eMPL/inv_mpu.c ****   INV_LPA_20HZ,
 398:DMP/driver/eMPL/inv_mpu.c ****   INV_LPA_40HZ
 399:DMP/driver/eMPL/inv_mpu.c **** #elif defined MPU6500
 400:DMP/driver/eMPL/inv_mpu.c ****   INV_LPA_0_3125HZ,
 401:DMP/driver/eMPL/inv_mpu.c ****   INV_LPA_0_625HZ,
 402:DMP/driver/eMPL/inv_mpu.c ****   INV_LPA_1_25HZ,
 403:DMP/driver/eMPL/inv_mpu.c ****   INV_LPA_2_5HZ,
 404:DMP/driver/eMPL/inv_mpu.c ****   INV_LPA_5HZ,
 405:DMP/driver/eMPL/inv_mpu.c ****   INV_LPA_10HZ,
 406:DMP/driver/eMPL/inv_mpu.c ****   INV_LPA_20HZ,
 407:DMP/driver/eMPL/inv_mpu.c ****   INV_LPA_40HZ,
 408:DMP/driver/eMPL/inv_mpu.c ****   INV_LPA_80HZ,
 409:DMP/driver/eMPL/inv_mpu.c ****   INV_LPA_160HZ,
 410:DMP/driver/eMPL/inv_mpu.c ****   INV_LPA_320HZ,
 411:DMP/driver/eMPL/inv_mpu.c ****   INV_LPA_640HZ
 412:DMP/driver/eMPL/inv_mpu.c **** #endif
 413:DMP/driver/eMPL/inv_mpu.c **** };
 414:DMP/driver/eMPL/inv_mpu.c **** 
 415:DMP/driver/eMPL/inv_mpu.c **** #define BIT_I2C_MST_VDDIO (0x80)
 416:DMP/driver/eMPL/inv_mpu.c **** #define BIT_FIFO_EN (0x40)
 417:DMP/driver/eMPL/inv_mpu.c **** #define BIT_DMP_EN (0x80)
 418:DMP/driver/eMPL/inv_mpu.c **** #define BIT_FIFO_RST (0x04)
 419:DMP/driver/eMPL/inv_mpu.c **** #define BIT_DMP_RST (0x08)
 420:DMP/driver/eMPL/inv_mpu.c **** #define BIT_FIFO_OVERFLOW (0x10)
 421:DMP/driver/eMPL/inv_mpu.c **** #define BIT_DATA_RDY_EN (0x01)
 422:DMP/driver/eMPL/inv_mpu.c **** #define BIT_DMP_INT_EN (0x02)
 423:DMP/driver/eMPL/inv_mpu.c **** #define BIT_MOT_INT_EN (0x40)
 424:DMP/driver/eMPL/inv_mpu.c **** #define BITS_FSR (0x18)
 425:DMP/driver/eMPL/inv_mpu.c **** #define BITS_LPF (0x07)
 426:DMP/driver/eMPL/inv_mpu.c **** #define BITS_HPF (0x07)
 427:DMP/driver/eMPL/inv_mpu.c **** #define BITS_CLK (0x07)
 428:DMP/driver/eMPL/inv_mpu.c **** #define BIT_FIFO_SIZE_1024 (0x40)
 429:DMP/driver/eMPL/inv_mpu.c **** #define BIT_FIFO_SIZE_2048 (0x80)
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 9


 430:DMP/driver/eMPL/inv_mpu.c **** #define BIT_FIFO_SIZE_4096 (0xC0)
 431:DMP/driver/eMPL/inv_mpu.c **** #define BIT_RESET (0x80)
 432:DMP/driver/eMPL/inv_mpu.c **** #define BIT_SLEEP (0x40)
 433:DMP/driver/eMPL/inv_mpu.c **** #define BIT_S0_DELAY_EN (0x01)
 434:DMP/driver/eMPL/inv_mpu.c **** #define BIT_S2_DELAY_EN (0x04)
 435:DMP/driver/eMPL/inv_mpu.c **** #define BITS_SLAVE_LENGTH (0x0F)
 436:DMP/driver/eMPL/inv_mpu.c **** #define BIT_SLAVE_BYTE_SW (0x40)
 437:DMP/driver/eMPL/inv_mpu.c **** #define BIT_SLAVE_GROUP (0x10)
 438:DMP/driver/eMPL/inv_mpu.c **** #define BIT_SLAVE_EN (0x80)
 439:DMP/driver/eMPL/inv_mpu.c **** #define BIT_I2C_READ (0x80)
 440:DMP/driver/eMPL/inv_mpu.c **** #define BITS_I2C_MASTER_DLY (0x1F)
 441:DMP/driver/eMPL/inv_mpu.c **** #define BIT_AUX_IF_EN (0x20)
 442:DMP/driver/eMPL/inv_mpu.c **** #define BIT_ACTL (0x80)
 443:DMP/driver/eMPL/inv_mpu.c **** #define BIT_LATCH_EN (0x20)
 444:DMP/driver/eMPL/inv_mpu.c **** #define BIT_ANY_RD_CLR (0x10)
 445:DMP/driver/eMPL/inv_mpu.c **** #define BIT_BYPASS_EN (0x02)
 446:DMP/driver/eMPL/inv_mpu.c **** #define BITS_WOM_EN (0xC0)
 447:DMP/driver/eMPL/inv_mpu.c **** #define BIT_LPA_CYCLE (0x20)
 448:DMP/driver/eMPL/inv_mpu.c **** #define BIT_STBY_XA (0x20)
 449:DMP/driver/eMPL/inv_mpu.c **** #define BIT_STBY_YA (0x10)
 450:DMP/driver/eMPL/inv_mpu.c **** #define BIT_STBY_ZA (0x08)
 451:DMP/driver/eMPL/inv_mpu.c **** #define BIT_STBY_XG (0x04)
 452:DMP/driver/eMPL/inv_mpu.c **** #define BIT_STBY_YG (0x02)
 453:DMP/driver/eMPL/inv_mpu.c **** #define BIT_STBY_ZG (0x01)
 454:DMP/driver/eMPL/inv_mpu.c **** #define BIT_STBY_XYZA (BIT_STBY_XA | BIT_STBY_YA | BIT_STBY_ZA)
 455:DMP/driver/eMPL/inv_mpu.c **** #define BIT_STBY_XYZG (BIT_STBY_XG | BIT_STBY_YG | BIT_STBY_ZG)
 456:DMP/driver/eMPL/inv_mpu.c **** 
 457:DMP/driver/eMPL/inv_mpu.c **** #if defined AK8975_SECONDARY
 458:DMP/driver/eMPL/inv_mpu.c **** #define SUPPORTS_AK89xx_HIGH_SENS (0x00)
 459:DMP/driver/eMPL/inv_mpu.c **** #define AK89xx_FSR (9830)
 460:DMP/driver/eMPL/inv_mpu.c **** #elif defined AK8963_SECONDARY
 461:DMP/driver/eMPL/inv_mpu.c **** #define SUPPORTS_AK89xx_HIGH_SENS (0x10)
 462:DMP/driver/eMPL/inv_mpu.c **** #define AK89xx_FSR (4915)
 463:DMP/driver/eMPL/inv_mpu.c **** #endif
 464:DMP/driver/eMPL/inv_mpu.c **** 
 465:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
 466:DMP/driver/eMPL/inv_mpu.c **** #define AKM_REG_WHOAMI (0x00)
 467:DMP/driver/eMPL/inv_mpu.c **** 
 468:DMP/driver/eMPL/inv_mpu.c **** #define AKM_REG_ST1 (0x02)
 469:DMP/driver/eMPL/inv_mpu.c **** #define AKM_REG_HXL (0x03)
 470:DMP/driver/eMPL/inv_mpu.c **** #define AKM_REG_ST2 (0x09)
 471:DMP/driver/eMPL/inv_mpu.c **** 
 472:DMP/driver/eMPL/inv_mpu.c **** #define AKM_REG_CNTL (0x0A)
 473:DMP/driver/eMPL/inv_mpu.c **** #define AKM_REG_ASTC (0x0C)
 474:DMP/driver/eMPL/inv_mpu.c **** #define AKM_REG_ASAX (0x10)
 475:DMP/driver/eMPL/inv_mpu.c **** #define AKM_REG_ASAY (0x11)
 476:DMP/driver/eMPL/inv_mpu.c **** #define AKM_REG_ASAZ (0x12)
 477:DMP/driver/eMPL/inv_mpu.c **** 
 478:DMP/driver/eMPL/inv_mpu.c **** #define AKM_DATA_READY (0x01)
 479:DMP/driver/eMPL/inv_mpu.c **** #define AKM_DATA_OVERRUN (0x02)
 480:DMP/driver/eMPL/inv_mpu.c **** #define AKM_OVERFLOW (0x80)
 481:DMP/driver/eMPL/inv_mpu.c **** #define AKM_DATA_ERROR (0x40)
 482:DMP/driver/eMPL/inv_mpu.c **** 
 483:DMP/driver/eMPL/inv_mpu.c **** #define AKM_BIT_SELF_TEST (0x40)
 484:DMP/driver/eMPL/inv_mpu.c **** 
 485:DMP/driver/eMPL/inv_mpu.c **** #define AKM_POWER_DOWN (0x00 | SUPPORTS_AK89xx_HIGH_SENS)
 486:DMP/driver/eMPL/inv_mpu.c **** #define AKM_SINGLE_MEASUREMENT (0x01 | SUPPORTS_AK89xx_HIGH_SENS)
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 10


 487:DMP/driver/eMPL/inv_mpu.c **** #define AKM_FUSE_ROM_ACCESS (0x0F | SUPPORTS_AK89xx_HIGH_SENS)
 488:DMP/driver/eMPL/inv_mpu.c **** #define AKM_MODE_SELF_TEST (0x08 | SUPPORTS_AK89xx_HIGH_SENS)
 489:DMP/driver/eMPL/inv_mpu.c **** 
 490:DMP/driver/eMPL/inv_mpu.c **** #define AKM_WHOAMI (0x48)
 491:DMP/driver/eMPL/inv_mpu.c **** #endif
 492:DMP/driver/eMPL/inv_mpu.c **** 
 493:DMP/driver/eMPL/inv_mpu.c **** #if defined MPU6050
 494:DMP/driver/eMPL/inv_mpu.c **** const struct gyro_reg_s reg = {.who_am_i = 0x75,
 495:DMP/driver/eMPL/inv_mpu.c ****                                .rate_div = 0x19,
 496:DMP/driver/eMPL/inv_mpu.c ****                                .lpf = 0x1A,
 497:DMP/driver/eMPL/inv_mpu.c ****                                .prod_id = 0x0C,
 498:DMP/driver/eMPL/inv_mpu.c ****                                .user_ctrl = 0x6A,
 499:DMP/driver/eMPL/inv_mpu.c ****                                .fifo_en = 0x23,
 500:DMP/driver/eMPL/inv_mpu.c ****                                .gyro_cfg = 0x1B,
 501:DMP/driver/eMPL/inv_mpu.c ****                                .accel_cfg = 0x1C,
 502:DMP/driver/eMPL/inv_mpu.c ****                                .motion_thr = 0x1F,
 503:DMP/driver/eMPL/inv_mpu.c ****                                .motion_dur = 0x20,
 504:DMP/driver/eMPL/inv_mpu.c ****                                .fifo_count_h = 0x72,
 505:DMP/driver/eMPL/inv_mpu.c ****                                .fifo_r_w = 0x74,
 506:DMP/driver/eMPL/inv_mpu.c ****                                .raw_gyro = 0x43,
 507:DMP/driver/eMPL/inv_mpu.c ****                                .raw_accel = 0x3B,
 508:DMP/driver/eMPL/inv_mpu.c ****                                .temp = 0x41,
 509:DMP/driver/eMPL/inv_mpu.c ****                                .int_enable = 0x38,
 510:DMP/driver/eMPL/inv_mpu.c ****                                .dmp_int_status = 0x39,
 511:DMP/driver/eMPL/inv_mpu.c ****                                .int_status = 0x3A,
 512:DMP/driver/eMPL/inv_mpu.c ****                                .pwr_mgmt_1 = 0x6B,
 513:DMP/driver/eMPL/inv_mpu.c ****                                .pwr_mgmt_2 = 0x6C,
 514:DMP/driver/eMPL/inv_mpu.c ****                                .int_pin_cfg = 0x37,
 515:DMP/driver/eMPL/inv_mpu.c ****                                .mem_r_w = 0x6F,
 516:DMP/driver/eMPL/inv_mpu.c ****                                .accel_offs = 0x06,
 517:DMP/driver/eMPL/inv_mpu.c ****                                .i2c_mst = 0x24,
 518:DMP/driver/eMPL/inv_mpu.c ****                                .bank_sel = 0x6D,
 519:DMP/driver/eMPL/inv_mpu.c ****                                .mem_start_addr = 0x6E,
 520:DMP/driver/eMPL/inv_mpu.c ****                                .prgm_start_h = 0x70
 521:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
 522:DMP/driver/eMPL/inv_mpu.c ****                                ,
 523:DMP/driver/eMPL/inv_mpu.c ****                                .raw_compass = 0x49,
 524:DMP/driver/eMPL/inv_mpu.c ****                                .yg_offs_tc = 0x01,
 525:DMP/driver/eMPL/inv_mpu.c ****                                .s0_addr = 0x25,
 526:DMP/driver/eMPL/inv_mpu.c ****                                .s0_reg = 0x26,
 527:DMP/driver/eMPL/inv_mpu.c ****                                .s0_ctrl = 0x27,
 528:DMP/driver/eMPL/inv_mpu.c ****                                .s1_addr = 0x28,
 529:DMP/driver/eMPL/inv_mpu.c ****                                .s1_reg = 0x29,
 530:DMP/driver/eMPL/inv_mpu.c ****                                .s1_ctrl = 0x2A,
 531:DMP/driver/eMPL/inv_mpu.c ****                                .s4_ctrl = 0x34,
 532:DMP/driver/eMPL/inv_mpu.c ****                                .s0_do = 0x63,
 533:DMP/driver/eMPL/inv_mpu.c ****                                .s1_do = 0x64,
 534:DMP/driver/eMPL/inv_mpu.c ****                                .i2c_delay_ctrl = 0x67
 535:DMP/driver/eMPL/inv_mpu.c **** #endif
 536:DMP/driver/eMPL/inv_mpu.c **** };
 537:DMP/driver/eMPL/inv_mpu.c **** const struct hw_s hw = {.addr = 0x68,
 538:DMP/driver/eMPL/inv_mpu.c ****                         .max_fifo = 1024,
 539:DMP/driver/eMPL/inv_mpu.c ****                         .num_reg = 118,
 540:DMP/driver/eMPL/inv_mpu.c ****                         .temp_sens = 340,
 541:DMP/driver/eMPL/inv_mpu.c ****                         .temp_offset = -521,
 542:DMP/driver/eMPL/inv_mpu.c ****                         .bank_size = 256
 543:DMP/driver/eMPL/inv_mpu.c **** #if defined AK89xx_SECONDARY
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 11


 544:DMP/driver/eMPL/inv_mpu.c ****                         ,
 545:DMP/driver/eMPL/inv_mpu.c ****                         .compass_fsr = AK89xx_FSR
 546:DMP/driver/eMPL/inv_mpu.c **** #endif
 547:DMP/driver/eMPL/inv_mpu.c **** };
 548:DMP/driver/eMPL/inv_mpu.c **** 
 549:DMP/driver/eMPL/inv_mpu.c **** const struct test_s test = {.gyro_sens = 32768 / 250,
 550:DMP/driver/eMPL/inv_mpu.c ****                             .accel_sens = 32768 / 16,
 551:DMP/driver/eMPL/inv_mpu.c ****                             .reg_rate_div = 0,     /* 1kHz. */
 552:DMP/driver/eMPL/inv_mpu.c ****                             .reg_lpf = 1,          /* 188Hz. */
 553:DMP/driver/eMPL/inv_mpu.c ****                             .reg_gyro_fsr = 0,     /* 250dps. */
 554:DMP/driver/eMPL/inv_mpu.c ****                             .reg_accel_fsr = 0x18, /* 16g. */
 555:DMP/driver/eMPL/inv_mpu.c ****                             .wait_ms = 50,
 556:DMP/driver/eMPL/inv_mpu.c ****                             .packet_thresh = 5, /* 5% */
 557:DMP/driver/eMPL/inv_mpu.c ****                             .min_dps = 10.f,
 558:DMP/driver/eMPL/inv_mpu.c ****                             .max_dps = 105.f,
 559:DMP/driver/eMPL/inv_mpu.c ****                             .max_gyro_var = 0.14f,
 560:DMP/driver/eMPL/inv_mpu.c ****                             .min_g = 0.3f,
 561:DMP/driver/eMPL/inv_mpu.c ****                             .max_g = 0.95f,
 562:DMP/driver/eMPL/inv_mpu.c ****                             .max_accel_var = 0.14f};
 563:DMP/driver/eMPL/inv_mpu.c **** 
 564:DMP/driver/eMPL/inv_mpu.c **** static struct gyro_state_s st = {.reg = &reg, .hw = &hw, .test = &test};
 565:DMP/driver/eMPL/inv_mpu.c **** #elif defined MPU6500
 566:DMP/driver/eMPL/inv_mpu.c **** const struct gyro_reg_s reg = {.who_am_i = 0x75,
 567:DMP/driver/eMPL/inv_mpu.c ****                                .rate_div = 0x19,
 568:DMP/driver/eMPL/inv_mpu.c ****                                .lpf = 0x1A,
 569:DMP/driver/eMPL/inv_mpu.c ****                                .prod_id = 0x0C,
 570:DMP/driver/eMPL/inv_mpu.c ****                                .user_ctrl = 0x6A,
 571:DMP/driver/eMPL/inv_mpu.c ****                                .fifo_en = 0x23,
 572:DMP/driver/eMPL/inv_mpu.c ****                                .gyro_cfg = 0x1B,
 573:DMP/driver/eMPL/inv_mpu.c ****                                .accel_cfg = 0x1C,
 574:DMP/driver/eMPL/inv_mpu.c ****                                .accel_cfg2 = 0x1D,
 575:DMP/driver/eMPL/inv_mpu.c ****                                .lp_accel_odr = 0x1E,
 576:DMP/driver/eMPL/inv_mpu.c ****                                .motion_thr = 0x1F,
 577:DMP/driver/eMPL/inv_mpu.c ****                                .motion_dur = 0x20,
 578:DMP/driver/eMPL/inv_mpu.c ****                                .fifo_count_h = 0x72,
 579:DMP/driver/eMPL/inv_mpu.c ****                                .fifo_r_w = 0x74,
 580:DMP/driver/eMPL/inv_mpu.c ****                                .raw_gyro = 0x43,
 581:DMP/driver/eMPL/inv_mpu.c ****                                .raw_accel = 0x3B,
 582:DMP/driver/eMPL/inv_mpu.c ****                                .temp = 0x41,
 583:DMP/driver/eMPL/inv_mpu.c ****                                .int_enable = 0x38,
 584:DMP/driver/eMPL/inv_mpu.c ****                                .dmp_int_status = 0x39,
 585:DMP/driver/eMPL/inv_mpu.c ****                                .int_status = 0x3A,
 586:DMP/driver/eMPL/inv_mpu.c ****                                .accel_intel = 0x69,
 587:DMP/driver/eMPL/inv_mpu.c ****                                .pwr_mgmt_1 = 0x6B,
 588:DMP/driver/eMPL/inv_mpu.c ****                                .pwr_mgmt_2 = 0x6C,
 589:DMP/driver/eMPL/inv_mpu.c ****                                .int_pin_cfg = 0x37,
 590:DMP/driver/eMPL/inv_mpu.c ****                                .mem_r_w = 0x6F,
 591:DMP/driver/eMPL/inv_mpu.c ****                                .accel_offs = 0x77,
 592:DMP/driver/eMPL/inv_mpu.c ****                                .i2c_mst = 0x24,
 593:DMP/driver/eMPL/inv_mpu.c ****                                .bank_sel = 0x6D,
 594:DMP/driver/eMPL/inv_mpu.c ****                                .mem_start_addr = 0x6E,
 595:DMP/driver/eMPL/inv_mpu.c ****                                .prgm_start_h = 0x70
 596:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
 597:DMP/driver/eMPL/inv_mpu.c ****                                ,
 598:DMP/driver/eMPL/inv_mpu.c ****                                .raw_compass = 0x49,
 599:DMP/driver/eMPL/inv_mpu.c ****                                .s0_addr = 0x25,
 600:DMP/driver/eMPL/inv_mpu.c ****                                .s0_reg = 0x26,
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 12


 601:DMP/driver/eMPL/inv_mpu.c ****                                .s0_ctrl = 0x27,
 602:DMP/driver/eMPL/inv_mpu.c ****                                .s1_addr = 0x28,
 603:DMP/driver/eMPL/inv_mpu.c ****                                .s1_reg = 0x29,
 604:DMP/driver/eMPL/inv_mpu.c ****                                .s1_ctrl = 0x2A,
 605:DMP/driver/eMPL/inv_mpu.c ****                                .s4_ctrl = 0x34,
 606:DMP/driver/eMPL/inv_mpu.c ****                                .s0_do = 0x63,
 607:DMP/driver/eMPL/inv_mpu.c ****                                .s1_do = 0x64,
 608:DMP/driver/eMPL/inv_mpu.c ****                                .i2c_delay_ctrl = 0x67
 609:DMP/driver/eMPL/inv_mpu.c **** #endif
 610:DMP/driver/eMPL/inv_mpu.c **** };
 611:DMP/driver/eMPL/inv_mpu.c **** const struct hw_s hw = {.addr = 0x68,
 612:DMP/driver/eMPL/inv_mpu.c ****                         .max_fifo = 1024,
 613:DMP/driver/eMPL/inv_mpu.c ****                         .num_reg = 128,
 614:DMP/driver/eMPL/inv_mpu.c ****                         .temp_sens = 321,
 615:DMP/driver/eMPL/inv_mpu.c ****                         .temp_offset = 0,
 616:DMP/driver/eMPL/inv_mpu.c ****                         .bank_size = 256
 617:DMP/driver/eMPL/inv_mpu.c **** #if defined AK89xx_SECONDARY
 618:DMP/driver/eMPL/inv_mpu.c ****                         ,
 619:DMP/driver/eMPL/inv_mpu.c ****                         .compass_fsr = AK89xx_FSR
 620:DMP/driver/eMPL/inv_mpu.c **** #endif
 621:DMP/driver/eMPL/inv_mpu.c **** };
 622:DMP/driver/eMPL/inv_mpu.c **** 
 623:DMP/driver/eMPL/inv_mpu.c **** const struct test_s test = {
 624:DMP/driver/eMPL/inv_mpu.c ****     .gyro_sens = 32768 / 250,
 625:DMP/driver/eMPL/inv_mpu.c ****     .accel_sens = 32768 / 2, // FSR = +-2G = 16384 LSB/G
 626:DMP/driver/eMPL/inv_mpu.c ****     .reg_rate_div = 0,       /* 1kHz. */
 627:DMP/driver/eMPL/inv_mpu.c ****     .reg_lpf = 2,            /* 92Hz low pass filter*/
 628:DMP/driver/eMPL/inv_mpu.c ****     .reg_gyro_fsr = 0,       /* 250dps. */
 629:DMP/driver/eMPL/inv_mpu.c ****     .reg_accel_fsr = 0x0,    /* Accel FSR setting = 2g. */
 630:DMP/driver/eMPL/inv_mpu.c ****     .wait_ms = 200,          // 200ms stabilization time
 631:DMP/driver/eMPL/inv_mpu.c ****     .packet_thresh = 200,    /* 200 samples */
 632:DMP/driver/eMPL/inv_mpu.c ****     .min_dps = 20.f,         // 20 dps for Gyro Criteria C
 633:DMP/driver/eMPL/inv_mpu.c ****     .max_dps = 60.f,         // Must exceed 60 dps threshold for Gyro Criteria B
 634:DMP/driver/eMPL/inv_mpu.c ****     .max_gyro_var = .5f,     // Must exceed +50% variation for Gyro Criteria A
 635:DMP/driver/eMPL/inv_mpu.c ****     .min_g = .225f,          // Accel must exceed Min 225 mg for Criteria B
 636:DMP/driver/eMPL/inv_mpu.c ****     .max_g = .675f,          // Accel cannot exceed Max 675 mg for Criteria B
 637:DMP/driver/eMPL/inv_mpu.c ****     .max_accel_var = .5f, // Accel must be within 50% variation for Criteria A
 638:DMP/driver/eMPL/inv_mpu.c ****     .max_g_offset = .5f,  // 500 mg for Accel Criteria C
 639:DMP/driver/eMPL/inv_mpu.c ****     .sample_wait_ms = 10  // 10ms sample time wait
 640:DMP/driver/eMPL/inv_mpu.c **** };
 641:DMP/driver/eMPL/inv_mpu.c **** 
 642:DMP/driver/eMPL/inv_mpu.c **** static struct gyro_state_s st = {.reg = &reg, .hw = &hw, .test = &test};
 643:DMP/driver/eMPL/inv_mpu.c **** #endif
 644:DMP/driver/eMPL/inv_mpu.c **** 
 645:DMP/driver/eMPL/inv_mpu.c **** #define MAX_PACKET_LENGTH (12)
 646:DMP/driver/eMPL/inv_mpu.c **** #ifdef MPU6500
 647:DMP/driver/eMPL/inv_mpu.c **** #define HWST_MAX_PACKET_LENGTH (512)
 648:DMP/driver/eMPL/inv_mpu.c **** #endif
 649:DMP/driver/eMPL/inv_mpu.c **** 
 650:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
 651:DMP/driver/eMPL/inv_mpu.c **** static int setup_compass(void);
 652:DMP/driver/eMPL/inv_mpu.c **** #define MAX_COMPASS_SAMPLE_RATE (100)
 653:DMP/driver/eMPL/inv_mpu.c **** #endif
 654:DMP/driver/eMPL/inv_mpu.c **** 
 655:DMP/driver/eMPL/inv_mpu.c **** /**
 656:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Enable/disable data ready interrupt.
 657:DMP/driver/eMPL/inv_mpu.c ****  *  If the DMP is on, the DMP interrupt is enabled. Otherwise, the data ready
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 13


 658:DMP/driver/eMPL/inv_mpu.c ****  *  interrupt is used.
 659:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  enable      1 to enable interrupt.
 660:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
 661:DMP/driver/eMPL/inv_mpu.c ****  */
 662:DMP/driver/eMPL/inv_mpu.c **** static int set_int_enable(unsigned char enable) {
  29              		.loc 1 662 49 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 8
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		.loc 1 662 49 is_stmt 0 view .LVU1
  34 0000 00B5     		push	{lr}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 4
  37              		.cfi_offset 14, -4
  38 0002 83B0     		sub	sp, sp, #12
  39              	.LCFI1:
  40              		.cfi_def_cfa_offset 16
 663:DMP/driver/eMPL/inv_mpu.c ****   unsigned char tmp;
  41              		.loc 1 663 3 is_stmt 1 view .LVU2
 664:DMP/driver/eMPL/inv_mpu.c **** 
 665:DMP/driver/eMPL/inv_mpu.c ****   if (st.chip_cfg.dmp_on) {
  42              		.loc 1 665 3 view .LVU3
  43              		.loc 1 665 18 is_stmt 0 view .LVU4
  44 0004 234B     		ldr	r3, .L13
  45 0006 93F82430 		ldrb	r3, [r3, #36]	@ zero_extendqisi2
  46              		.loc 1 665 6 view .LVU5
  47 000a CBB1     		cbz	r3, .L2
 666:DMP/driver/eMPL/inv_mpu.c ****     if (enable)
  48              		.loc 1 666 5 is_stmt 1 view .LVU6
  49              		.loc 1 666 8 is_stmt 0 view .LVU7
  50 000c A0B1     		cbz	r0, .L3
 667:DMP/driver/eMPL/inv_mpu.c ****       tmp = BIT_DMP_INT_EN;
  51              		.loc 1 667 7 is_stmt 1 view .LVU8
  52              		.loc 1 667 11 is_stmt 0 view .LVU9
  53 000e 0223     		movs	r3, #2
  54 0010 8DF80730 		strb	r3, [sp, #7]
  55              	.L4:
 668:DMP/driver/eMPL/inv_mpu.c ****     else
 669:DMP/driver/eMPL/inv_mpu.c ****       tmp = 0x00;
 670:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->int_enable, 1, &tmp))
  56              		.loc 1 670 5 is_stmt 1 view .LVU10
  57              		.loc 1 670 21 is_stmt 0 view .LVU11
  58 0014 1F4B     		ldr	r3, .L13
  59 0016 5868     		ldr	r0, [r3, #4]
  60              	.LVL1:
  61              		.loc 1 670 34 view .LVU12
  62 0018 1968     		ldr	r1, [r3]
  63              		.loc 1 670 9 view .LVU13
  64 001a 0DF10703 		add	r3, sp, #7
  65 001e 0122     		movs	r2, #1
  66 0020 497C     		ldrb	r1, [r1, #17]	@ zero_extendqisi2
  67 0022 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
  68 0024 FFF7FEFF 		bl	MPU_Write_Len
  69              	.LVL2:
  70              		.loc 1 670 8 view .LVU14
  71 0028 40BB     		cbnz	r0, .L8
 671:DMP/driver/eMPL/inv_mpu.c ****       return -1;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 14


 672:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.int_enable = tmp;
  72              		.loc 1 672 5 is_stmt 1 view .LVU15
  73              		.loc 1 672 28 is_stmt 0 view .LVU16
  74 002a 9DF80720 		ldrb	r2, [sp, #7]	@ zero_extendqisi2
  75 002e 194B     		ldr	r3, .L13
  76 0030 5A74     		strb	r2, [r3, #17]
  77              	.L1:
 673:DMP/driver/eMPL/inv_mpu.c ****   } else {
 674:DMP/driver/eMPL/inv_mpu.c ****     if (!st.chip_cfg.sensors)
 675:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 676:DMP/driver/eMPL/inv_mpu.c ****     if (enable && st.chip_cfg.int_enable)
 677:DMP/driver/eMPL/inv_mpu.c ****       return 0;
 678:DMP/driver/eMPL/inv_mpu.c ****     if (enable)
 679:DMP/driver/eMPL/inv_mpu.c ****       tmp = BIT_DATA_RDY_EN;
 680:DMP/driver/eMPL/inv_mpu.c ****     else
 681:DMP/driver/eMPL/inv_mpu.c ****       tmp = 0x00;
 682:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->int_enable, 1, &tmp))
 683:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 684:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.int_enable = tmp;
 685:DMP/driver/eMPL/inv_mpu.c ****   }
 686:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 687:DMP/driver/eMPL/inv_mpu.c **** }
  78              		.loc 1 687 1 view .LVU17
  79 0032 03B0     		add	sp, sp, #12
  80              	.LCFI2:
  81              		.cfi_remember_state
  82              		.cfi_def_cfa_offset 4
  83              		@ sp needed
  84 0034 5DF804FB 		ldr	pc, [sp], #4
  85              	.LVL3:
  86              	.L3:
  87              	.LCFI3:
  88              		.cfi_restore_state
 669:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->int_enable, 1, &tmp))
  89              		.loc 1 669 7 is_stmt 1 view .LVU18
 669:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->int_enable, 1, &tmp))
  90              		.loc 1 669 11 is_stmt 0 view .LVU19
  91 0038 0023     		movs	r3, #0
  92 003a 8DF80730 		strb	r3, [sp, #7]
  93 003e E9E7     		b	.L4
  94              	.L2:
 674:DMP/driver/eMPL/inv_mpu.c ****       return -1;
  95              		.loc 1 674 5 is_stmt 1 view .LVU20
 674:DMP/driver/eMPL/inv_mpu.c ****       return -1;
  96              		.loc 1 674 21 is_stmt 0 view .LVU21
  97 0040 144B     		ldr	r3, .L13
  98 0042 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 674:DMP/driver/eMPL/inv_mpu.c ****       return -1;
  99              		.loc 1 674 8 view .LVU22
 100 0044 EBB1     		cbz	r3, .L9
 676:DMP/driver/eMPL/inv_mpu.c ****       return 0;
 101              		.loc 1 676 5 is_stmt 1 view .LVU23
 676:DMP/driver/eMPL/inv_mpu.c ****       return 0;
 102              		.loc 1 676 8 is_stmt 0 view .LVU24
 103 0046 30B1     		cbz	r0, .L6
 676:DMP/driver/eMPL/inv_mpu.c ****       return 0;
 104              		.loc 1 676 30 discriminator 1 view .LVU25
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 15


 105 0048 124B     		ldr	r3, .L13
 106 004a 5B7C     		ldrb	r3, [r3, #17]	@ zero_extendqisi2
 676:DMP/driver/eMPL/inv_mpu.c ****       return 0;
 107              		.loc 1 676 16 discriminator 1 view .LVU26
 108 004c E3B9     		cbnz	r3, .L10
 678:DMP/driver/eMPL/inv_mpu.c ****       tmp = BIT_DATA_RDY_EN;
 109              		.loc 1 678 5 is_stmt 1 view .LVU27
 679:DMP/driver/eMPL/inv_mpu.c ****     else
 110              		.loc 1 679 7 view .LVU28
 679:DMP/driver/eMPL/inv_mpu.c ****     else
 111              		.loc 1 679 11 is_stmt 0 view .LVU29
 112 004e 0123     		movs	r3, #1
 113 0050 8DF80730 		strb	r3, [sp, #7]
 114 0054 02E0     		b	.L7
 115              	.L6:
 681:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->int_enable, 1, &tmp))
 116              		.loc 1 681 7 is_stmt 1 view .LVU30
 681:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->int_enable, 1, &tmp))
 117              		.loc 1 681 11 is_stmt 0 view .LVU31
 118 0056 0023     		movs	r3, #0
 119 0058 8DF80730 		strb	r3, [sp, #7]
 120              	.L7:
 682:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 121              		.loc 1 682 5 is_stmt 1 view .LVU32
 682:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 122              		.loc 1 682 21 is_stmt 0 view .LVU33
 123 005c 0D4B     		ldr	r3, .L13
 124 005e 5868     		ldr	r0, [r3, #4]
 125              	.LVL4:
 682:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 126              		.loc 1 682 34 view .LVU34
 127 0060 1968     		ldr	r1, [r3]
 682:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 128              		.loc 1 682 9 view .LVU35
 129 0062 0DF10703 		add	r3, sp, #7
 130 0066 0122     		movs	r2, #1
 131 0068 497C     		ldrb	r1, [r1, #17]	@ zero_extendqisi2
 132 006a 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 133 006c FFF7FEFF 		bl	MPU_Write_Len
 134              	.LVL5:
 682:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 135              		.loc 1 682 8 view .LVU36
 136 0070 60B9     		cbnz	r0, .L11
 684:DMP/driver/eMPL/inv_mpu.c ****   }
 137              		.loc 1 684 5 is_stmt 1 view .LVU37
 684:DMP/driver/eMPL/inv_mpu.c ****   }
 138              		.loc 1 684 28 is_stmt 0 view .LVU38
 139 0072 9DF80720 		ldrb	r2, [sp, #7]	@ zero_extendqisi2
 140 0076 074B     		ldr	r3, .L13
 141 0078 5A74     		strb	r2, [r3, #17]
 142 007a DAE7     		b	.L1
 143              	.L8:
 671:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.int_enable = tmp;
 144              		.loc 1 671 14 view .LVU39
 145 007c 4FF0FF30 		mov	r0, #-1
 146 0080 D7E7     		b	.L1
 147              	.LVL6:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 16


 148              	.L9:
 675:DMP/driver/eMPL/inv_mpu.c ****     if (enable && st.chip_cfg.int_enable)
 149              		.loc 1 675 14 view .LVU40
 150 0082 4FF0FF30 		mov	r0, #-1
 151              	.LVL7:
 675:DMP/driver/eMPL/inv_mpu.c ****     if (enable && st.chip_cfg.int_enable)
 152              		.loc 1 675 14 view .LVU41
 153 0086 D4E7     		b	.L1
 154              	.LVL8:
 155              	.L10:
 677:DMP/driver/eMPL/inv_mpu.c ****     if (enable)
 156              		.loc 1 677 14 view .LVU42
 157 0088 0020     		movs	r0, #0
 158              	.LVL9:
 677:DMP/driver/eMPL/inv_mpu.c ****     if (enable)
 159              		.loc 1 677 14 view .LVU43
 160 008a D2E7     		b	.L1
 161              	.L11:
 683:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.int_enable = tmp;
 162              		.loc 1 683 14 view .LVU44
 163 008c 4FF0FF30 		mov	r0, #-1
 164 0090 CFE7     		b	.L1
 165              	.L14:
 166 0092 00BF     		.align	2
 167              	.L13:
 168 0094 00000000 		.word	st
 169              		.cfi_endproc
 170              	.LFE169:
 172              		.global	__aeabi_ldivmod
 173              		.section	.text.get_st_biases,"ax",%progbits
 174              		.align	1
 175              		.syntax unified
 176              		.thumb
 177              		.thumb_func
 179              	get_st_biases:
 180              	.LVL10:
 181              	.LFB207:
 688:DMP/driver/eMPL/inv_mpu.c **** 
 689:DMP/driver/eMPL/inv_mpu.c **** /**
 690:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Register dump for testing.
 691:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
 692:DMP/driver/eMPL/inv_mpu.c ****  */
 693:DMP/driver/eMPL/inv_mpu.c **** int mpu_reg_dump(void) {
 694:DMP/driver/eMPL/inv_mpu.c ****   unsigned char ii;
 695:DMP/driver/eMPL/inv_mpu.c ****   unsigned char data;
 696:DMP/driver/eMPL/inv_mpu.c **** 
 697:DMP/driver/eMPL/inv_mpu.c ****   for (ii = 0; ii < st.hw->num_reg; ii++) {
 698:DMP/driver/eMPL/inv_mpu.c ****     if (ii == st.reg->fifo_r_w || ii == st.reg->mem_r_w)
 699:DMP/driver/eMPL/inv_mpu.c ****       continue;
 700:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_read(st.hw->addr, ii, 1, &data))
 701:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 702:DMP/driver/eMPL/inv_mpu.c ****     log_i("%#5x: %#5x\r\n", ii, data);
 703:DMP/driver/eMPL/inv_mpu.c ****   }
 704:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 705:DMP/driver/eMPL/inv_mpu.c **** }
 706:DMP/driver/eMPL/inv_mpu.c **** 
 707:DMP/driver/eMPL/inv_mpu.c **** /**
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 17


 708:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Read from a single register.
 709:DMP/driver/eMPL/inv_mpu.c ****  *  NOTE: The memory and FIFO read/write registers cannot be accessed.
 710:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  reg     Register address.
 711:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] data    Register data.
 712:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
 713:DMP/driver/eMPL/inv_mpu.c ****  */
 714:DMP/driver/eMPL/inv_mpu.c **** int mpu_read_reg(unsigned char reg, unsigned char *data) {
 715:DMP/driver/eMPL/inv_mpu.c ****   if (reg == st.reg->fifo_r_w || reg == st.reg->mem_r_w)
 716:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 717:DMP/driver/eMPL/inv_mpu.c ****   if (reg >= st.hw->num_reg)
 718:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 719:DMP/driver/eMPL/inv_mpu.c ****   return i2c_read(st.hw->addr, reg, 1, data);
 720:DMP/driver/eMPL/inv_mpu.c **** }
 721:DMP/driver/eMPL/inv_mpu.c **** 
 722:DMP/driver/eMPL/inv_mpu.c **** /**
 723:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Initialize hardware.
 724:DMP/driver/eMPL/inv_mpu.c ****  *  Initial configuration:\n
 725:DMP/driver/eMPL/inv_mpu.c ****  *  Gyro FSR: +/- 2000DPS\n
 726:DMP/driver/eMPL/inv_mpu.c ****  *  Accel FSR +/- 2G\n
 727:DMP/driver/eMPL/inv_mpu.c ****  *  DLPF: 42Hz\n
 728:DMP/driver/eMPL/inv_mpu.c ****  *  FIFO rate: 50Hz\n
 729:DMP/driver/eMPL/inv_mpu.c ****  *  Clock source: Gyro PLL\n
 730:DMP/driver/eMPL/inv_mpu.c ****  *  FIFO: Disabled.\n
 731:DMP/driver/eMPL/inv_mpu.c ****  *  Data ready interrupt: Disabled, active low, unlatched.
 732:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  int_param   Platform-specific parameters to interrupt API.
 733:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
 734:DMP/driver/eMPL/inv_mpu.c ****  */
 735:DMP/driver/eMPL/inv_mpu.c **** int mpu_init(struct int_param_s *int_param) {
 736:DMP/driver/eMPL/inv_mpu.c ****   unsigned char data[6];
 737:DMP/driver/eMPL/inv_mpu.c **** 
 738:DMP/driver/eMPL/inv_mpu.c ****   /* Reset device. */
 739:DMP/driver/eMPL/inv_mpu.c ****   data[0] = BIT_RESET;
 740:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 1, data))
 741:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 742:DMP/driver/eMPL/inv_mpu.c ****   delay_ms(100);
 743:DMP/driver/eMPL/inv_mpu.c **** 
 744:DMP/driver/eMPL/inv_mpu.c ****   /* Wake up chip. */
 745:DMP/driver/eMPL/inv_mpu.c ****   data[0] = 0x00;
 746:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 1, data))
 747:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 748:DMP/driver/eMPL/inv_mpu.c **** 
 749:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.accel_half = 0;
 750:DMP/driver/eMPL/inv_mpu.c **** 
 751:DMP/driver/eMPL/inv_mpu.c **** #ifdef MPU6500
 752:DMP/driver/eMPL/inv_mpu.c ****   /* MPU6500 shares 4kB of memory between the DMP and the FIFO. Since the
 753:DMP/driver/eMPL/inv_mpu.c ****    * first 3kB are needed by the DMP, we'll use the last 1kB for the FIFO.
 754:DMP/driver/eMPL/inv_mpu.c ****    */
 755:DMP/driver/eMPL/inv_mpu.c ****   data[0] = BIT_FIFO_SIZE_1024 | 0x8;
 756:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->accel_cfg2, 1, data))
 757:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 758:DMP/driver/eMPL/inv_mpu.c **** #endif
 759:DMP/driver/eMPL/inv_mpu.c **** 
 760:DMP/driver/eMPL/inv_mpu.c ****   /* Set to invalid values to ensure no I2C writes are skipped. */
 761:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.sensors = 0xFF;
 762:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.gyro_fsr = 0xFF;
 763:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.accel_fsr = 0xFF;
 764:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.lpf = 0xFF;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 18


 765:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.sample_rate = 0xFFFF;
 766:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.fifo_enable = 0xFF;
 767:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.bypass_mode = 0xFF;
 768:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
 769:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.compass_sample_rate = 0xFFFF;
 770:DMP/driver/eMPL/inv_mpu.c **** #endif
 771:DMP/driver/eMPL/inv_mpu.c ****   /* mpu_set_sensors always preserves this setting. */
 772:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.clk_src = INV_CLK_PLL;
 773:DMP/driver/eMPL/inv_mpu.c ****   /* Handled in next call to mpu_set_bypass. */
 774:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.active_low_int = 1;
 775:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.latched_int = 0;
 776:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.int_motion_only = 0;
 777:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.lp_accel_mode = 0;
 778:DMP/driver/eMPL/inv_mpu.c ****   memset(&st.chip_cfg.cache, 0, sizeof(st.chip_cfg.cache));
 779:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.dmp_on = 0;
 780:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.dmp_loaded = 0;
 781:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.dmp_sample_rate = 0;
 782:DMP/driver/eMPL/inv_mpu.c **** 
 783:DMP/driver/eMPL/inv_mpu.c ****   if (mpu_set_gyro_fsr(2000))
 784:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 785:DMP/driver/eMPL/inv_mpu.c ****   if (mpu_set_accel_fsr(2))
 786:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 787:DMP/driver/eMPL/inv_mpu.c ****   if (mpu_set_lpf(42))
 788:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 789:DMP/driver/eMPL/inv_mpu.c ****   if (mpu_set_sample_rate(50))
 790:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 791:DMP/driver/eMPL/inv_mpu.c ****   if (mpu_configure_fifo(0))
 792:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 793:DMP/driver/eMPL/inv_mpu.c **** 
 794:DMP/driver/eMPL/inv_mpu.c **** #ifndef EMPL_TARGET_STM32F4
 795:DMP/driver/eMPL/inv_mpu.c ****   if (int_param)
 796:DMP/driver/eMPL/inv_mpu.c ****     reg_int_cb(int_param);
 797:DMP/driver/eMPL/inv_mpu.c **** #endif
 798:DMP/driver/eMPL/inv_mpu.c **** 
 799:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
 800:DMP/driver/eMPL/inv_mpu.c ****   setup_compass();
 801:DMP/driver/eMPL/inv_mpu.c ****   if (mpu_set_compass_sample_rate(10))
 802:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 803:DMP/driver/eMPL/inv_mpu.c **** #else
 804:DMP/driver/eMPL/inv_mpu.c ****   /* Already disabled by setup_compass. */
 805:DMP/driver/eMPL/inv_mpu.c ****   if (mpu_set_bypass(0))
 806:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 807:DMP/driver/eMPL/inv_mpu.c **** #endif
 808:DMP/driver/eMPL/inv_mpu.c **** 
 809:DMP/driver/eMPL/inv_mpu.c ****   mpu_set_sensors(0);
 810:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 811:DMP/driver/eMPL/inv_mpu.c **** }
 812:DMP/driver/eMPL/inv_mpu.c **** 
 813:DMP/driver/eMPL/inv_mpu.c **** /**
 814:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Enter low-power accel-only mode.
 815:DMP/driver/eMPL/inv_mpu.c ****  *  In low-power accel mode, the chip goes to sleep and only wakes up to sample
 816:DMP/driver/eMPL/inv_mpu.c ****  *  the accelerometer at one of the following frequencies:
 817:DMP/driver/eMPL/inv_mpu.c ****  *  \n MPU6050: 1.25Hz, 5Hz, 20Hz, 40Hz
 818:DMP/driver/eMPL/inv_mpu.c ****  *  \n MPU6500: 1.25Hz, 2.5Hz, 5Hz, 10Hz, 20Hz, 40Hz, 80Hz, 160Hz, 320Hz, 640Hz
 819:DMP/driver/eMPL/inv_mpu.c ****  *  \n If the requested rate is not one listed above, the device will be set to
 820:DMP/driver/eMPL/inv_mpu.c ****  *  the next highest rate. Requesting a rate above the maximum supported
 821:DMP/driver/eMPL/inv_mpu.c ****  *  frequency will result in an error.
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 19


 822:DMP/driver/eMPL/inv_mpu.c ****  *  \n To select a fractional wake-up frequency, round down the value passed to
 823:DMP/driver/eMPL/inv_mpu.c ****  *  @e rate.
 824:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  rate        Minimum sampling rate, or zero to disable LP
 825:DMP/driver/eMPL/inv_mpu.c ****  *                          accel mode.
 826:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
 827:DMP/driver/eMPL/inv_mpu.c ****  */
 828:DMP/driver/eMPL/inv_mpu.c **** int mpu_lp_accel_mode(unsigned short rate) {
 829:DMP/driver/eMPL/inv_mpu.c ****   unsigned char tmp[2];
 830:DMP/driver/eMPL/inv_mpu.c **** 
 831:DMP/driver/eMPL/inv_mpu.c ****   if (rate > 40)
 832:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 833:DMP/driver/eMPL/inv_mpu.c **** 
 834:DMP/driver/eMPL/inv_mpu.c ****   if (!rate) {
 835:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_int_latched(0);
 836:DMP/driver/eMPL/inv_mpu.c ****     tmp[0] = 0;
 837:DMP/driver/eMPL/inv_mpu.c ****     tmp[1] = BIT_STBY_XYZG;
 838:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 2, tmp))
 839:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 840:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.lp_accel_mode = 0;
 841:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 842:DMP/driver/eMPL/inv_mpu.c ****   }
 843:DMP/driver/eMPL/inv_mpu.c ****   /* For LP accel, we automatically configure the hardware to produce latched
 844:DMP/driver/eMPL/inv_mpu.c ****    * interrupts. In LP accel mode, the hardware cycles into sleep mode before
 845:DMP/driver/eMPL/inv_mpu.c ****    * it gets a chance to deassert the interrupt pin; therefore, we shift this
 846:DMP/driver/eMPL/inv_mpu.c ****    * responsibility over to the MCU.
 847:DMP/driver/eMPL/inv_mpu.c ****    *
 848:DMP/driver/eMPL/inv_mpu.c ****    * Any register read will clear the interrupt.
 849:DMP/driver/eMPL/inv_mpu.c ****    */
 850:DMP/driver/eMPL/inv_mpu.c ****   mpu_set_int_latched(1);
 851:DMP/driver/eMPL/inv_mpu.c **** #if defined MPU6050
 852:DMP/driver/eMPL/inv_mpu.c ****   tmp[0] = BIT_LPA_CYCLE;
 853:DMP/driver/eMPL/inv_mpu.c ****   if (rate == 1) {
 854:DMP/driver/eMPL/inv_mpu.c ****     tmp[1] = INV_LPA_1_25HZ;
 855:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_lpf(5);
 856:DMP/driver/eMPL/inv_mpu.c ****   } else if (rate <= 5) {
 857:DMP/driver/eMPL/inv_mpu.c ****     tmp[1] = INV_LPA_5HZ;
 858:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_lpf(5);
 859:DMP/driver/eMPL/inv_mpu.c ****   } else if (rate <= 20) {
 860:DMP/driver/eMPL/inv_mpu.c ****     tmp[1] = INV_LPA_20HZ;
 861:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_lpf(10);
 862:DMP/driver/eMPL/inv_mpu.c ****   } else {
 863:DMP/driver/eMPL/inv_mpu.c ****     tmp[1] = INV_LPA_40HZ;
 864:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_lpf(20);
 865:DMP/driver/eMPL/inv_mpu.c ****   }
 866:DMP/driver/eMPL/inv_mpu.c ****   tmp[1] = (tmp[1] << 6) | BIT_STBY_XYZG;
 867:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 2, tmp))
 868:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 869:DMP/driver/eMPL/inv_mpu.c **** #elif defined MPU6500
 870:DMP/driver/eMPL/inv_mpu.c ****   /* Set wake frequency. */
 871:DMP/driver/eMPL/inv_mpu.c ****   if (rate == 1)
 872:DMP/driver/eMPL/inv_mpu.c ****     tmp[0] = INV_LPA_1_25HZ;
 873:DMP/driver/eMPL/inv_mpu.c ****   else if (rate == 2)
 874:DMP/driver/eMPL/inv_mpu.c ****     tmp[0] = INV_LPA_2_5HZ;
 875:DMP/driver/eMPL/inv_mpu.c ****   else if (rate <= 5)
 876:DMP/driver/eMPL/inv_mpu.c ****     tmp[0] = INV_LPA_5HZ;
 877:DMP/driver/eMPL/inv_mpu.c ****   else if (rate <= 10)
 878:DMP/driver/eMPL/inv_mpu.c ****     tmp[0] = INV_LPA_10HZ;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 20


 879:DMP/driver/eMPL/inv_mpu.c ****   else if (rate <= 20)
 880:DMP/driver/eMPL/inv_mpu.c ****     tmp[0] = INV_LPA_20HZ;
 881:DMP/driver/eMPL/inv_mpu.c ****   else if (rate <= 40)
 882:DMP/driver/eMPL/inv_mpu.c ****     tmp[0] = INV_LPA_40HZ;
 883:DMP/driver/eMPL/inv_mpu.c ****   else if (rate <= 80)
 884:DMP/driver/eMPL/inv_mpu.c ****     tmp[0] = INV_LPA_80HZ;
 885:DMP/driver/eMPL/inv_mpu.c ****   else if (rate <= 160)
 886:DMP/driver/eMPL/inv_mpu.c ****     tmp[0] = INV_LPA_160HZ;
 887:DMP/driver/eMPL/inv_mpu.c ****   else if (rate <= 320)
 888:DMP/driver/eMPL/inv_mpu.c ****     tmp[0] = INV_LPA_320HZ;
 889:DMP/driver/eMPL/inv_mpu.c ****   else
 890:DMP/driver/eMPL/inv_mpu.c ****     tmp[0] = INV_LPA_640HZ;
 891:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->lp_accel_odr, 1, tmp))
 892:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 893:DMP/driver/eMPL/inv_mpu.c ****   tmp[0] = BIT_LPA_CYCLE;
 894:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 1, tmp))
 895:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 896:DMP/driver/eMPL/inv_mpu.c **** #endif
 897:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.sensors = INV_XYZ_ACCEL;
 898:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.clk_src = 0;
 899:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.lp_accel_mode = 1;
 900:DMP/driver/eMPL/inv_mpu.c ****   mpu_configure_fifo(0);
 901:DMP/driver/eMPL/inv_mpu.c **** 
 902:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 903:DMP/driver/eMPL/inv_mpu.c **** }
 904:DMP/driver/eMPL/inv_mpu.c **** 
 905:DMP/driver/eMPL/inv_mpu.c **** /**
 906:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Read raw gyro data directly from the registers.
 907:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] data        Raw data in hardware units.
 908:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] timestamp   Timestamp in milliseconds. Null if not needed.
 909:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
 910:DMP/driver/eMPL/inv_mpu.c ****  */
 911:DMP/driver/eMPL/inv_mpu.c **** int mpu_get_gyro_reg(short *data, unsigned long *timestamp) {
 912:DMP/driver/eMPL/inv_mpu.c ****   unsigned char tmp[6];
 913:DMP/driver/eMPL/inv_mpu.c **** 
 914:DMP/driver/eMPL/inv_mpu.c ****   if (!(st.chip_cfg.sensors & INV_XYZ_GYRO))
 915:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 916:DMP/driver/eMPL/inv_mpu.c **** 
 917:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_read(st.hw->addr, st.reg->raw_gyro, 6, tmp))
 918:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 919:DMP/driver/eMPL/inv_mpu.c ****   data[0] = (tmp[0] << 8) | tmp[1];
 920:DMP/driver/eMPL/inv_mpu.c ****   data[1] = (tmp[2] << 8) | tmp[3];
 921:DMP/driver/eMPL/inv_mpu.c ****   data[2] = (tmp[4] << 8) | tmp[5];
 922:DMP/driver/eMPL/inv_mpu.c ****   if (timestamp)
 923:DMP/driver/eMPL/inv_mpu.c ****     get_ms(timestamp);
 924:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 925:DMP/driver/eMPL/inv_mpu.c **** }
 926:DMP/driver/eMPL/inv_mpu.c **** 
 927:DMP/driver/eMPL/inv_mpu.c **** /**
 928:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Read raw accel data directly from the registers.
 929:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] data        Raw data in hardware units.
 930:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] timestamp   Timestamp in milliseconds. Null if not needed.
 931:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
 932:DMP/driver/eMPL/inv_mpu.c ****  */
 933:DMP/driver/eMPL/inv_mpu.c **** int mpu_get_accel_reg(short *data, unsigned long *timestamp) {
 934:DMP/driver/eMPL/inv_mpu.c ****   unsigned char tmp[6];
 935:DMP/driver/eMPL/inv_mpu.c **** 
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 21


 936:DMP/driver/eMPL/inv_mpu.c ****   if (!(st.chip_cfg.sensors & INV_XYZ_ACCEL))
 937:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 938:DMP/driver/eMPL/inv_mpu.c **** 
 939:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_read(st.hw->addr, st.reg->raw_accel, 6, tmp))
 940:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 941:DMP/driver/eMPL/inv_mpu.c ****   data[0] = (tmp[0] << 8) | tmp[1];
 942:DMP/driver/eMPL/inv_mpu.c ****   data[1] = (tmp[2] << 8) | tmp[3];
 943:DMP/driver/eMPL/inv_mpu.c ****   data[2] = (tmp[4] << 8) | tmp[5];
 944:DMP/driver/eMPL/inv_mpu.c ****   if (timestamp)
 945:DMP/driver/eMPL/inv_mpu.c ****     get_ms(timestamp);
 946:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 947:DMP/driver/eMPL/inv_mpu.c **** }
 948:DMP/driver/eMPL/inv_mpu.c **** 
 949:DMP/driver/eMPL/inv_mpu.c **** /**
 950:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Read temperature data directly from the registers.
 951:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] data        Data in q16 format.
 952:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] timestamp   Timestamp in milliseconds. Null if not needed.
 953:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
 954:DMP/driver/eMPL/inv_mpu.c ****  */
 955:DMP/driver/eMPL/inv_mpu.c **** int mpu_get_temperature(long *data, unsigned long *timestamp) {
 956:DMP/driver/eMPL/inv_mpu.c ****   unsigned char tmp[2];
 957:DMP/driver/eMPL/inv_mpu.c ****   short raw;
 958:DMP/driver/eMPL/inv_mpu.c **** 
 959:DMP/driver/eMPL/inv_mpu.c ****   if (!(st.chip_cfg.sensors))
 960:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 961:DMP/driver/eMPL/inv_mpu.c **** 
 962:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_read(st.hw->addr, st.reg->temp, 2, tmp))
 963:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 964:DMP/driver/eMPL/inv_mpu.c ****   raw = (tmp[0] << 8) | tmp[1];
 965:DMP/driver/eMPL/inv_mpu.c ****   if (timestamp)
 966:DMP/driver/eMPL/inv_mpu.c ****     get_ms(timestamp);
 967:DMP/driver/eMPL/inv_mpu.c **** 
 968:DMP/driver/eMPL/inv_mpu.c ****   data[0] =
 969:DMP/driver/eMPL/inv_mpu.c ****       (long)((35 + ((raw - (float)st.hw->temp_offset) / st.hw->temp_sens)) *
 970:DMP/driver/eMPL/inv_mpu.c ****              65536L);
 971:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 972:DMP/driver/eMPL/inv_mpu.c **** }
 973:DMP/driver/eMPL/inv_mpu.c **** 
 974:DMP/driver/eMPL/inv_mpu.c **** /**
 975:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Read biases to the accel bias 6500 registers.
 976:DMP/driver/eMPL/inv_mpu.c ****  *  This function reads from the MPU6500 accel offset cancellations registers.
 977:DMP/driver/eMPL/inv_mpu.c ****  *  The format are G in +-8G format. The register is initialized with OTP
 978:DMP/driver/eMPL/inv_mpu.c ****  *  factory trim values.
 979:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  accel_bias  returned structure with the accel bias
 980:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
 981:DMP/driver/eMPL/inv_mpu.c ****  */
 982:DMP/driver/eMPL/inv_mpu.c **** int mpu_read_6500_accel_bias(long *accel_bias) {
 983:DMP/driver/eMPL/inv_mpu.c ****   unsigned char data[6];
 984:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_read(st.hw->addr, 0x77, 2, &data[0]))
 985:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 986:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_read(st.hw->addr, 0x7A, 2, &data[2]))
 987:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 988:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_read(st.hw->addr, 0x7D, 2, &data[4]))
 989:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 990:DMP/driver/eMPL/inv_mpu.c ****   accel_bias[0] = ((long)data[0] << 8) | data[1];
 991:DMP/driver/eMPL/inv_mpu.c ****   accel_bias[1] = ((long)data[2] << 8) | data[3];
 992:DMP/driver/eMPL/inv_mpu.c ****   accel_bias[2] = ((long)data[4] << 8) | data[5];
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 22


 993:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 994:DMP/driver/eMPL/inv_mpu.c **** }
 995:DMP/driver/eMPL/inv_mpu.c **** 
 996:DMP/driver/eMPL/inv_mpu.c **** /**
 997:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Read biases to the accel bias 6050 registers.
 998:DMP/driver/eMPL/inv_mpu.c ****  *  This function reads from the MPU6050 accel offset cancellations registers.
 999:DMP/driver/eMPL/inv_mpu.c ****  *  The format are G in +-8G format. The register is initialized with OTP
1000:DMP/driver/eMPL/inv_mpu.c ****  *  factory trim values.
1001:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  accel_bias  returned structure with the accel bias
1002:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
1003:DMP/driver/eMPL/inv_mpu.c ****  */
1004:DMP/driver/eMPL/inv_mpu.c **** int mpu_read_6050_accel_bias(long *accel_bias) {
1005:DMP/driver/eMPL/inv_mpu.c ****   unsigned char data[6];
1006:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_read(st.hw->addr, 0x06, 2, &data[0]))
1007:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1008:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_read(st.hw->addr, 0x08, 2, &data[2]))
1009:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1010:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_read(st.hw->addr, 0x0A, 2, &data[4]))
1011:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1012:DMP/driver/eMPL/inv_mpu.c ****   accel_bias[0] = ((long)data[0] << 8) | data[1];
1013:DMP/driver/eMPL/inv_mpu.c ****   accel_bias[1] = ((long)data[2] << 8) | data[3];
1014:DMP/driver/eMPL/inv_mpu.c ****   accel_bias[2] = ((long)data[4] << 8) | data[5];
1015:DMP/driver/eMPL/inv_mpu.c ****   return 0;
1016:DMP/driver/eMPL/inv_mpu.c **** }
1017:DMP/driver/eMPL/inv_mpu.c **** 
1018:DMP/driver/eMPL/inv_mpu.c **** int mpu_read_6500_gyro_bias(long *gyro_bias) {
1019:DMP/driver/eMPL/inv_mpu.c ****   unsigned char data[6];
1020:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_read(st.hw->addr, 0x13, 2, &data[0]))
1021:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1022:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_read(st.hw->addr, 0x15, 2, &data[2]))
1023:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1024:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_read(st.hw->addr, 0x17, 2, &data[4]))
1025:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1026:DMP/driver/eMPL/inv_mpu.c ****   gyro_bias[0] = ((long)data[0] << 8) | data[1];
1027:DMP/driver/eMPL/inv_mpu.c ****   gyro_bias[1] = ((long)data[2] << 8) | data[3];
1028:DMP/driver/eMPL/inv_mpu.c ****   gyro_bias[2] = ((long)data[4] << 8) | data[5];
1029:DMP/driver/eMPL/inv_mpu.c ****   return 0;
1030:DMP/driver/eMPL/inv_mpu.c **** }
1031:DMP/driver/eMPL/inv_mpu.c **** 
1032:DMP/driver/eMPL/inv_mpu.c **** /**
1033:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Push biases to the gyro bias 6500/6050 registers.
1034:DMP/driver/eMPL/inv_mpu.c ****  *  This function expects biases relative to the current sensor output, and
1035:DMP/driver/eMPL/inv_mpu.c ****  *  these biases will be added to the factory-supplied values. Bias inputs are
1036:DMP/driver/eMPL/inv_mpu.c ****  * LSB in +-1000dps format.
1037:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  gyro_bias  New biases.
1038:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
1039:DMP/driver/eMPL/inv_mpu.c ****  */
1040:DMP/driver/eMPL/inv_mpu.c **** int mpu_set_gyro_bias_reg(long *gyro_bias) {
1041:DMP/driver/eMPL/inv_mpu.c ****   unsigned char data[6] = {0, 0, 0, 0, 0, 0};
1042:DMP/driver/eMPL/inv_mpu.c ****   int i = 0;
1043:DMP/driver/eMPL/inv_mpu.c ****   for (i = 0; i < 3; i++) {
1044:DMP/driver/eMPL/inv_mpu.c ****     gyro_bias[i] = (-gyro_bias[i]);
1045:DMP/driver/eMPL/inv_mpu.c ****   }
1046:DMP/driver/eMPL/inv_mpu.c ****   data[0] = (gyro_bias[0] >> 8) & 0xff;
1047:DMP/driver/eMPL/inv_mpu.c ****   data[1] = (gyro_bias[0]) & 0xff;
1048:DMP/driver/eMPL/inv_mpu.c ****   data[2] = (gyro_bias[1] >> 8) & 0xff;
1049:DMP/driver/eMPL/inv_mpu.c ****   data[3] = (gyro_bias[1]) & 0xff;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 23


1050:DMP/driver/eMPL/inv_mpu.c ****   data[4] = (gyro_bias[2] >> 8) & 0xff;
1051:DMP/driver/eMPL/inv_mpu.c ****   data[5] = (gyro_bias[2]) & 0xff;
1052:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, 0x13, 2, &data[0]))
1053:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1054:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, 0x15, 2, &data[2]))
1055:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1056:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, 0x17, 2, &data[4]))
1057:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1058:DMP/driver/eMPL/inv_mpu.c ****   return 0;
1059:DMP/driver/eMPL/inv_mpu.c **** }
1060:DMP/driver/eMPL/inv_mpu.c **** 
1061:DMP/driver/eMPL/inv_mpu.c **** /**
1062:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Push biases to the accel bias 6050 registers.
1063:DMP/driver/eMPL/inv_mpu.c ****  *  This function expects biases relative to the current sensor output, and
1064:DMP/driver/eMPL/inv_mpu.c ****  *  these biases will be added to the factory-supplied values. Bias inputs are
1065:DMP/driver/eMPL/inv_mpu.c ****  * LSB in +-16G format.
1066:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  accel_bias  New biases.
1067:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
1068:DMP/driver/eMPL/inv_mpu.c ****  */
1069:DMP/driver/eMPL/inv_mpu.c **** int mpu_set_accel_bias_6050_reg(const long *accel_bias) {
1070:DMP/driver/eMPL/inv_mpu.c ****   unsigned char data[6] = {0, 0, 0, 0, 0, 0};
1071:DMP/driver/eMPL/inv_mpu.c ****   long accel_reg_bias[3] = {0, 0, 0};
1072:DMP/driver/eMPL/inv_mpu.c **** 
1073:DMP/driver/eMPL/inv_mpu.c ****   if (mpu_read_6050_accel_bias(accel_reg_bias))
1074:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1075:DMP/driver/eMPL/inv_mpu.c **** 
1076:DMP/driver/eMPL/inv_mpu.c ****   accel_reg_bias[0] -= (accel_bias[0] & ~1);
1077:DMP/driver/eMPL/inv_mpu.c ****   accel_reg_bias[1] -= (accel_bias[1] & ~1);
1078:DMP/driver/eMPL/inv_mpu.c ****   accel_reg_bias[2] -= (accel_bias[2] & ~1);
1079:DMP/driver/eMPL/inv_mpu.c **** 
1080:DMP/driver/eMPL/inv_mpu.c ****   data[0] = (accel_reg_bias[0] >> 8) & 0xff;
1081:DMP/driver/eMPL/inv_mpu.c ****   data[1] = (accel_reg_bias[0]) & 0xff;
1082:DMP/driver/eMPL/inv_mpu.c ****   data[2] = (accel_reg_bias[1] >> 8) & 0xff;
1083:DMP/driver/eMPL/inv_mpu.c ****   data[3] = (accel_reg_bias[1]) & 0xff;
1084:DMP/driver/eMPL/inv_mpu.c ****   data[4] = (accel_reg_bias[2] >> 8) & 0xff;
1085:DMP/driver/eMPL/inv_mpu.c ****   data[5] = (accel_reg_bias[2]) & 0xff;
1086:DMP/driver/eMPL/inv_mpu.c **** 
1087:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, 0x06, 2, &data[0]))
1088:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1089:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, 0x08, 2, &data[2]))
1090:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1091:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, 0x0A, 2, &data[4]))
1092:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1093:DMP/driver/eMPL/inv_mpu.c **** 
1094:DMP/driver/eMPL/inv_mpu.c ****   return 0;
1095:DMP/driver/eMPL/inv_mpu.c **** }
1096:DMP/driver/eMPL/inv_mpu.c **** 
1097:DMP/driver/eMPL/inv_mpu.c **** /**
1098:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Push biases to the accel bias 6500 registers.
1099:DMP/driver/eMPL/inv_mpu.c ****  *  This function expects biases relative to the current sensor output, and
1100:DMP/driver/eMPL/inv_mpu.c ****  *  these biases will be added to the factory-supplied values. Bias inputs are
1101:DMP/driver/eMPL/inv_mpu.c ****  * LSB in +-16G format.
1102:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  accel_bias  New biases.
1103:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
1104:DMP/driver/eMPL/inv_mpu.c ****  */
1105:DMP/driver/eMPL/inv_mpu.c **** int mpu_set_accel_bias_6500_reg(const long *accel_bias) {
1106:DMP/driver/eMPL/inv_mpu.c ****   unsigned char data[6] = {0, 0, 0, 0, 0, 0};
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 24


1107:DMP/driver/eMPL/inv_mpu.c ****   long accel_reg_bias[3] = {0, 0, 0};
1108:DMP/driver/eMPL/inv_mpu.c **** 
1109:DMP/driver/eMPL/inv_mpu.c ****   if (mpu_read_6500_accel_bias(accel_reg_bias))
1110:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1111:DMP/driver/eMPL/inv_mpu.c **** 
1112:DMP/driver/eMPL/inv_mpu.c ****   // Preserve bit 0 of factory value (for temperature compensation)
1113:DMP/driver/eMPL/inv_mpu.c ****   accel_reg_bias[0] -= (accel_bias[0] & ~1);
1114:DMP/driver/eMPL/inv_mpu.c ****   accel_reg_bias[1] -= (accel_bias[1] & ~1);
1115:DMP/driver/eMPL/inv_mpu.c ****   accel_reg_bias[2] -= (accel_bias[2] & ~1);
1116:DMP/driver/eMPL/inv_mpu.c **** 
1117:DMP/driver/eMPL/inv_mpu.c ****   data[0] = (accel_reg_bias[0] >> 8) & 0xff;
1118:DMP/driver/eMPL/inv_mpu.c ****   data[1] = (accel_reg_bias[0]) & 0xff;
1119:DMP/driver/eMPL/inv_mpu.c ****   data[2] = (accel_reg_bias[1] >> 8) & 0xff;
1120:DMP/driver/eMPL/inv_mpu.c ****   data[3] = (accel_reg_bias[1]) & 0xff;
1121:DMP/driver/eMPL/inv_mpu.c ****   data[4] = (accel_reg_bias[2] >> 8) & 0xff;
1122:DMP/driver/eMPL/inv_mpu.c ****   data[5] = (accel_reg_bias[2]) & 0xff;
1123:DMP/driver/eMPL/inv_mpu.c **** 
1124:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, 0x77, 2, &data[0]))
1125:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1126:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, 0x7A, 2, &data[2]))
1127:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1128:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, 0x7D, 2, &data[4]))
1129:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1130:DMP/driver/eMPL/inv_mpu.c **** 
1131:DMP/driver/eMPL/inv_mpu.c ****   return 0;
1132:DMP/driver/eMPL/inv_mpu.c **** }
1133:DMP/driver/eMPL/inv_mpu.c **** 
1134:DMP/driver/eMPL/inv_mpu.c **** /**
1135:DMP/driver/eMPL/inv_mpu.c ****  *  @brief  Reset FIFO read/write pointers.
1136:DMP/driver/eMPL/inv_mpu.c ****  *  @return 0 if successful.
1137:DMP/driver/eMPL/inv_mpu.c ****  */
1138:DMP/driver/eMPL/inv_mpu.c **** int mpu_reset_fifo(void) {
1139:DMP/driver/eMPL/inv_mpu.c ****   unsigned char data;
1140:DMP/driver/eMPL/inv_mpu.c **** 
1141:DMP/driver/eMPL/inv_mpu.c ****   if (!(st.chip_cfg.sensors))
1142:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1143:DMP/driver/eMPL/inv_mpu.c **** 
1144:DMP/driver/eMPL/inv_mpu.c ****   data = 0;
1145:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->int_enable, 1, &data))
1146:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1147:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->fifo_en, 1, &data))
1148:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1149:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &data))
1150:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1151:DMP/driver/eMPL/inv_mpu.c **** 
1152:DMP/driver/eMPL/inv_mpu.c ****   if (st.chip_cfg.dmp_on) {
1153:DMP/driver/eMPL/inv_mpu.c ****     data = BIT_FIFO_RST | BIT_DMP_RST;
1154:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &data))
1155:DMP/driver/eMPL/inv_mpu.c ****       return -1;
1156:DMP/driver/eMPL/inv_mpu.c ****     delay_ms(50);
1157:DMP/driver/eMPL/inv_mpu.c ****     data = BIT_DMP_EN | BIT_FIFO_EN;
1158:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.sensors & INV_XYZ_COMPASS)
1159:DMP/driver/eMPL/inv_mpu.c ****       data |= BIT_AUX_IF_EN;
1160:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &data))
1161:DMP/driver/eMPL/inv_mpu.c ****       return -1;
1162:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.int_enable)
1163:DMP/driver/eMPL/inv_mpu.c ****       data = BIT_DMP_INT_EN;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 25


1164:DMP/driver/eMPL/inv_mpu.c ****     else
1165:DMP/driver/eMPL/inv_mpu.c ****       data = 0;
1166:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->int_enable, 1, &data))
1167:DMP/driver/eMPL/inv_mpu.c ****       return -1;
1168:DMP/driver/eMPL/inv_mpu.c ****     data = 0;
1169:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->fifo_en, 1, &data))
1170:DMP/driver/eMPL/inv_mpu.c ****       return -1;
1171:DMP/driver/eMPL/inv_mpu.c ****   } else {
1172:DMP/driver/eMPL/inv_mpu.c ****     data = BIT_FIFO_RST;
1173:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &data))
1174:DMP/driver/eMPL/inv_mpu.c ****       return -1;
1175:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.bypass_mode || !(st.chip_cfg.sensors & INV_XYZ_COMPASS))
1176:DMP/driver/eMPL/inv_mpu.c ****       data = BIT_FIFO_EN;
1177:DMP/driver/eMPL/inv_mpu.c ****     else
1178:DMP/driver/eMPL/inv_mpu.c ****       data = BIT_FIFO_EN | BIT_AUX_IF_EN;
1179:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &data))
1180:DMP/driver/eMPL/inv_mpu.c ****       return -1;
1181:DMP/driver/eMPL/inv_mpu.c ****     delay_ms(50);
1182:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.int_enable)
1183:DMP/driver/eMPL/inv_mpu.c ****       data = BIT_DATA_RDY_EN;
1184:DMP/driver/eMPL/inv_mpu.c ****     else
1185:DMP/driver/eMPL/inv_mpu.c ****       data = 0;
1186:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->int_enable, 1, &data))
1187:DMP/driver/eMPL/inv_mpu.c ****       return -1;
1188:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->fifo_en, 1, &st.chip_cfg.fifo_enable))
1189:DMP/driver/eMPL/inv_mpu.c ****       return -1;
1190:DMP/driver/eMPL/inv_mpu.c ****   }
1191:DMP/driver/eMPL/inv_mpu.c ****   return 0;
1192:DMP/driver/eMPL/inv_mpu.c **** }
1193:DMP/driver/eMPL/inv_mpu.c **** 
1194:DMP/driver/eMPL/inv_mpu.c **** /**
1195:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Get the gyro full-scale range.
1196:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] fsr Current full-scale range.
1197:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
1198:DMP/driver/eMPL/inv_mpu.c ****  */
1199:DMP/driver/eMPL/inv_mpu.c **** int mpu_get_gyro_fsr(unsigned short *fsr) {
1200:DMP/driver/eMPL/inv_mpu.c ****   switch (st.chip_cfg.gyro_fsr) {
1201:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_250DPS:
1202:DMP/driver/eMPL/inv_mpu.c ****     fsr[0] = 250;
1203:DMP/driver/eMPL/inv_mpu.c ****     break;
1204:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_500DPS:
1205:DMP/driver/eMPL/inv_mpu.c ****     fsr[0] = 500;
1206:DMP/driver/eMPL/inv_mpu.c ****     break;
1207:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_1000DPS:
1208:DMP/driver/eMPL/inv_mpu.c ****     fsr[0] = 1000;
1209:DMP/driver/eMPL/inv_mpu.c ****     break;
1210:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_2000DPS:
1211:DMP/driver/eMPL/inv_mpu.c ****     fsr[0] = 2000;
1212:DMP/driver/eMPL/inv_mpu.c ****     break;
1213:DMP/driver/eMPL/inv_mpu.c ****   default:
1214:DMP/driver/eMPL/inv_mpu.c ****     fsr[0] = 0;
1215:DMP/driver/eMPL/inv_mpu.c ****     break;
1216:DMP/driver/eMPL/inv_mpu.c ****   }
1217:DMP/driver/eMPL/inv_mpu.c ****   return 0;
1218:DMP/driver/eMPL/inv_mpu.c **** }
1219:DMP/driver/eMPL/inv_mpu.c **** 
1220:DMP/driver/eMPL/inv_mpu.c **** /**
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 26


1221:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Set the gyro full-scale range.
1222:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  fsr Desired full-scale range.
1223:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
1224:DMP/driver/eMPL/inv_mpu.c ****  */
1225:DMP/driver/eMPL/inv_mpu.c **** int mpu_set_gyro_fsr(unsigned short fsr) {
1226:DMP/driver/eMPL/inv_mpu.c ****   unsigned char data;
1227:DMP/driver/eMPL/inv_mpu.c **** 
1228:DMP/driver/eMPL/inv_mpu.c ****   if (!(st.chip_cfg.sensors))
1229:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1230:DMP/driver/eMPL/inv_mpu.c **** 
1231:DMP/driver/eMPL/inv_mpu.c ****   switch (fsr) {
1232:DMP/driver/eMPL/inv_mpu.c ****   case 250:
1233:DMP/driver/eMPL/inv_mpu.c ****     data = INV_FSR_250DPS << 3;
1234:DMP/driver/eMPL/inv_mpu.c ****     break;
1235:DMP/driver/eMPL/inv_mpu.c ****   case 500:
1236:DMP/driver/eMPL/inv_mpu.c ****     data = INV_FSR_500DPS << 3;
1237:DMP/driver/eMPL/inv_mpu.c ****     break;
1238:DMP/driver/eMPL/inv_mpu.c ****   case 1000:
1239:DMP/driver/eMPL/inv_mpu.c ****     data = INV_FSR_1000DPS << 3;
1240:DMP/driver/eMPL/inv_mpu.c ****     break;
1241:DMP/driver/eMPL/inv_mpu.c ****   case 2000:
1242:DMP/driver/eMPL/inv_mpu.c ****     data = INV_FSR_2000DPS << 3;
1243:DMP/driver/eMPL/inv_mpu.c ****     break;
1244:DMP/driver/eMPL/inv_mpu.c ****   default:
1245:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1246:DMP/driver/eMPL/inv_mpu.c ****   }
1247:DMP/driver/eMPL/inv_mpu.c **** 
1248:DMP/driver/eMPL/inv_mpu.c ****   if (st.chip_cfg.gyro_fsr == (data >> 3))
1249:DMP/driver/eMPL/inv_mpu.c ****     return 0;
1250:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->gyro_cfg, 1, &data))
1251:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1252:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.gyro_fsr = data >> 3;
1253:DMP/driver/eMPL/inv_mpu.c ****   return 0;
1254:DMP/driver/eMPL/inv_mpu.c **** }
1255:DMP/driver/eMPL/inv_mpu.c **** 
1256:DMP/driver/eMPL/inv_mpu.c **** /**
1257:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Get the accel full-scale range.
1258:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] fsr Current full-scale range.
1259:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
1260:DMP/driver/eMPL/inv_mpu.c ****  */
1261:DMP/driver/eMPL/inv_mpu.c **** int mpu_get_accel_fsr(unsigned char *fsr) {
1262:DMP/driver/eMPL/inv_mpu.c ****   switch (st.chip_cfg.accel_fsr) {
1263:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_2G:
1264:DMP/driver/eMPL/inv_mpu.c ****     fsr[0] = 2;
1265:DMP/driver/eMPL/inv_mpu.c ****     break;
1266:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_4G:
1267:DMP/driver/eMPL/inv_mpu.c ****     fsr[0] = 4;
1268:DMP/driver/eMPL/inv_mpu.c ****     break;
1269:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_8G:
1270:DMP/driver/eMPL/inv_mpu.c ****     fsr[0] = 8;
1271:DMP/driver/eMPL/inv_mpu.c ****     break;
1272:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_16G:
1273:DMP/driver/eMPL/inv_mpu.c ****     fsr[0] = 16;
1274:DMP/driver/eMPL/inv_mpu.c ****     break;
1275:DMP/driver/eMPL/inv_mpu.c ****   default:
1276:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1277:DMP/driver/eMPL/inv_mpu.c ****   }
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 27


1278:DMP/driver/eMPL/inv_mpu.c ****   if (st.chip_cfg.accel_half)
1279:DMP/driver/eMPL/inv_mpu.c ****     fsr[0] <<= 1;
1280:DMP/driver/eMPL/inv_mpu.c ****   return 0;
1281:DMP/driver/eMPL/inv_mpu.c **** }
1282:DMP/driver/eMPL/inv_mpu.c **** 
1283:DMP/driver/eMPL/inv_mpu.c **** /**
1284:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Set the accel full-scale range.
1285:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  fsr Desired full-scale range.
1286:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
1287:DMP/driver/eMPL/inv_mpu.c ****  */
1288:DMP/driver/eMPL/inv_mpu.c **** int mpu_set_accel_fsr(unsigned char fsr) {
1289:DMP/driver/eMPL/inv_mpu.c ****   unsigned char data;
1290:DMP/driver/eMPL/inv_mpu.c **** 
1291:DMP/driver/eMPL/inv_mpu.c ****   if (!(st.chip_cfg.sensors))
1292:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1293:DMP/driver/eMPL/inv_mpu.c **** 
1294:DMP/driver/eMPL/inv_mpu.c ****   switch (fsr) {
1295:DMP/driver/eMPL/inv_mpu.c ****   case 2:
1296:DMP/driver/eMPL/inv_mpu.c ****     data = INV_FSR_2G << 3;
1297:DMP/driver/eMPL/inv_mpu.c ****     break;
1298:DMP/driver/eMPL/inv_mpu.c ****   case 4:
1299:DMP/driver/eMPL/inv_mpu.c ****     data = INV_FSR_4G << 3;
1300:DMP/driver/eMPL/inv_mpu.c ****     break;
1301:DMP/driver/eMPL/inv_mpu.c ****   case 8:
1302:DMP/driver/eMPL/inv_mpu.c ****     data = INV_FSR_8G << 3;
1303:DMP/driver/eMPL/inv_mpu.c ****     break;
1304:DMP/driver/eMPL/inv_mpu.c ****   case 16:
1305:DMP/driver/eMPL/inv_mpu.c ****     data = INV_FSR_16G << 3;
1306:DMP/driver/eMPL/inv_mpu.c ****     break;
1307:DMP/driver/eMPL/inv_mpu.c ****   default:
1308:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1309:DMP/driver/eMPL/inv_mpu.c ****   }
1310:DMP/driver/eMPL/inv_mpu.c **** 
1311:DMP/driver/eMPL/inv_mpu.c ****   if (st.chip_cfg.accel_fsr == (data >> 3))
1312:DMP/driver/eMPL/inv_mpu.c ****     return 0;
1313:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->accel_cfg, 1, &data))
1314:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1315:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.accel_fsr = data >> 3;
1316:DMP/driver/eMPL/inv_mpu.c ****   return 0;
1317:DMP/driver/eMPL/inv_mpu.c **** }
1318:DMP/driver/eMPL/inv_mpu.c **** 
1319:DMP/driver/eMPL/inv_mpu.c **** /**
1320:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Get the current DLPF setting.
1321:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] lpf Current LPF setting.
1322:DMP/driver/eMPL/inv_mpu.c ****  *  0 if successful.
1323:DMP/driver/eMPL/inv_mpu.c ****  */
1324:DMP/driver/eMPL/inv_mpu.c **** int mpu_get_lpf(unsigned short *lpf) {
1325:DMP/driver/eMPL/inv_mpu.c ****   switch (st.chip_cfg.lpf) {
1326:DMP/driver/eMPL/inv_mpu.c ****   case INV_FILTER_188HZ:
1327:DMP/driver/eMPL/inv_mpu.c ****     lpf[0] = 188;
1328:DMP/driver/eMPL/inv_mpu.c ****     break;
1329:DMP/driver/eMPL/inv_mpu.c ****   case INV_FILTER_98HZ:
1330:DMP/driver/eMPL/inv_mpu.c ****     lpf[0] = 98;
1331:DMP/driver/eMPL/inv_mpu.c ****     break;
1332:DMP/driver/eMPL/inv_mpu.c ****   case INV_FILTER_42HZ:
1333:DMP/driver/eMPL/inv_mpu.c ****     lpf[0] = 42;
1334:DMP/driver/eMPL/inv_mpu.c ****     break;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 28


1335:DMP/driver/eMPL/inv_mpu.c ****   case INV_FILTER_20HZ:
1336:DMP/driver/eMPL/inv_mpu.c ****     lpf[0] = 20;
1337:DMP/driver/eMPL/inv_mpu.c ****     break;
1338:DMP/driver/eMPL/inv_mpu.c ****   case INV_FILTER_10HZ:
1339:DMP/driver/eMPL/inv_mpu.c ****     lpf[0] = 10;
1340:DMP/driver/eMPL/inv_mpu.c ****     break;
1341:DMP/driver/eMPL/inv_mpu.c ****   case INV_FILTER_5HZ:
1342:DMP/driver/eMPL/inv_mpu.c ****     lpf[0] = 5;
1343:DMP/driver/eMPL/inv_mpu.c ****     break;
1344:DMP/driver/eMPL/inv_mpu.c ****   case INV_FILTER_256HZ_NOLPF2:
1345:DMP/driver/eMPL/inv_mpu.c ****   case INV_FILTER_2100HZ_NOLPF:
1346:DMP/driver/eMPL/inv_mpu.c ****   default:
1347:DMP/driver/eMPL/inv_mpu.c ****     lpf[0] = 0;
1348:DMP/driver/eMPL/inv_mpu.c ****     break;
1349:DMP/driver/eMPL/inv_mpu.c ****   }
1350:DMP/driver/eMPL/inv_mpu.c ****   return 0;
1351:DMP/driver/eMPL/inv_mpu.c **** }
1352:DMP/driver/eMPL/inv_mpu.c **** 
1353:DMP/driver/eMPL/inv_mpu.c **** /**
1354:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Set digital low pass filter.
1355:DMP/driver/eMPL/inv_mpu.c ****  *  The following LPF settings are supported: 188, 98, 42, 20, 10, 5.
1356:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  lpf Desired LPF setting.
1357:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
1358:DMP/driver/eMPL/inv_mpu.c ****  */
1359:DMP/driver/eMPL/inv_mpu.c **** int mpu_set_lpf(unsigned short lpf) {
1360:DMP/driver/eMPL/inv_mpu.c ****   unsigned char data;
1361:DMP/driver/eMPL/inv_mpu.c **** 
1362:DMP/driver/eMPL/inv_mpu.c ****   if (!(st.chip_cfg.sensors))
1363:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1364:DMP/driver/eMPL/inv_mpu.c **** 
1365:DMP/driver/eMPL/inv_mpu.c ****   if (lpf >= 188)
1366:DMP/driver/eMPL/inv_mpu.c ****     data = INV_FILTER_188HZ;
1367:DMP/driver/eMPL/inv_mpu.c ****   else if (lpf >= 98)
1368:DMP/driver/eMPL/inv_mpu.c ****     data = INV_FILTER_98HZ;
1369:DMP/driver/eMPL/inv_mpu.c ****   else if (lpf >= 42)
1370:DMP/driver/eMPL/inv_mpu.c ****     data = INV_FILTER_42HZ;
1371:DMP/driver/eMPL/inv_mpu.c ****   else if (lpf >= 20)
1372:DMP/driver/eMPL/inv_mpu.c ****     data = INV_FILTER_20HZ;
1373:DMP/driver/eMPL/inv_mpu.c ****   else if (lpf >= 10)
1374:DMP/driver/eMPL/inv_mpu.c ****     data = INV_FILTER_10HZ;
1375:DMP/driver/eMPL/inv_mpu.c ****   else
1376:DMP/driver/eMPL/inv_mpu.c ****     data = INV_FILTER_5HZ;
1377:DMP/driver/eMPL/inv_mpu.c **** 
1378:DMP/driver/eMPL/inv_mpu.c ****   if (st.chip_cfg.lpf == data)
1379:DMP/driver/eMPL/inv_mpu.c ****     return 0;
1380:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->lpf, 1, &data))
1381:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1382:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.lpf = data;
1383:DMP/driver/eMPL/inv_mpu.c ****   return 0;
1384:DMP/driver/eMPL/inv_mpu.c **** }
1385:DMP/driver/eMPL/inv_mpu.c **** 
1386:DMP/driver/eMPL/inv_mpu.c **** /**
1387:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Get sampling rate.
1388:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] rate    Current sampling rate (Hz).
1389:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
1390:DMP/driver/eMPL/inv_mpu.c ****  */
1391:DMP/driver/eMPL/inv_mpu.c **** int mpu_get_sample_rate(unsigned short *rate) {
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 29


1392:DMP/driver/eMPL/inv_mpu.c ****   if (st.chip_cfg.dmp_on)
1393:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1394:DMP/driver/eMPL/inv_mpu.c ****   else
1395:DMP/driver/eMPL/inv_mpu.c ****     rate[0] = st.chip_cfg.sample_rate;
1396:DMP/driver/eMPL/inv_mpu.c ****   return 0;
1397:DMP/driver/eMPL/inv_mpu.c **** }
1398:DMP/driver/eMPL/inv_mpu.c **** 
1399:DMP/driver/eMPL/inv_mpu.c **** /**
1400:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Set sampling rate.
1401:DMP/driver/eMPL/inv_mpu.c ****  *  Sampling rate must be between 4Hz and 1kHz.
1402:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  rate    Desired sampling rate (Hz).
1403:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
1404:DMP/driver/eMPL/inv_mpu.c ****  */
1405:DMP/driver/eMPL/inv_mpu.c **** int mpu_set_sample_rate(unsigned short rate) {
1406:DMP/driver/eMPL/inv_mpu.c ****   unsigned char data;
1407:DMP/driver/eMPL/inv_mpu.c **** 
1408:DMP/driver/eMPL/inv_mpu.c ****   if (!(st.chip_cfg.sensors))
1409:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1410:DMP/driver/eMPL/inv_mpu.c **** 
1411:DMP/driver/eMPL/inv_mpu.c ****   if (st.chip_cfg.dmp_on)
1412:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1413:DMP/driver/eMPL/inv_mpu.c ****   else {
1414:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.lp_accel_mode) {
1415:DMP/driver/eMPL/inv_mpu.c ****       if (rate && (rate <= 40)) {
1416:DMP/driver/eMPL/inv_mpu.c ****         /* Just stay in low-power accel mode. */
1417:DMP/driver/eMPL/inv_mpu.c ****         mpu_lp_accel_mode(rate);
1418:DMP/driver/eMPL/inv_mpu.c ****         return 0;
1419:DMP/driver/eMPL/inv_mpu.c ****       }
1420:DMP/driver/eMPL/inv_mpu.c ****       /* Requested rate exceeds the allowed frequencies in LP accel mode,
1421:DMP/driver/eMPL/inv_mpu.c ****        * switch back to full-power mode.
1422:DMP/driver/eMPL/inv_mpu.c ****        */
1423:DMP/driver/eMPL/inv_mpu.c ****       mpu_lp_accel_mode(0);
1424:DMP/driver/eMPL/inv_mpu.c ****     }
1425:DMP/driver/eMPL/inv_mpu.c ****     if (rate < 4)
1426:DMP/driver/eMPL/inv_mpu.c ****       rate = 4;
1427:DMP/driver/eMPL/inv_mpu.c ****     else if (rate > 1000)
1428:DMP/driver/eMPL/inv_mpu.c ****       rate = 1000;
1429:DMP/driver/eMPL/inv_mpu.c **** 
1430:DMP/driver/eMPL/inv_mpu.c ****     data = 1000 / rate - 1;
1431:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->rate_div, 1, &data))
1432:DMP/driver/eMPL/inv_mpu.c ****       return -1;
1433:DMP/driver/eMPL/inv_mpu.c **** 
1434:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.sample_rate = 1000 / (1 + data);
1435:DMP/driver/eMPL/inv_mpu.c **** 
1436:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
1437:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_compass_sample_rate(
1438:DMP/driver/eMPL/inv_mpu.c ****         min(st.chip_cfg.compass_sample_rate, MAX_COMPASS_SAMPLE_RATE));
1439:DMP/driver/eMPL/inv_mpu.c **** #endif
1440:DMP/driver/eMPL/inv_mpu.c **** 
1441:DMP/driver/eMPL/inv_mpu.c ****     /* Automatically set LPF to 1/2 sampling rate. */
1442:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_lpf(st.chip_cfg.sample_rate >> 1);
1443:DMP/driver/eMPL/inv_mpu.c ****     return 0;
1444:DMP/driver/eMPL/inv_mpu.c ****   }
1445:DMP/driver/eMPL/inv_mpu.c **** }
1446:DMP/driver/eMPL/inv_mpu.c **** 
1447:DMP/driver/eMPL/inv_mpu.c **** /**
1448:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Get compass sampling rate.
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 30


1449:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] rate    Current compass sampling rate (Hz).
1450:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
1451:DMP/driver/eMPL/inv_mpu.c ****  */
1452:DMP/driver/eMPL/inv_mpu.c **** int mpu_get_compass_sample_rate(unsigned short *rate) {
1453:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
1454:DMP/driver/eMPL/inv_mpu.c ****   rate[0] = st.chip_cfg.compass_sample_rate;
1455:DMP/driver/eMPL/inv_mpu.c ****   return 0;
1456:DMP/driver/eMPL/inv_mpu.c **** #else
1457:DMP/driver/eMPL/inv_mpu.c ****   rate[0] = 0;
1458:DMP/driver/eMPL/inv_mpu.c ****   return -1;
1459:DMP/driver/eMPL/inv_mpu.c **** #endif
1460:DMP/driver/eMPL/inv_mpu.c **** }
1461:DMP/driver/eMPL/inv_mpu.c **** 
1462:DMP/driver/eMPL/inv_mpu.c **** /**
1463:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Set compass sampling rate.
1464:DMP/driver/eMPL/inv_mpu.c ****  *  The compass on the auxiliary I2C bus is read by the MPU hardware at a
1465:DMP/driver/eMPL/inv_mpu.c ****  *  maximum of 100Hz. The actual rate can be set to a fraction of the gyro
1466:DMP/driver/eMPL/inv_mpu.c ****  *  sampling rate.
1467:DMP/driver/eMPL/inv_mpu.c ****  *
1468:DMP/driver/eMPL/inv_mpu.c ****  *  \n WARNING: The new rate may be different than what was requested. Call
1469:DMP/driver/eMPL/inv_mpu.c ****  *  mpu_get_compass_sample_rate to check the actual setting.
1470:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  rate    Desired compass sampling rate (Hz).
1471:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
1472:DMP/driver/eMPL/inv_mpu.c ****  */
1473:DMP/driver/eMPL/inv_mpu.c **** int mpu_set_compass_sample_rate(unsigned short rate) {
1474:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
1475:DMP/driver/eMPL/inv_mpu.c ****   unsigned char div;
1476:DMP/driver/eMPL/inv_mpu.c ****   if (!rate || rate > st.chip_cfg.sample_rate || rate > MAX_COMPASS_SAMPLE_RATE)
1477:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1478:DMP/driver/eMPL/inv_mpu.c **** 
1479:DMP/driver/eMPL/inv_mpu.c ****   div = st.chip_cfg.sample_rate / rate - 1;
1480:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->s4_ctrl, 1, &div))
1481:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1482:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.compass_sample_rate = st.chip_cfg.sample_rate / (div + 1);
1483:DMP/driver/eMPL/inv_mpu.c ****   return 0;
1484:DMP/driver/eMPL/inv_mpu.c **** #else
1485:DMP/driver/eMPL/inv_mpu.c ****   return -1;
1486:DMP/driver/eMPL/inv_mpu.c **** #endif
1487:DMP/driver/eMPL/inv_mpu.c **** }
1488:DMP/driver/eMPL/inv_mpu.c **** 
1489:DMP/driver/eMPL/inv_mpu.c **** /**
1490:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Get gyro sensitivity scale factor.
1491:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] sens    Conversion from hardware units to dps.
1492:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
1493:DMP/driver/eMPL/inv_mpu.c ****  */
1494:DMP/driver/eMPL/inv_mpu.c **** int mpu_get_gyro_sens(float *sens) {
1495:DMP/driver/eMPL/inv_mpu.c ****   switch (st.chip_cfg.gyro_fsr) {
1496:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_250DPS:
1497:DMP/driver/eMPL/inv_mpu.c ****     sens[0] = 131.f;
1498:DMP/driver/eMPL/inv_mpu.c ****     break;
1499:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_500DPS:
1500:DMP/driver/eMPL/inv_mpu.c ****     sens[0] = 65.5f;
1501:DMP/driver/eMPL/inv_mpu.c ****     break;
1502:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_1000DPS:
1503:DMP/driver/eMPL/inv_mpu.c ****     sens[0] = 32.8f;
1504:DMP/driver/eMPL/inv_mpu.c ****     break;
1505:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_2000DPS:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 31


1506:DMP/driver/eMPL/inv_mpu.c ****     sens[0] = 16.4f;
1507:DMP/driver/eMPL/inv_mpu.c ****     break;
1508:DMP/driver/eMPL/inv_mpu.c ****   default:
1509:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1510:DMP/driver/eMPL/inv_mpu.c ****   }
1511:DMP/driver/eMPL/inv_mpu.c ****   return 0;
1512:DMP/driver/eMPL/inv_mpu.c **** }
1513:DMP/driver/eMPL/inv_mpu.c **** 
1514:DMP/driver/eMPL/inv_mpu.c **** /**
1515:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Get accel sensitivity scale factor.
1516:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] sens    Conversion from hardware units to g's.
1517:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
1518:DMP/driver/eMPL/inv_mpu.c ****  */
1519:DMP/driver/eMPL/inv_mpu.c **** int mpu_get_accel_sens(unsigned short *sens) {
1520:DMP/driver/eMPL/inv_mpu.c ****   switch (st.chip_cfg.accel_fsr) {
1521:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_2G:
1522:DMP/driver/eMPL/inv_mpu.c ****     sens[0] = 16384;
1523:DMP/driver/eMPL/inv_mpu.c ****     break;
1524:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_4G:
1525:DMP/driver/eMPL/inv_mpu.c ****     sens[0] = 8192;
1526:DMP/driver/eMPL/inv_mpu.c ****     break;
1527:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_8G:
1528:DMP/driver/eMPL/inv_mpu.c ****     sens[0] = 4096;
1529:DMP/driver/eMPL/inv_mpu.c ****     break;
1530:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_16G:
1531:DMP/driver/eMPL/inv_mpu.c ****     sens[0] = 2048;
1532:DMP/driver/eMPL/inv_mpu.c ****     break;
1533:DMP/driver/eMPL/inv_mpu.c ****   default:
1534:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1535:DMP/driver/eMPL/inv_mpu.c ****   }
1536:DMP/driver/eMPL/inv_mpu.c ****   if (st.chip_cfg.accel_half)
1537:DMP/driver/eMPL/inv_mpu.c ****     sens[0] >>= 1;
1538:DMP/driver/eMPL/inv_mpu.c ****   return 0;
1539:DMP/driver/eMPL/inv_mpu.c **** }
1540:DMP/driver/eMPL/inv_mpu.c **** 
1541:DMP/driver/eMPL/inv_mpu.c **** /**
1542:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Get current FIFO configuration.
1543:DMP/driver/eMPL/inv_mpu.c ****  *  @e sensors can contain a combination of the following flags:
1544:DMP/driver/eMPL/inv_mpu.c ****  *  \n INV_X_GYRO, INV_Y_GYRO, INV_Z_GYRO
1545:DMP/driver/eMPL/inv_mpu.c ****  *  \n INV_XYZ_GYRO
1546:DMP/driver/eMPL/inv_mpu.c ****  *  \n INV_XYZ_ACCEL
1547:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] sensors Mask of sensors in FIFO.
1548:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
1549:DMP/driver/eMPL/inv_mpu.c ****  */
1550:DMP/driver/eMPL/inv_mpu.c **** int mpu_get_fifo_config(unsigned char *sensors) {
1551:DMP/driver/eMPL/inv_mpu.c ****   sensors[0] = st.chip_cfg.fifo_enable;
1552:DMP/driver/eMPL/inv_mpu.c ****   return 0;
1553:DMP/driver/eMPL/inv_mpu.c **** }
1554:DMP/driver/eMPL/inv_mpu.c **** 
1555:DMP/driver/eMPL/inv_mpu.c **** /**
1556:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Select which sensors are pushed to FIFO.
1557:DMP/driver/eMPL/inv_mpu.c ****  *  @e sensors can contain a combination of the following flags:
1558:DMP/driver/eMPL/inv_mpu.c ****  *  \n INV_X_GYRO, INV_Y_GYRO, INV_Z_GYRO
1559:DMP/driver/eMPL/inv_mpu.c ****  *  \n INV_XYZ_GYRO
1560:DMP/driver/eMPL/inv_mpu.c ****  *  \n INV_XYZ_ACCEL
1561:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  sensors Mask of sensors to push to FIFO.
1562:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 32


1563:DMP/driver/eMPL/inv_mpu.c ****  */
1564:DMP/driver/eMPL/inv_mpu.c **** int mpu_configure_fifo(unsigned char sensors) {
1565:DMP/driver/eMPL/inv_mpu.c ****   unsigned char prev;
1566:DMP/driver/eMPL/inv_mpu.c ****   int result = 0;
1567:DMP/driver/eMPL/inv_mpu.c **** 
1568:DMP/driver/eMPL/inv_mpu.c ****   /* Compass data isn't going into the FIFO. Stop trying. */
1569:DMP/driver/eMPL/inv_mpu.c ****   sensors &= ~INV_XYZ_COMPASS;
1570:DMP/driver/eMPL/inv_mpu.c **** 
1571:DMP/driver/eMPL/inv_mpu.c ****   if (st.chip_cfg.dmp_on)
1572:DMP/driver/eMPL/inv_mpu.c ****     return 0;
1573:DMP/driver/eMPL/inv_mpu.c ****   else {
1574:DMP/driver/eMPL/inv_mpu.c ****     if (!(st.chip_cfg.sensors))
1575:DMP/driver/eMPL/inv_mpu.c ****       return -1;
1576:DMP/driver/eMPL/inv_mpu.c ****     prev = st.chip_cfg.fifo_enable;
1577:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.fifo_enable = sensors & st.chip_cfg.sensors;
1578:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.fifo_enable != sensors)
1579:DMP/driver/eMPL/inv_mpu.c ****       /* You're not getting what you asked for. Some sensors are
1580:DMP/driver/eMPL/inv_mpu.c ****        * asleep.
1581:DMP/driver/eMPL/inv_mpu.c ****        */
1582:DMP/driver/eMPL/inv_mpu.c ****       result = -1;
1583:DMP/driver/eMPL/inv_mpu.c ****     else
1584:DMP/driver/eMPL/inv_mpu.c ****       result = 0;
1585:DMP/driver/eMPL/inv_mpu.c ****     if (sensors || st.chip_cfg.lp_accel_mode)
1586:DMP/driver/eMPL/inv_mpu.c ****       set_int_enable(1);
1587:DMP/driver/eMPL/inv_mpu.c ****     else
1588:DMP/driver/eMPL/inv_mpu.c ****       set_int_enable(0);
1589:DMP/driver/eMPL/inv_mpu.c ****     if (sensors) {
1590:DMP/driver/eMPL/inv_mpu.c ****       if (mpu_reset_fifo()) {
1591:DMP/driver/eMPL/inv_mpu.c ****         st.chip_cfg.fifo_enable = prev;
1592:DMP/driver/eMPL/inv_mpu.c ****         return -1;
1593:DMP/driver/eMPL/inv_mpu.c ****       }
1594:DMP/driver/eMPL/inv_mpu.c ****     }
1595:DMP/driver/eMPL/inv_mpu.c ****   }
1596:DMP/driver/eMPL/inv_mpu.c **** 
1597:DMP/driver/eMPL/inv_mpu.c ****   return result;
1598:DMP/driver/eMPL/inv_mpu.c **** }
1599:DMP/driver/eMPL/inv_mpu.c **** 
1600:DMP/driver/eMPL/inv_mpu.c **** /**
1601:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Get current power state.
1602:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  power_on    1 if turned on, 0 if suspended.
1603:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
1604:DMP/driver/eMPL/inv_mpu.c ****  */
1605:DMP/driver/eMPL/inv_mpu.c **** int mpu_get_power_state(unsigned char *power_on) {
1606:DMP/driver/eMPL/inv_mpu.c ****   if (st.chip_cfg.sensors)
1607:DMP/driver/eMPL/inv_mpu.c ****     power_on[0] = 1;
1608:DMP/driver/eMPL/inv_mpu.c ****   else
1609:DMP/driver/eMPL/inv_mpu.c ****     power_on[0] = 0;
1610:DMP/driver/eMPL/inv_mpu.c ****   return 0;
1611:DMP/driver/eMPL/inv_mpu.c **** }
1612:DMP/driver/eMPL/inv_mpu.c **** 
1613:DMP/driver/eMPL/inv_mpu.c **** /**
1614:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Turn specific sensors on/off.
1615:DMP/driver/eMPL/inv_mpu.c ****  *  @e sensors can contain a combination of the following flags:
1616:DMP/driver/eMPL/inv_mpu.c ****  *  \n INV_X_GYRO, INV_Y_GYRO, INV_Z_GYRO
1617:DMP/driver/eMPL/inv_mpu.c ****  *  \n INV_XYZ_GYRO
1618:DMP/driver/eMPL/inv_mpu.c ****  *  \n INV_XYZ_ACCEL
1619:DMP/driver/eMPL/inv_mpu.c ****  *  \n INV_XYZ_COMPASS
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 33


1620:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  sensors    Mask of sensors to wake.
1621:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
1622:DMP/driver/eMPL/inv_mpu.c ****  */
1623:DMP/driver/eMPL/inv_mpu.c **** int mpu_set_sensors(unsigned char sensors) {
1624:DMP/driver/eMPL/inv_mpu.c ****   unsigned char data;
1625:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
1626:DMP/driver/eMPL/inv_mpu.c ****   unsigned char user_ctrl;
1627:DMP/driver/eMPL/inv_mpu.c **** #endif
1628:DMP/driver/eMPL/inv_mpu.c **** 
1629:DMP/driver/eMPL/inv_mpu.c ****   if (sensors & INV_XYZ_GYRO)
1630:DMP/driver/eMPL/inv_mpu.c ****     data = INV_CLK_PLL;
1631:DMP/driver/eMPL/inv_mpu.c ****   else if (sensors)
1632:DMP/driver/eMPL/inv_mpu.c ****     data = 0;
1633:DMP/driver/eMPL/inv_mpu.c ****   else
1634:DMP/driver/eMPL/inv_mpu.c ****     data = BIT_SLEEP;
1635:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 1, &data)) {
1636:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.sensors = 0;
1637:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1638:DMP/driver/eMPL/inv_mpu.c ****   }
1639:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.clk_src = data & ~BIT_SLEEP;
1640:DMP/driver/eMPL/inv_mpu.c **** 
1641:DMP/driver/eMPL/inv_mpu.c ****   data = 0;
1642:DMP/driver/eMPL/inv_mpu.c ****   if (!(sensors & INV_X_GYRO))
1643:DMP/driver/eMPL/inv_mpu.c ****     data |= BIT_STBY_XG;
1644:DMP/driver/eMPL/inv_mpu.c ****   if (!(sensors & INV_Y_GYRO))
1645:DMP/driver/eMPL/inv_mpu.c ****     data |= BIT_STBY_YG;
1646:DMP/driver/eMPL/inv_mpu.c ****   if (!(sensors & INV_Z_GYRO))
1647:DMP/driver/eMPL/inv_mpu.c ****     data |= BIT_STBY_ZG;
1648:DMP/driver/eMPL/inv_mpu.c ****   if (!(sensors & INV_XYZ_ACCEL))
1649:DMP/driver/eMPL/inv_mpu.c ****     data |= BIT_STBY_XYZA;
1650:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_2, 1, &data)) {
1651:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.sensors = 0;
1652:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1653:DMP/driver/eMPL/inv_mpu.c ****   }
1654:DMP/driver/eMPL/inv_mpu.c **** 
1655:DMP/driver/eMPL/inv_mpu.c ****   if (sensors && (sensors != INV_XYZ_ACCEL))
1656:DMP/driver/eMPL/inv_mpu.c ****     /* Latched interrupts only used in LP accel mode. */
1657:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_int_latched(0);
1658:DMP/driver/eMPL/inv_mpu.c **** 
1659:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
1660:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_BYPASS
1661:DMP/driver/eMPL/inv_mpu.c ****   if (sensors & INV_XYZ_COMPASS)
1662:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_bypass(1);
1663:DMP/driver/eMPL/inv_mpu.c ****   else
1664:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_bypass(0);
1665:DMP/driver/eMPL/inv_mpu.c **** #else
1666:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_read(st.hw->addr, st.reg->user_ctrl, 1, &user_ctrl))
1667:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1668:DMP/driver/eMPL/inv_mpu.c ****   /* Handle AKM power management. */
1669:DMP/driver/eMPL/inv_mpu.c ****   if (sensors & INV_XYZ_COMPASS) {
1670:DMP/driver/eMPL/inv_mpu.c ****     data = AKM_SINGLE_MEASUREMENT;
1671:DMP/driver/eMPL/inv_mpu.c ****     user_ctrl |= BIT_AUX_IF_EN;
1672:DMP/driver/eMPL/inv_mpu.c ****   } else {
1673:DMP/driver/eMPL/inv_mpu.c ****     data = AKM_POWER_DOWN;
1674:DMP/driver/eMPL/inv_mpu.c ****     user_ctrl &= ~BIT_AUX_IF_EN;
1675:DMP/driver/eMPL/inv_mpu.c ****   }
1676:DMP/driver/eMPL/inv_mpu.c ****   if (st.chip_cfg.dmp_on)
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 34


1677:DMP/driver/eMPL/inv_mpu.c ****     user_ctrl |= BIT_DMP_EN;
1678:DMP/driver/eMPL/inv_mpu.c ****   else
1679:DMP/driver/eMPL/inv_mpu.c ****     user_ctrl &= ~BIT_DMP_EN;
1680:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->s1_do, 1, &data))
1681:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1682:DMP/driver/eMPL/inv_mpu.c ****   /* Enable/disable I2C master mode. */
1683:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &user_ctrl))
1684:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1685:DMP/driver/eMPL/inv_mpu.c **** #endif
1686:DMP/driver/eMPL/inv_mpu.c **** #endif
1687:DMP/driver/eMPL/inv_mpu.c **** 
1688:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.sensors = sensors;
1689:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.lp_accel_mode = 0;
1690:DMP/driver/eMPL/inv_mpu.c ****   delay_ms(50);
1691:DMP/driver/eMPL/inv_mpu.c ****   return 0;
1692:DMP/driver/eMPL/inv_mpu.c **** }
1693:DMP/driver/eMPL/inv_mpu.c **** 
1694:DMP/driver/eMPL/inv_mpu.c **** /**
1695:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Read the MPU interrupt status registers.
1696:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] status  Mask of interrupt bits.
1697:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
1698:DMP/driver/eMPL/inv_mpu.c ****  */
1699:DMP/driver/eMPL/inv_mpu.c **** int mpu_get_int_status(short *status) {
1700:DMP/driver/eMPL/inv_mpu.c ****   unsigned char tmp[2];
1701:DMP/driver/eMPL/inv_mpu.c ****   if (!st.chip_cfg.sensors)
1702:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1703:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_read(st.hw->addr, st.reg->dmp_int_status, 2, tmp))
1704:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1705:DMP/driver/eMPL/inv_mpu.c ****   status[0] = (tmp[0] << 8) | tmp[1];
1706:DMP/driver/eMPL/inv_mpu.c ****   return 0;
1707:DMP/driver/eMPL/inv_mpu.c **** }
1708:DMP/driver/eMPL/inv_mpu.c **** 
1709:DMP/driver/eMPL/inv_mpu.c **** /**
1710:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Get one packet from the FIFO.
1711:DMP/driver/eMPL/inv_mpu.c ****  *  If @e sensors does not contain a particular sensor, disregard the data
1712:DMP/driver/eMPL/inv_mpu.c ****  *  returned to that pointer.
1713:DMP/driver/eMPL/inv_mpu.c ****  *  \n @e sensors can contain a combination of the following flags:
1714:DMP/driver/eMPL/inv_mpu.c ****  *  \n INV_X_GYRO, INV_Y_GYRO, INV_Z_GYRO
1715:DMP/driver/eMPL/inv_mpu.c ****  *  \n INV_XYZ_GYRO
1716:DMP/driver/eMPL/inv_mpu.c ****  *  \n INV_XYZ_ACCEL
1717:DMP/driver/eMPL/inv_mpu.c ****  *  \n If the FIFO has no new data, @e sensors will be zero.
1718:DMP/driver/eMPL/inv_mpu.c ****  *  \n If the FIFO is disabled, @e sensors will be zero and this function will
1719:DMP/driver/eMPL/inv_mpu.c ****  *  return a non-zero error code.
1720:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] gyro        Gyro data in hardware units.
1721:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] accel       Accel data in hardware units.
1722:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] timestamp   Timestamp in milliseconds.
1723:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] sensors     Mask of sensors read from FIFO.
1724:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] more        Number of remaining packets.
1725:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
1726:DMP/driver/eMPL/inv_mpu.c ****  */
1727:DMP/driver/eMPL/inv_mpu.c **** int mpu_read_fifo(short *gyro, short *accel, unsigned long *timestamp,
1728:DMP/driver/eMPL/inv_mpu.c ****                   unsigned char *sensors, unsigned char *more) {
1729:DMP/driver/eMPL/inv_mpu.c ****   /* Assumes maximum packet size is gyro (6) + accel (6). */
1730:DMP/driver/eMPL/inv_mpu.c ****   unsigned char data[MAX_PACKET_LENGTH];
1731:DMP/driver/eMPL/inv_mpu.c ****   unsigned char packet_size = 0;
1732:DMP/driver/eMPL/inv_mpu.c ****   unsigned short fifo_count, index = 0;
1733:DMP/driver/eMPL/inv_mpu.c **** 
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 35


1734:DMP/driver/eMPL/inv_mpu.c ****   if (st.chip_cfg.dmp_on)
1735:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1736:DMP/driver/eMPL/inv_mpu.c **** 
1737:DMP/driver/eMPL/inv_mpu.c ****   sensors[0] = 0;
1738:DMP/driver/eMPL/inv_mpu.c ****   if (!st.chip_cfg.sensors)
1739:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1740:DMP/driver/eMPL/inv_mpu.c ****   if (!st.chip_cfg.fifo_enable)
1741:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1742:DMP/driver/eMPL/inv_mpu.c **** 
1743:DMP/driver/eMPL/inv_mpu.c ****   if (st.chip_cfg.fifo_enable & INV_X_GYRO)
1744:DMP/driver/eMPL/inv_mpu.c ****     packet_size += 2;
1745:DMP/driver/eMPL/inv_mpu.c ****   if (st.chip_cfg.fifo_enable & INV_Y_GYRO)
1746:DMP/driver/eMPL/inv_mpu.c ****     packet_size += 2;
1747:DMP/driver/eMPL/inv_mpu.c ****   if (st.chip_cfg.fifo_enable & INV_Z_GYRO)
1748:DMP/driver/eMPL/inv_mpu.c ****     packet_size += 2;
1749:DMP/driver/eMPL/inv_mpu.c ****   if (st.chip_cfg.fifo_enable & INV_XYZ_ACCEL)
1750:DMP/driver/eMPL/inv_mpu.c ****     packet_size += 6;
1751:DMP/driver/eMPL/inv_mpu.c **** 
1752:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_read(st.hw->addr, st.reg->fifo_count_h, 2, data))
1753:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1754:DMP/driver/eMPL/inv_mpu.c ****   fifo_count = (data[0] << 8) | data[1];
1755:DMP/driver/eMPL/inv_mpu.c ****   if (fifo_count < packet_size)
1756:DMP/driver/eMPL/inv_mpu.c ****     return 0;
1757:DMP/driver/eMPL/inv_mpu.c ****   //    log_i("FIFO count: %hd\n", fifo_count);
1758:DMP/driver/eMPL/inv_mpu.c ****   if (fifo_count > (st.hw->max_fifo >> 1)) {
1759:DMP/driver/eMPL/inv_mpu.c ****     /* FIFO is 50% full, better check overflow bit. */
1760:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_read(st.hw->addr, st.reg->int_status, 1, data))
1761:DMP/driver/eMPL/inv_mpu.c ****       return -1;
1762:DMP/driver/eMPL/inv_mpu.c ****     if (data[0] & BIT_FIFO_OVERFLOW) {
1763:DMP/driver/eMPL/inv_mpu.c ****       mpu_reset_fifo();
1764:DMP/driver/eMPL/inv_mpu.c ****       return -2;
1765:DMP/driver/eMPL/inv_mpu.c ****     }
1766:DMP/driver/eMPL/inv_mpu.c ****   }
1767:DMP/driver/eMPL/inv_mpu.c ****   get_ms((unsigned long *)timestamp);
1768:DMP/driver/eMPL/inv_mpu.c **** 
1769:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_read(st.hw->addr, st.reg->fifo_r_w, packet_size, data))
1770:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1771:DMP/driver/eMPL/inv_mpu.c ****   more[0] = fifo_count / packet_size - 1;
1772:DMP/driver/eMPL/inv_mpu.c ****   sensors[0] = 0;
1773:DMP/driver/eMPL/inv_mpu.c **** 
1774:DMP/driver/eMPL/inv_mpu.c ****   if ((index != packet_size) && st.chip_cfg.fifo_enable & INV_XYZ_ACCEL) {
1775:DMP/driver/eMPL/inv_mpu.c ****     accel[0] = (data[index + 0] << 8) | data[index + 1];
1776:DMP/driver/eMPL/inv_mpu.c ****     accel[1] = (data[index + 2] << 8) | data[index + 3];
1777:DMP/driver/eMPL/inv_mpu.c ****     accel[2] = (data[index + 4] << 8) | data[index + 5];
1778:DMP/driver/eMPL/inv_mpu.c ****     sensors[0] |= INV_XYZ_ACCEL;
1779:DMP/driver/eMPL/inv_mpu.c ****     index += 6;
1780:DMP/driver/eMPL/inv_mpu.c ****   }
1781:DMP/driver/eMPL/inv_mpu.c ****   if ((index != packet_size) && st.chip_cfg.fifo_enable & INV_X_GYRO) {
1782:DMP/driver/eMPL/inv_mpu.c ****     gyro[0] = (data[index + 0] << 8) | data[index + 1];
1783:DMP/driver/eMPL/inv_mpu.c ****     sensors[0] |= INV_X_GYRO;
1784:DMP/driver/eMPL/inv_mpu.c ****     index += 2;
1785:DMP/driver/eMPL/inv_mpu.c ****   }
1786:DMP/driver/eMPL/inv_mpu.c ****   if ((index != packet_size) && st.chip_cfg.fifo_enable & INV_Y_GYRO) {
1787:DMP/driver/eMPL/inv_mpu.c ****     gyro[1] = (data[index + 0] << 8) | data[index + 1];
1788:DMP/driver/eMPL/inv_mpu.c ****     sensors[0] |= INV_Y_GYRO;
1789:DMP/driver/eMPL/inv_mpu.c ****     index += 2;
1790:DMP/driver/eMPL/inv_mpu.c ****   }
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 36


1791:DMP/driver/eMPL/inv_mpu.c ****   if ((index != packet_size) && st.chip_cfg.fifo_enable & INV_Z_GYRO) {
1792:DMP/driver/eMPL/inv_mpu.c ****     gyro[2] = (data[index + 0] << 8) | data[index + 1];
1793:DMP/driver/eMPL/inv_mpu.c ****     sensors[0] |= INV_Z_GYRO;
1794:DMP/driver/eMPL/inv_mpu.c ****     index += 2;
1795:DMP/driver/eMPL/inv_mpu.c ****   }
1796:DMP/driver/eMPL/inv_mpu.c **** 
1797:DMP/driver/eMPL/inv_mpu.c ****   return 0;
1798:DMP/driver/eMPL/inv_mpu.c **** }
1799:DMP/driver/eMPL/inv_mpu.c **** 
1800:DMP/driver/eMPL/inv_mpu.c **** /**
1801:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Get one unparsed packet from the FIFO.
1802:DMP/driver/eMPL/inv_mpu.c ****  *  This function should be used if the packet is to be parsed elsewhere.
1803:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  length  Length of one FIFO packet.
1804:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  data    FIFO packet.
1805:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  more    Number of remaining packets.
1806:DMP/driver/eMPL/inv_mpu.c ****  */
1807:DMP/driver/eMPL/inv_mpu.c **** int mpu_read_fifo_stream(unsigned short length, unsigned char *data,
1808:DMP/driver/eMPL/inv_mpu.c ****                          unsigned char *more) {
1809:DMP/driver/eMPL/inv_mpu.c ****   unsigned char tmp[2];
1810:DMP/driver/eMPL/inv_mpu.c ****   unsigned short fifo_count;
1811:DMP/driver/eMPL/inv_mpu.c ****   if (!st.chip_cfg.dmp_on)
1812:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1813:DMP/driver/eMPL/inv_mpu.c ****   if (!st.chip_cfg.sensors)
1814:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1815:DMP/driver/eMPL/inv_mpu.c **** 
1816:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_read(st.hw->addr, st.reg->fifo_count_h, 2, tmp))
1817:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1818:DMP/driver/eMPL/inv_mpu.c ****   fifo_count = (tmp[0] << 8) | tmp[1];
1819:DMP/driver/eMPL/inv_mpu.c ****   if (fifo_count < length) {
1820:DMP/driver/eMPL/inv_mpu.c ****     more[0] = 0;
1821:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1822:DMP/driver/eMPL/inv_mpu.c ****   }
1823:DMP/driver/eMPL/inv_mpu.c ****   if (fifo_count > (st.hw->max_fifo >> 1)) {
1824:DMP/driver/eMPL/inv_mpu.c ****     /* FIFO is 50% full, better check overflow bit. */
1825:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_read(st.hw->addr, st.reg->int_status, 1, tmp))
1826:DMP/driver/eMPL/inv_mpu.c ****       return -1;
1827:DMP/driver/eMPL/inv_mpu.c ****     if (tmp[0] & BIT_FIFO_OVERFLOW) {
1828:DMP/driver/eMPL/inv_mpu.c ****       mpu_reset_fifo();
1829:DMP/driver/eMPL/inv_mpu.c ****       return -2;
1830:DMP/driver/eMPL/inv_mpu.c ****     }
1831:DMP/driver/eMPL/inv_mpu.c ****   }
1832:DMP/driver/eMPL/inv_mpu.c **** 
1833:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_read(st.hw->addr, st.reg->fifo_r_w, length, data))
1834:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1835:DMP/driver/eMPL/inv_mpu.c ****   more[0] = fifo_count / length - 1;
1836:DMP/driver/eMPL/inv_mpu.c ****   return 0;
1837:DMP/driver/eMPL/inv_mpu.c **** }
1838:DMP/driver/eMPL/inv_mpu.c **** 
1839:DMP/driver/eMPL/inv_mpu.c **** /**
1840:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Set device to bypass mode.
1841:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  bypass_on   1 to enable bypass mode.
1842:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
1843:DMP/driver/eMPL/inv_mpu.c ****  */
1844:DMP/driver/eMPL/inv_mpu.c **** int mpu_set_bypass(unsigned char bypass_on) {
1845:DMP/driver/eMPL/inv_mpu.c ****   unsigned char tmp;
1846:DMP/driver/eMPL/inv_mpu.c **** 
1847:DMP/driver/eMPL/inv_mpu.c ****   if (st.chip_cfg.bypass_mode == bypass_on)
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 37


1848:DMP/driver/eMPL/inv_mpu.c ****     return 0;
1849:DMP/driver/eMPL/inv_mpu.c **** 
1850:DMP/driver/eMPL/inv_mpu.c ****   if (bypass_on) {
1851:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_read(st.hw->addr, st.reg->user_ctrl, 1, &tmp))
1852:DMP/driver/eMPL/inv_mpu.c ****       return -1;
1853:DMP/driver/eMPL/inv_mpu.c ****     tmp &= ~BIT_AUX_IF_EN;
1854:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &tmp))
1855:DMP/driver/eMPL/inv_mpu.c ****       return -1;
1856:DMP/driver/eMPL/inv_mpu.c ****     delay_ms(3);
1857:DMP/driver/eMPL/inv_mpu.c ****     tmp = BIT_BYPASS_EN;
1858:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.active_low_int)
1859:DMP/driver/eMPL/inv_mpu.c ****       tmp |= BIT_ACTL;
1860:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.latched_int)
1861:DMP/driver/eMPL/inv_mpu.c ****       tmp |= BIT_LATCH_EN | BIT_ANY_RD_CLR;
1862:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->int_pin_cfg, 1, &tmp))
1863:DMP/driver/eMPL/inv_mpu.c ****       return -1;
1864:DMP/driver/eMPL/inv_mpu.c ****   } else {
1865:DMP/driver/eMPL/inv_mpu.c ****     /* Enable I2C master mode if compass is being used. */
1866:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_read(st.hw->addr, st.reg->user_ctrl, 1, &tmp))
1867:DMP/driver/eMPL/inv_mpu.c ****       return -1;
1868:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.sensors & INV_XYZ_COMPASS)
1869:DMP/driver/eMPL/inv_mpu.c ****       tmp |= BIT_AUX_IF_EN;
1870:DMP/driver/eMPL/inv_mpu.c ****     else
1871:DMP/driver/eMPL/inv_mpu.c ****       tmp &= ~BIT_AUX_IF_EN;
1872:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &tmp))
1873:DMP/driver/eMPL/inv_mpu.c ****       return -1;
1874:DMP/driver/eMPL/inv_mpu.c ****     delay_ms(3);
1875:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.active_low_int)
1876:DMP/driver/eMPL/inv_mpu.c ****       tmp = BIT_ACTL;
1877:DMP/driver/eMPL/inv_mpu.c ****     else
1878:DMP/driver/eMPL/inv_mpu.c ****       tmp = 0;
1879:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.latched_int)
1880:DMP/driver/eMPL/inv_mpu.c ****       tmp |= BIT_LATCH_EN | BIT_ANY_RD_CLR;
1881:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->int_pin_cfg, 1, &tmp))
1882:DMP/driver/eMPL/inv_mpu.c ****       return -1;
1883:DMP/driver/eMPL/inv_mpu.c ****   }
1884:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.bypass_mode = bypass_on;
1885:DMP/driver/eMPL/inv_mpu.c ****   return 0;
1886:DMP/driver/eMPL/inv_mpu.c **** }
1887:DMP/driver/eMPL/inv_mpu.c **** 
1888:DMP/driver/eMPL/inv_mpu.c **** /**
1889:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Set interrupt level.
1890:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  active_low  1 for active low, 0 for active high.
1891:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
1892:DMP/driver/eMPL/inv_mpu.c ****  */
1893:DMP/driver/eMPL/inv_mpu.c **** int mpu_set_int_level(unsigned char active_low) {
1894:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.active_low_int = active_low;
1895:DMP/driver/eMPL/inv_mpu.c ****   return 0;
1896:DMP/driver/eMPL/inv_mpu.c **** }
1897:DMP/driver/eMPL/inv_mpu.c **** 
1898:DMP/driver/eMPL/inv_mpu.c **** /**
1899:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Enable latched interrupts.
1900:DMP/driver/eMPL/inv_mpu.c ****  *  Any MPU register will clear the interrupt.
1901:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  enable  1 to enable, 0 to disable.
1902:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
1903:DMP/driver/eMPL/inv_mpu.c ****  */
1904:DMP/driver/eMPL/inv_mpu.c **** int mpu_set_int_latched(unsigned char enable) {
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 38


1905:DMP/driver/eMPL/inv_mpu.c ****   unsigned char tmp;
1906:DMP/driver/eMPL/inv_mpu.c ****   if (st.chip_cfg.latched_int == enable)
1907:DMP/driver/eMPL/inv_mpu.c ****     return 0;
1908:DMP/driver/eMPL/inv_mpu.c **** 
1909:DMP/driver/eMPL/inv_mpu.c ****   if (enable)
1910:DMP/driver/eMPL/inv_mpu.c ****     tmp = BIT_LATCH_EN | BIT_ANY_RD_CLR;
1911:DMP/driver/eMPL/inv_mpu.c ****   else
1912:DMP/driver/eMPL/inv_mpu.c ****     tmp = 0;
1913:DMP/driver/eMPL/inv_mpu.c ****   if (st.chip_cfg.bypass_mode)
1914:DMP/driver/eMPL/inv_mpu.c ****     tmp |= BIT_BYPASS_EN;
1915:DMP/driver/eMPL/inv_mpu.c ****   if (st.chip_cfg.active_low_int)
1916:DMP/driver/eMPL/inv_mpu.c ****     tmp |= BIT_ACTL;
1917:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->int_pin_cfg, 1, &tmp))
1918:DMP/driver/eMPL/inv_mpu.c ****     return -1;
1919:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.latched_int = enable;
1920:DMP/driver/eMPL/inv_mpu.c ****   return 0;
1921:DMP/driver/eMPL/inv_mpu.c **** }
1922:DMP/driver/eMPL/inv_mpu.c **** 
1923:DMP/driver/eMPL/inv_mpu.c **** #ifdef MPU6050
1924:DMP/driver/eMPL/inv_mpu.c **** static int get_accel_prod_shift(float *st_shift) {
1925:DMP/driver/eMPL/inv_mpu.c ****   unsigned char tmp[4], shift_code[3], ii;
1926:DMP/driver/eMPL/inv_mpu.c **** 
1927:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_read(st.hw->addr, 0x0D, 4, tmp))
1928:DMP/driver/eMPL/inv_mpu.c ****     return 0x07;
1929:DMP/driver/eMPL/inv_mpu.c **** 
1930:DMP/driver/eMPL/inv_mpu.c ****   shift_code[0] = ((tmp[0] & 0xE0) >> 3) | ((tmp[3] & 0x30) >> 4);
1931:DMP/driver/eMPL/inv_mpu.c ****   shift_code[1] = ((tmp[1] & 0xE0) >> 3) | ((tmp[3] & 0x0C) >> 2);
1932:DMP/driver/eMPL/inv_mpu.c ****   shift_code[2] = ((tmp[2] & 0xE0) >> 3) | (tmp[3] & 0x03);
1933:DMP/driver/eMPL/inv_mpu.c ****   for (ii = 0; ii < 3; ii++) {
1934:DMP/driver/eMPL/inv_mpu.c ****     if (!shift_code[ii]) {
1935:DMP/driver/eMPL/inv_mpu.c ****       st_shift[ii] = 0.f;
1936:DMP/driver/eMPL/inv_mpu.c ****       continue;
1937:DMP/driver/eMPL/inv_mpu.c ****     }
1938:DMP/driver/eMPL/inv_mpu.c ****     /* Equivalent to..
1939:DMP/driver/eMPL/inv_mpu.c ****      * st_shift[ii] = 0.34f * powf(0.92f/0.34f, (shift_code[ii]-1) / 30.f)
1940:DMP/driver/eMPL/inv_mpu.c ****      */
1941:DMP/driver/eMPL/inv_mpu.c ****     st_shift[ii] = 0.34f;
1942:DMP/driver/eMPL/inv_mpu.c ****     while (--shift_code[ii])
1943:DMP/driver/eMPL/inv_mpu.c ****       st_shift[ii] *= 1.034f;
1944:DMP/driver/eMPL/inv_mpu.c ****   }
1945:DMP/driver/eMPL/inv_mpu.c ****   return 0;
1946:DMP/driver/eMPL/inv_mpu.c **** }
1947:DMP/driver/eMPL/inv_mpu.c **** 
1948:DMP/driver/eMPL/inv_mpu.c **** static int accel_self_test(long *bias_regular, long *bias_st) {
1949:DMP/driver/eMPL/inv_mpu.c ****   int jj, result = 0;
1950:DMP/driver/eMPL/inv_mpu.c ****   float st_shift[3], st_shift_cust, st_shift_var;
1951:DMP/driver/eMPL/inv_mpu.c **** 
1952:DMP/driver/eMPL/inv_mpu.c ****   get_accel_prod_shift(st_shift);
1953:DMP/driver/eMPL/inv_mpu.c ****   for (jj = 0; jj < 3; jj++) {
1954:DMP/driver/eMPL/inv_mpu.c ****     st_shift_cust = labs(bias_regular[jj] - bias_st[jj]) / 65536.f;
1955:DMP/driver/eMPL/inv_mpu.c ****     if (st_shift[jj]) {
1956:DMP/driver/eMPL/inv_mpu.c ****       st_shift_var = st_shift_cust / st_shift[jj] - 1.f;
1957:DMP/driver/eMPL/inv_mpu.c ****       if (fabs(st_shift_var) > test.max_accel_var)
1958:DMP/driver/eMPL/inv_mpu.c ****         result |= 1 << jj;
1959:DMP/driver/eMPL/inv_mpu.c ****     } else if ((st_shift_cust < test.min_g) || (st_shift_cust > test.max_g))
1960:DMP/driver/eMPL/inv_mpu.c ****       result |= 1 << jj;
1961:DMP/driver/eMPL/inv_mpu.c ****   }
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 39


1962:DMP/driver/eMPL/inv_mpu.c **** 
1963:DMP/driver/eMPL/inv_mpu.c ****   return result;
1964:DMP/driver/eMPL/inv_mpu.c **** }
1965:DMP/driver/eMPL/inv_mpu.c **** 
1966:DMP/driver/eMPL/inv_mpu.c **** static int gyro_self_test(long *bias_regular, long *bias_st) {
1967:DMP/driver/eMPL/inv_mpu.c ****   int jj, result = 0;
1968:DMP/driver/eMPL/inv_mpu.c ****   unsigned char tmp[3];
1969:DMP/driver/eMPL/inv_mpu.c ****   float st_shift, st_shift_cust, st_shift_var;
1970:DMP/driver/eMPL/inv_mpu.c **** 
1971:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_read(st.hw->addr, 0x0D, 3, tmp))
1972:DMP/driver/eMPL/inv_mpu.c ****     return 0x07;
1973:DMP/driver/eMPL/inv_mpu.c **** 
1974:DMP/driver/eMPL/inv_mpu.c ****   tmp[0] &= 0x1F;
1975:DMP/driver/eMPL/inv_mpu.c ****   tmp[1] &= 0x1F;
1976:DMP/driver/eMPL/inv_mpu.c ****   tmp[2] &= 0x1F;
1977:DMP/driver/eMPL/inv_mpu.c **** 
1978:DMP/driver/eMPL/inv_mpu.c ****   for (jj = 0; jj < 3; jj++) {
1979:DMP/driver/eMPL/inv_mpu.c ****     st_shift_cust = labs(bias_regular[jj] - bias_st[jj]) / 65536.f;
1980:DMP/driver/eMPL/inv_mpu.c ****     if (tmp[jj]) {
1981:DMP/driver/eMPL/inv_mpu.c ****       st_shift = 3275.f / test.gyro_sens;
1982:DMP/driver/eMPL/inv_mpu.c ****       while (--tmp[jj])
1983:DMP/driver/eMPL/inv_mpu.c ****         st_shift *= 1.046f;
1984:DMP/driver/eMPL/inv_mpu.c ****       st_shift_var = st_shift_cust / st_shift - 1.f;
1985:DMP/driver/eMPL/inv_mpu.c ****       if (fabs(st_shift_var) > test.max_gyro_var)
1986:DMP/driver/eMPL/inv_mpu.c ****         result |= 1 << jj;
1987:DMP/driver/eMPL/inv_mpu.c ****     } else if ((st_shift_cust < test.min_dps) || (st_shift_cust > test.max_dps))
1988:DMP/driver/eMPL/inv_mpu.c ****       result |= 1 << jj;
1989:DMP/driver/eMPL/inv_mpu.c ****   }
1990:DMP/driver/eMPL/inv_mpu.c ****   return result;
1991:DMP/driver/eMPL/inv_mpu.c **** }
1992:DMP/driver/eMPL/inv_mpu.c **** 
1993:DMP/driver/eMPL/inv_mpu.c **** #endif
1994:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
1995:DMP/driver/eMPL/inv_mpu.c **** static int compass_self_test(void) {
1996:DMP/driver/eMPL/inv_mpu.c ****   unsigned char tmp[6];
1997:DMP/driver/eMPL/inv_mpu.c ****   unsigned char tries = 10;
1998:DMP/driver/eMPL/inv_mpu.c ****   int result = 0x07;
1999:DMP/driver/eMPL/inv_mpu.c ****   short data;
2000:DMP/driver/eMPL/inv_mpu.c **** 
2001:DMP/driver/eMPL/inv_mpu.c ****   mpu_set_bypass(1);
2002:DMP/driver/eMPL/inv_mpu.c **** 
2003:DMP/driver/eMPL/inv_mpu.c ****   tmp[0] = AKM_POWER_DOWN;
2004:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.chip_cfg.compass_addr, AKM_REG_CNTL, 1, tmp))
2005:DMP/driver/eMPL/inv_mpu.c ****     return 0x07;
2006:DMP/driver/eMPL/inv_mpu.c ****   tmp[0] = AKM_BIT_SELF_TEST;
2007:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.chip_cfg.compass_addr, AKM_REG_ASTC, 1, tmp))
2008:DMP/driver/eMPL/inv_mpu.c ****     goto AKM_restore;
2009:DMP/driver/eMPL/inv_mpu.c ****   tmp[0] = AKM_MODE_SELF_TEST;
2010:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.chip_cfg.compass_addr, AKM_REG_CNTL, 1, tmp))
2011:DMP/driver/eMPL/inv_mpu.c ****     goto AKM_restore;
2012:DMP/driver/eMPL/inv_mpu.c **** 
2013:DMP/driver/eMPL/inv_mpu.c ****   do {
2014:DMP/driver/eMPL/inv_mpu.c ****     delay_ms(10);
2015:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_read(st.chip_cfg.compass_addr, AKM_REG_ST1, 1, tmp))
2016:DMP/driver/eMPL/inv_mpu.c ****       goto AKM_restore;
2017:DMP/driver/eMPL/inv_mpu.c ****     if (tmp[0] & AKM_DATA_READY)
2018:DMP/driver/eMPL/inv_mpu.c ****       break;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 40


2019:DMP/driver/eMPL/inv_mpu.c ****   } while (tries--);
2020:DMP/driver/eMPL/inv_mpu.c ****   if (!(tmp[0] & AKM_DATA_READY))
2021:DMP/driver/eMPL/inv_mpu.c ****     goto AKM_restore;
2022:DMP/driver/eMPL/inv_mpu.c **** 
2023:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_read(st.chip_cfg.compass_addr, AKM_REG_HXL, 6, tmp))
2024:DMP/driver/eMPL/inv_mpu.c ****     goto AKM_restore;
2025:DMP/driver/eMPL/inv_mpu.c **** 
2026:DMP/driver/eMPL/inv_mpu.c ****   result = 0;
2027:DMP/driver/eMPL/inv_mpu.c **** #if defined MPU9150
2028:DMP/driver/eMPL/inv_mpu.c ****   data = (short)(tmp[1] << 8) | tmp[0];
2029:DMP/driver/eMPL/inv_mpu.c ****   if ((data > 100) || (data < -100))
2030:DMP/driver/eMPL/inv_mpu.c ****     result |= 0x01;
2031:DMP/driver/eMPL/inv_mpu.c ****   data = (short)(tmp[3] << 8) | tmp[2];
2032:DMP/driver/eMPL/inv_mpu.c ****   if ((data > 100) || (data < -100))
2033:DMP/driver/eMPL/inv_mpu.c ****     result |= 0x02;
2034:DMP/driver/eMPL/inv_mpu.c ****   data = (short)(tmp[5] << 8) | tmp[4];
2035:DMP/driver/eMPL/inv_mpu.c ****   if ((data > -300) || (data < -1000))
2036:DMP/driver/eMPL/inv_mpu.c ****     result |= 0x04;
2037:DMP/driver/eMPL/inv_mpu.c **** #elif defined MPU9250
2038:DMP/driver/eMPL/inv_mpu.c ****   data = (short)(tmp[1] << 8) | tmp[0];
2039:DMP/driver/eMPL/inv_mpu.c ****   if ((data > 200) || (data < -200))
2040:DMP/driver/eMPL/inv_mpu.c ****     result |= 0x01;
2041:DMP/driver/eMPL/inv_mpu.c ****   data = (short)(tmp[3] << 8) | tmp[2];
2042:DMP/driver/eMPL/inv_mpu.c ****   if ((data > 200) || (data < -200))
2043:DMP/driver/eMPL/inv_mpu.c ****     result |= 0x02;
2044:DMP/driver/eMPL/inv_mpu.c ****   data = (short)(tmp[5] << 8) | tmp[4];
2045:DMP/driver/eMPL/inv_mpu.c ****   if ((data > -800) || (data < -3200))
2046:DMP/driver/eMPL/inv_mpu.c ****     result |= 0x04;
2047:DMP/driver/eMPL/inv_mpu.c **** #endif
2048:DMP/driver/eMPL/inv_mpu.c **** AKM_restore:
2049:DMP/driver/eMPL/inv_mpu.c ****   tmp[0] = 0 | SUPPORTS_AK89xx_HIGH_SENS;
2050:DMP/driver/eMPL/inv_mpu.c ****   i2c_write(st.chip_cfg.compass_addr, AKM_REG_ASTC, 1, tmp);
2051:DMP/driver/eMPL/inv_mpu.c ****   tmp[0] = SUPPORTS_AK89xx_HIGH_SENS;
2052:DMP/driver/eMPL/inv_mpu.c ****   i2c_write(st.chip_cfg.compass_addr, AKM_REG_CNTL, 1, tmp);
2053:DMP/driver/eMPL/inv_mpu.c ****   mpu_set_bypass(0);
2054:DMP/driver/eMPL/inv_mpu.c ****   return result;
2055:DMP/driver/eMPL/inv_mpu.c **** }
2056:DMP/driver/eMPL/inv_mpu.c **** #endif
2057:DMP/driver/eMPL/inv_mpu.c **** 
2058:DMP/driver/eMPL/inv_mpu.c **** static int get_st_biases(long *gyro, long *accel, unsigned char hw_test) {
 182              		.loc 1 2058 74 is_stmt 1 view -0
 183              		.cfi_startproc
 184              		@ args = 0, pretend = 0, frame = 32
 185              		@ frame_needed = 0, uses_anonymous_args = 0
 186              		.loc 1 2058 74 is_stmt 0 view .LVU46
 187 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 188              	.LCFI4:
 189              		.cfi_def_cfa_offset 20
 190              		.cfi_offset 4, -20
 191              		.cfi_offset 5, -16
 192              		.cfi_offset 6, -12
 193              		.cfi_offset 7, -8
 194              		.cfi_offset 14, -4
 195 0002 89B0     		sub	sp, sp, #36
 196              	.LCFI5:
 197              		.cfi_def_cfa_offset 56
 198 0004 0546     		mov	r5, r0
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 41


 199 0006 0C46     		mov	r4, r1
 200 0008 1646     		mov	r6, r2
2059:DMP/driver/eMPL/inv_mpu.c ****   unsigned char data[MAX_PACKET_LENGTH];
 201              		.loc 1 2059 3 is_stmt 1 view .LVU47
2060:DMP/driver/eMPL/inv_mpu.c ****   unsigned char packet_count, ii;
 202              		.loc 1 2060 3 view .LVU48
2061:DMP/driver/eMPL/inv_mpu.c ****   unsigned short fifo_count;
 203              		.loc 1 2061 3 view .LVU49
2062:DMP/driver/eMPL/inv_mpu.c **** 
2063:DMP/driver/eMPL/inv_mpu.c ****   data[0] = 0x01;
 204              		.loc 1 2063 3 view .LVU50
 205              		.loc 1 2063 11 is_stmt 0 view .LVU51
 206 000a 0123     		movs	r3, #1
 207 000c 8DF81430 		strb	r3, [sp, #20]
2064:DMP/driver/eMPL/inv_mpu.c ****   data[1] = 0;
 208              		.loc 1 2064 3 is_stmt 1 view .LVU52
 209              		.loc 1 2064 11 is_stmt 0 view .LVU53
 210 0010 0023     		movs	r3, #0
 211 0012 8DF81530 		strb	r3, [sp, #21]
2065:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 2, data))
 212              		.loc 1 2065 3 is_stmt 1 view .LVU54
 213              		.loc 1 2065 19 is_stmt 0 view .LVU55
 214 0016 854B     		ldr	r3, .L50
 215 0018 5868     		ldr	r0, [r3, #4]
 216              	.LVL11:
 217              		.loc 1 2065 32 view .LVU56
 218 001a 1968     		ldr	r1, [r3]
 219              	.LVL12:
 220              		.loc 1 2065 7 view .LVU57
 221 001c 05AB     		add	r3, sp, #20
 222 001e 0222     		movs	r2, #2
 223              	.LVL13:
 224              		.loc 1 2065 7 view .LVU58
 225 0020 497D     		ldrb	r1, [r1, #21]	@ zero_extendqisi2
 226 0022 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 227 0024 FFF7FEFF 		bl	MPU_Write_Len
 228              	.LVL14:
 229              		.loc 1 2065 6 view .LVU59
 230 0028 0028     		cmp	r0, #0
 231 002a 40F0CE81 		bne	.L29
2066:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2067:DMP/driver/eMPL/inv_mpu.c ****   delay_ms(200);
 232              		.loc 1 2067 3 is_stmt 1 view .LVU60
 233 002e C820     		movs	r0, #200
 234 0030 FFF7FEFF 		bl	HAL_Delay
 235              	.LVL15:
2068:DMP/driver/eMPL/inv_mpu.c ****   data[0] = 0;
 236              		.loc 1 2068 3 view .LVU61
 237              		.loc 1 2068 11 is_stmt 0 view .LVU62
 238 0034 0023     		movs	r3, #0
 239 0036 8DF81430 		strb	r3, [sp, #20]
2069:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->int_enable, 1, data))
 240              		.loc 1 2069 3 is_stmt 1 view .LVU63
 241              		.loc 1 2069 19 is_stmt 0 view .LVU64
 242 003a 7C4B     		ldr	r3, .L50
 243 003c 5868     		ldr	r0, [r3, #4]
 244              		.loc 1 2069 32 view .LVU65
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 42


 245 003e 1968     		ldr	r1, [r3]
 246              		.loc 1 2069 7 view .LVU66
 247 0040 05AB     		add	r3, sp, #20
 248 0042 0122     		movs	r2, #1
 249 0044 497C     		ldrb	r1, [r1, #17]	@ zero_extendqisi2
 250 0046 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 251 0048 FFF7FEFF 		bl	MPU_Write_Len
 252              	.LVL16:
 253              		.loc 1 2069 6 view .LVU67
 254 004c 0028     		cmp	r0, #0
 255 004e 40F0BF81 		bne	.L30
2070:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2071:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->fifo_en, 1, data))
 256              		.loc 1 2071 3 is_stmt 1 view .LVU68
 257              		.loc 1 2071 19 is_stmt 0 view .LVU69
 258 0052 764B     		ldr	r3, .L50
 259 0054 5868     		ldr	r0, [r3, #4]
 260              		.loc 1 2071 32 view .LVU70
 261 0056 1968     		ldr	r1, [r3]
 262              		.loc 1 2071 7 view .LVU71
 263 0058 05AB     		add	r3, sp, #20
 264 005a 0122     		movs	r2, #1
 265 005c 4979     		ldrb	r1, [r1, #5]	@ zero_extendqisi2
 266 005e 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 267 0060 FFF7FEFF 		bl	MPU_Write_Len
 268              	.LVL17:
 269              		.loc 1 2071 6 view .LVU72
 270 0064 0028     		cmp	r0, #0
 271 0066 40F0B681 		bne	.L31
2072:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2073:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 1, data))
 272              		.loc 1 2073 3 is_stmt 1 view .LVU73
 273              		.loc 1 2073 19 is_stmt 0 view .LVU74
 274 006a 704B     		ldr	r3, .L50
 275 006c 5868     		ldr	r0, [r3, #4]
 276              		.loc 1 2073 32 view .LVU75
 277 006e 1968     		ldr	r1, [r3]
 278              		.loc 1 2073 7 view .LVU76
 279 0070 05AB     		add	r3, sp, #20
 280 0072 0122     		movs	r2, #1
 281 0074 497D     		ldrb	r1, [r1, #21]	@ zero_extendqisi2
 282 0076 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 283 0078 FFF7FEFF 		bl	MPU_Write_Len
 284              	.LVL18:
 285              		.loc 1 2073 6 view .LVU77
 286 007c 0028     		cmp	r0, #0
 287 007e 40F0AD81 		bne	.L32
2074:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2075:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->i2c_mst, 1, data))
 288              		.loc 1 2075 3 is_stmt 1 view .LVU78
 289              		.loc 1 2075 19 is_stmt 0 view .LVU79
 290 0082 6A4B     		ldr	r3, .L50
 291 0084 5868     		ldr	r0, [r3, #4]
 292              		.loc 1 2075 32 view .LVU80
 293 0086 1968     		ldr	r1, [r3]
 294              		.loc 1 2075 7 view .LVU81
 295 0088 05AB     		add	r3, sp, #20
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 43


 296 008a 0122     		movs	r2, #1
 297 008c 897E     		ldrb	r1, [r1, #26]	@ zero_extendqisi2
 298 008e 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 299 0090 FFF7FEFF 		bl	MPU_Write_Len
 300              	.LVL19:
 301              		.loc 1 2075 6 view .LVU82
 302 0094 0028     		cmp	r0, #0
 303 0096 40F0A481 		bne	.L33
2076:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2077:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, data))
 304              		.loc 1 2077 3 is_stmt 1 view .LVU83
 305              		.loc 1 2077 19 is_stmt 0 view .LVU84
 306 009a 644B     		ldr	r3, .L50
 307 009c 5868     		ldr	r0, [r3, #4]
 308              		.loc 1 2077 32 view .LVU85
 309 009e 1968     		ldr	r1, [r3]
 310              		.loc 1 2077 7 view .LVU86
 311 00a0 05AB     		add	r3, sp, #20
 312 00a2 0122     		movs	r2, #1
 313 00a4 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 314 00a6 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 315 00a8 FFF7FEFF 		bl	MPU_Write_Len
 316              	.LVL20:
 317              		.loc 1 2077 6 view .LVU87
 318 00ac 0028     		cmp	r0, #0
 319 00ae 40F09B81 		bne	.L34
2078:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2079:DMP/driver/eMPL/inv_mpu.c ****   data[0] = BIT_FIFO_RST | BIT_DMP_RST;
 320              		.loc 1 2079 3 is_stmt 1 view .LVU88
 321              		.loc 1 2079 11 is_stmt 0 view .LVU89
 322 00b2 0C23     		movs	r3, #12
 323 00b4 8DF81430 		strb	r3, [sp, #20]
2080:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, data))
 324              		.loc 1 2080 3 is_stmt 1 view .LVU90
 325              		.loc 1 2080 19 is_stmt 0 view .LVU91
 326 00b8 5C4B     		ldr	r3, .L50
 327 00ba 5868     		ldr	r0, [r3, #4]
 328              		.loc 1 2080 32 view .LVU92
 329 00bc 1968     		ldr	r1, [r3]
 330              		.loc 1 2080 7 view .LVU93
 331 00be 05AB     		add	r3, sp, #20
 332 00c0 0122     		movs	r2, #1
 333 00c2 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 334 00c4 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 335 00c6 FFF7FEFF 		bl	MPU_Write_Len
 336              	.LVL21:
 337              		.loc 1 2080 6 view .LVU94
 338 00ca 0028     		cmp	r0, #0
 339 00cc 40F08F81 		bne	.L35
2081:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2082:DMP/driver/eMPL/inv_mpu.c ****   delay_ms(15);
 340              		.loc 1 2082 3 is_stmt 1 view .LVU95
 341 00d0 0F20     		movs	r0, #15
 342 00d2 FFF7FEFF 		bl	HAL_Delay
 343              	.LVL22:
2083:DMP/driver/eMPL/inv_mpu.c ****   data[0] = st.test->reg_lpf;
 344              		.loc 1 2083 3 view .LVU96
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 44


 345              		.loc 1 2083 15 is_stmt 0 view .LVU97
 346 00d6 554B     		ldr	r3, .L50
 347 00d8 5A6B     		ldr	r2, [r3, #52]
 348              		.loc 1 2083 20 view .LVU98
 349 00da 527A     		ldrb	r2, [r2, #9]	@ zero_extendqisi2
 350              		.loc 1 2083 11 view .LVU99
 351 00dc 8DF81420 		strb	r2, [sp, #20]
2084:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->lpf, 1, data))
 352              		.loc 1 2084 3 is_stmt 1 view .LVU100
 353              		.loc 1 2084 19 is_stmt 0 view .LVU101
 354 00e0 5868     		ldr	r0, [r3, #4]
 355              		.loc 1 2084 32 view .LVU102
 356 00e2 1968     		ldr	r1, [r3]
 357              		.loc 1 2084 7 view .LVU103
 358 00e4 05AB     		add	r3, sp, #20
 359 00e6 0122     		movs	r2, #1
 360 00e8 8978     		ldrb	r1, [r1, #2]	@ zero_extendqisi2
 361 00ea 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 362 00ec FFF7FEFF 		bl	MPU_Write_Len
 363              	.LVL23:
 364              		.loc 1 2084 6 view .LVU104
 365 00f0 0028     		cmp	r0, #0
 366 00f2 40F07F81 		bne	.L36
2085:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2086:DMP/driver/eMPL/inv_mpu.c ****   data[0] = st.test->reg_rate_div;
 367              		.loc 1 2086 3 is_stmt 1 view .LVU105
 368              		.loc 1 2086 15 is_stmt 0 view .LVU106
 369 00f6 4D4B     		ldr	r3, .L50
 370 00f8 5A6B     		ldr	r2, [r3, #52]
 371              		.loc 1 2086 20 view .LVU107
 372 00fa 127A     		ldrb	r2, [r2, #8]	@ zero_extendqisi2
 373              		.loc 1 2086 11 view .LVU108
 374 00fc 8DF81420 		strb	r2, [sp, #20]
2087:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->rate_div, 1, data))
 375              		.loc 1 2087 3 is_stmt 1 view .LVU109
 376              		.loc 1 2087 19 is_stmt 0 view .LVU110
 377 0100 5868     		ldr	r0, [r3, #4]
 378              		.loc 1 2087 32 view .LVU111
 379 0102 1968     		ldr	r1, [r3]
 380              		.loc 1 2087 7 view .LVU112
 381 0104 05AB     		add	r3, sp, #20
 382 0106 0122     		movs	r2, #1
 383 0108 4978     		ldrb	r1, [r1, #1]	@ zero_extendqisi2
 384 010a 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 385 010c FFF7FEFF 		bl	MPU_Write_Len
 386              	.LVL24:
 387              		.loc 1 2087 6 view .LVU113
 388 0110 0028     		cmp	r0, #0
 389 0112 40F07281 		bne	.L37
2088:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2089:DMP/driver/eMPL/inv_mpu.c ****   if (hw_test)
 390              		.loc 1 2089 3 is_stmt 1 view .LVU114
 391              		.loc 1 2089 6 is_stmt 0 view .LVU115
 392 0116 002E     		cmp	r6, #0
 393 0118 79D0     		beq	.L17
2090:DMP/driver/eMPL/inv_mpu.c ****     data[0] = st.test->reg_gyro_fsr | 0xE0;
 394              		.loc 1 2090 5 is_stmt 1 view .LVU116
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 45


 395              		.loc 1 2090 17 is_stmt 0 view .LVU117
 396 011a 444B     		ldr	r3, .L50
 397 011c 5B6B     		ldr	r3, [r3, #52]
 398              		.loc 1 2090 22 view .LVU118
 399 011e 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 400              		.loc 1 2090 13 view .LVU119
 401 0120 63F01F03 		orn	r3, r3, #31
 402 0124 8DF81430 		strb	r3, [sp, #20]
 403              	.L18:
2091:DMP/driver/eMPL/inv_mpu.c ****   else
2092:DMP/driver/eMPL/inv_mpu.c ****     data[0] = st.test->reg_gyro_fsr;
2093:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->gyro_cfg, 1, data))
 404              		.loc 1 2093 3 is_stmt 1 view .LVU120
 405              		.loc 1 2093 19 is_stmt 0 view .LVU121
 406 0128 404B     		ldr	r3, .L50
 407 012a 5868     		ldr	r0, [r3, #4]
 408              		.loc 1 2093 32 view .LVU122
 409 012c 1968     		ldr	r1, [r3]
 410              		.loc 1 2093 7 view .LVU123
 411 012e 05AB     		add	r3, sp, #20
 412 0130 0122     		movs	r2, #1
 413 0132 8979     		ldrb	r1, [r1, #6]	@ zero_extendqisi2
 414 0134 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 415 0136 FFF7FEFF 		bl	MPU_Write_Len
 416              	.LVL25:
 417              		.loc 1 2093 6 view .LVU124
 418 013a 0028     		cmp	r0, #0
 419 013c 40F06081 		bne	.L38
2094:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2095:DMP/driver/eMPL/inv_mpu.c **** 
2096:DMP/driver/eMPL/inv_mpu.c ****   if (hw_test)
 420              		.loc 1 2096 3 is_stmt 1 view .LVU125
 421              		.loc 1 2096 6 is_stmt 0 view .LVU126
 422 0140 002E     		cmp	r6, #0
 423 0142 6AD0     		beq	.L19
2097:DMP/driver/eMPL/inv_mpu.c ****     data[0] = st.test->reg_accel_fsr | 0xE0;
 424              		.loc 1 2097 5 is_stmt 1 view .LVU127
 425              		.loc 1 2097 17 is_stmt 0 view .LVU128
 426 0144 394B     		ldr	r3, .L50
 427 0146 5B6B     		ldr	r3, [r3, #52]
 428              		.loc 1 2097 22 view .LVU129
 429 0148 DB7A     		ldrb	r3, [r3, #11]	@ zero_extendqisi2
 430              		.loc 1 2097 13 view .LVU130
 431 014a 63F01F03 		orn	r3, r3, #31
 432 014e 8DF81430 		strb	r3, [sp, #20]
 433              	.L20:
2098:DMP/driver/eMPL/inv_mpu.c ****   else
2099:DMP/driver/eMPL/inv_mpu.c ****     data[0] = test.reg_accel_fsr;
2100:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->accel_cfg, 1, data))
 434              		.loc 1 2100 3 is_stmt 1 view .LVU131
 435              		.loc 1 2100 19 is_stmt 0 view .LVU132
 436 0152 364B     		ldr	r3, .L50
 437 0154 5868     		ldr	r0, [r3, #4]
 438              		.loc 1 2100 32 view .LVU133
 439 0156 1968     		ldr	r1, [r3]
 440              		.loc 1 2100 7 view .LVU134
 441 0158 05AB     		add	r3, sp, #20
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 46


 442 015a 0122     		movs	r2, #1
 443 015c C979     		ldrb	r1, [r1, #7]	@ zero_extendqisi2
 444 015e 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 445 0160 FFF7FEFF 		bl	MPU_Write_Len
 446              	.LVL26:
 447              		.loc 1 2100 6 view .LVU135
 448 0164 0028     		cmp	r0, #0
 449 0166 40F04E81 		bne	.L39
2101:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2102:DMP/driver/eMPL/inv_mpu.c ****   if (hw_test)
 450              		.loc 1 2102 3 is_stmt 1 view .LVU136
 451              		.loc 1 2102 6 is_stmt 0 view .LVU137
 452 016a 002E     		cmp	r6, #0
 453 016c 59D1     		bne	.L45
 454              	.L21:
2103:DMP/driver/eMPL/inv_mpu.c ****     delay_ms(200);
2104:DMP/driver/eMPL/inv_mpu.c **** 
2105:DMP/driver/eMPL/inv_mpu.c ****   /* Fill FIFO for test.wait_ms milliseconds. */
2106:DMP/driver/eMPL/inv_mpu.c ****   data[0] = BIT_FIFO_EN;
 455              		.loc 1 2106 3 is_stmt 1 view .LVU138
 456              		.loc 1 2106 11 is_stmt 0 view .LVU139
 457 016e 4023     		movs	r3, #64
 458 0170 8DF81430 		strb	r3, [sp, #20]
2107:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, data))
 459              		.loc 1 2107 3 is_stmt 1 view .LVU140
 460              		.loc 1 2107 19 is_stmt 0 view .LVU141
 461 0174 2D4B     		ldr	r3, .L50
 462 0176 5868     		ldr	r0, [r3, #4]
 463              		.loc 1 2107 32 view .LVU142
 464 0178 1968     		ldr	r1, [r3]
 465              		.loc 1 2107 7 view .LVU143
 466 017a 05AB     		add	r3, sp, #20
 467 017c 0122     		movs	r2, #1
 468 017e 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 469 0180 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 470 0182 FFF7FEFF 		bl	MPU_Write_Len
 471              	.LVL27:
 472              		.loc 1 2107 6 view .LVU144
 473 0186 0028     		cmp	r0, #0
 474 0188 40F04081 		bne	.L40
2108:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2109:DMP/driver/eMPL/inv_mpu.c **** 
2110:DMP/driver/eMPL/inv_mpu.c ****   data[0] = INV_XYZ_GYRO | INV_XYZ_ACCEL;
 475              		.loc 1 2110 3 is_stmt 1 view .LVU145
 476              		.loc 1 2110 11 is_stmt 0 view .LVU146
 477 018c 7823     		movs	r3, #120
 478 018e 8DF81430 		strb	r3, [sp, #20]
2111:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->fifo_en, 1, data))
 479              		.loc 1 2111 3 is_stmt 1 view .LVU147
 480              		.loc 1 2111 19 is_stmt 0 view .LVU148
 481 0192 264B     		ldr	r3, .L50
 482 0194 5868     		ldr	r0, [r3, #4]
 483              		.loc 1 2111 32 view .LVU149
 484 0196 1968     		ldr	r1, [r3]
 485              		.loc 1 2111 7 view .LVU150
 486 0198 05AB     		add	r3, sp, #20
 487 019a 0122     		movs	r2, #1
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 47


 488 019c 4979     		ldrb	r1, [r1, #5]	@ zero_extendqisi2
 489 019e 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 490 01a0 FFF7FEFF 		bl	MPU_Write_Len
 491              	.LVL28:
 492              		.loc 1 2111 6 view .LVU151
 493 01a4 0028     		cmp	r0, #0
 494 01a6 40F03481 		bne	.L41
2112:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2113:DMP/driver/eMPL/inv_mpu.c ****   delay_ms(test.wait_ms);
 495              		.loc 1 2113 3 is_stmt 1 view .LVU152
 496 01aa C820     		movs	r0, #200
 497 01ac FFF7FEFF 		bl	HAL_Delay
 498              	.LVL29:
2114:DMP/driver/eMPL/inv_mpu.c ****   data[0] = 0;
 499              		.loc 1 2114 3 view .LVU153
 500              		.loc 1 2114 11 is_stmt 0 view .LVU154
 501 01b0 0023     		movs	r3, #0
 502 01b2 8DF81430 		strb	r3, [sp, #20]
2115:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->fifo_en, 1, data))
 503              		.loc 1 2115 3 is_stmt 1 view .LVU155
 504              		.loc 1 2115 19 is_stmt 0 view .LVU156
 505 01b6 1D4B     		ldr	r3, .L50
 506 01b8 5868     		ldr	r0, [r3, #4]
 507              		.loc 1 2115 32 view .LVU157
 508 01ba 1968     		ldr	r1, [r3]
 509              		.loc 1 2115 7 view .LVU158
 510 01bc 05AB     		add	r3, sp, #20
 511 01be 0122     		movs	r2, #1
 512 01c0 4979     		ldrb	r1, [r1, #5]	@ zero_extendqisi2
 513 01c2 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 514 01c4 FFF7FEFF 		bl	MPU_Write_Len
 515              	.LVL30:
 516              		.loc 1 2115 6 view .LVU159
 517 01c8 0028     		cmp	r0, #0
 518 01ca 40F02581 		bne	.L42
2116:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2117:DMP/driver/eMPL/inv_mpu.c **** 
2118:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_read(st.hw->addr, st.reg->fifo_count_h, 2, data))
 519              		.loc 1 2118 3 is_stmt 1 view .LVU160
 520              		.loc 1 2118 18 is_stmt 0 view .LVU161
 521 01ce 174B     		ldr	r3, .L50
 522 01d0 5868     		ldr	r0, [r3, #4]
 523              		.loc 1 2118 31 view .LVU162
 524 01d2 1968     		ldr	r1, [r3]
 525              		.loc 1 2118 7 view .LVU163
 526 01d4 05AB     		add	r3, sp, #20
 527 01d6 0222     		movs	r2, #2
 528 01d8 097B     		ldrb	r1, [r1, #12]	@ zero_extendqisi2
 529 01da 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 530 01dc FFF7FEFF 		bl	MPU_Read_Len
 531              	.LVL31:
 532              		.loc 1 2118 6 view .LVU164
 533 01e0 0646     		mov	r6, r0
 534 01e2 0028     		cmp	r0, #0
 535 01e4 40F01B81 		bne	.L43
2119:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2120:DMP/driver/eMPL/inv_mpu.c **** 
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 48


2121:DMP/driver/eMPL/inv_mpu.c ****   fifo_count = (data[0] << 8) | data[1];
 536              		.loc 1 2121 3 is_stmt 1 view .LVU165
 537              		.loc 1 2121 21 is_stmt 0 view .LVU166
 538 01e8 9DF81430 		ldrb	r3, [sp, #20]	@ zero_extendqisi2
 539              		.loc 1 2121 37 view .LVU167
 540 01ec 9DF81570 		ldrb	r7, [sp, #21]	@ zero_extendqisi2
 541              		.loc 1 2121 14 view .LVU168
 542 01f0 47EA0327 		orr	r7, r7, r3, lsl #8
 543              	.LVL32:
2122:DMP/driver/eMPL/inv_mpu.c ****   packet_count = fifo_count / MAX_PACKET_LENGTH;
 544              		.loc 1 2122 3 is_stmt 1 view .LVU169
 545              		.loc 1 2122 16 is_stmt 0 view .LVU170
 546 01f4 0E4B     		ldr	r3, .L50+4
 547 01f6 A3FB0737 		umull	r3, r7, r3, r7
 548              	.LVL33:
 549              		.loc 1 2122 16 view .LVU171
 550 01fa C7F3C707 		ubfx	r7, r7, #3, #8
 551              	.LVL34:
2123:DMP/driver/eMPL/inv_mpu.c ****   gyro[0] = gyro[1] = gyro[2] = 0;
 552              		.loc 1 2123 3 is_stmt 1 view .LVU172
 553              		.loc 1 2123 31 is_stmt 0 view .LVU173
 554 01fe 0023     		movs	r3, #0
 555 0200 AB60     		str	r3, [r5, #8]
 556              		.loc 1 2123 21 view .LVU174
 557 0202 6B60     		str	r3, [r5, #4]
 558              		.loc 1 2123 11 view .LVU175
 559 0204 2B60     		str	r3, [r5]
 560              	.LVL35:
2124:DMP/driver/eMPL/inv_mpu.c ****   accel[0] = accel[1] = accel[2] = 0;
 561              		.loc 1 2124 3 is_stmt 1 view .LVU176
 562              		.loc 1 2124 34 is_stmt 0 view .LVU177
 563 0206 A360     		str	r3, [r4, #8]
 564              		.loc 1 2124 23 view .LVU178
 565 0208 6360     		str	r3, [r4, #4]
 566              		.loc 1 2124 12 view .LVU179
 567 020a 2360     		str	r3, [r4]
2125:DMP/driver/eMPL/inv_mpu.c **** 
2126:DMP/driver/eMPL/inv_mpu.c ****   for (ii = 0; ii < packet_count; ii++) {
 568              		.loc 1 2126 3 is_stmt 1 view .LVU180
 569              	.LVL36:
 570              		.loc 1 2126 3 is_stmt 0 view .LVU181
 571 020c 5CE0     		b	.L22
 572              	.LVL37:
 573              	.L17:
2092:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->gyro_cfg, 1, data))
 574              		.loc 1 2092 5 is_stmt 1 view .LVU182
2092:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->gyro_cfg, 1, data))
 575              		.loc 1 2092 17 is_stmt 0 view .LVU183
 576 020e 074B     		ldr	r3, .L50
 577 0210 5B6B     		ldr	r3, [r3, #52]
2092:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->gyro_cfg, 1, data))
 578              		.loc 1 2092 22 view .LVU184
 579 0212 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
2092:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->gyro_cfg, 1, data))
 580              		.loc 1 2092 13 view .LVU185
 581 0214 8DF81430 		strb	r3, [sp, #20]
 582 0218 86E7     		b	.L18
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 49


 583              	.L19:
2099:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->accel_cfg, 1, data))
 584              		.loc 1 2099 5 is_stmt 1 view .LVU186
2099:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->accel_cfg, 1, data))
 585              		.loc 1 2099 13 is_stmt 0 view .LVU187
 586 021a 0023     		movs	r3, #0
 587 021c 8DF81430 		strb	r3, [sp, #20]
 588 0220 97E7     		b	.L20
 589              	.L45:
2103:DMP/driver/eMPL/inv_mpu.c **** 
 590              		.loc 1 2103 5 is_stmt 1 view .LVU188
 591 0222 C820     		movs	r0, #200
 592 0224 FFF7FEFF 		bl	HAL_Delay
 593              	.LVL38:
 594 0228 A1E7     		b	.L21
 595              	.L51:
 596 022a 00BF     		.align	2
 597              	.L50:
 598 022c 00000000 		.word	st
 599 0230 ABAAAAAA 		.word	-1431655765
 600              	.LVL39:
 601              	.L23:
 602              	.LBB2:
2127:DMP/driver/eMPL/inv_mpu.c ****     short accel_cur[3], gyro_cur[3];
2128:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_read(st.hw->addr, st.reg->fifo_r_w, MAX_PACKET_LENGTH, data))
2129:DMP/driver/eMPL/inv_mpu.c ****       return -1;
2130:DMP/driver/eMPL/inv_mpu.c ****     accel_cur[0] = ((short)data[0] << 8) | data[1];
 603              		.loc 1 2130 5 view .LVU189
 604              		.loc 1 2130 32 is_stmt 0 view .LVU190
 605 0234 9DF81430 		ldrb	r3, [sp, #20]	@ zero_extendqisi2
 606              		.loc 1 2130 48 view .LVU191
 607 0238 9DF81510 		ldrb	r1, [sp, #21]	@ zero_extendqisi2
 608              		.loc 1 2130 42 view .LVU192
 609 023c 41EA0321 		orr	r1, r1, r3, lsl #8
 610 0240 09B2     		sxth	r1, r1
 611              		.loc 1 2130 18 view .LVU193
 612 0242 ADF80410 		strh	r1, [sp, #4]	@ movhi
2131:DMP/driver/eMPL/inv_mpu.c ****     accel_cur[1] = ((short)data[2] << 8) | data[3];
 613              		.loc 1 2131 5 is_stmt 1 view .LVU194
 614              		.loc 1 2131 32 is_stmt 0 view .LVU195
 615 0246 9DF81630 		ldrb	r3, [sp, #22]	@ zero_extendqisi2
 616              		.loc 1 2131 48 view .LVU196
 617 024a 9DF81720 		ldrb	r2, [sp, #23]	@ zero_extendqisi2
 618              		.loc 1 2131 42 view .LVU197
 619 024e 42EA0322 		orr	r2, r2, r3, lsl #8
 620 0252 12B2     		sxth	r2, r2
 621              		.loc 1 2131 18 view .LVU198
 622 0254 ADF80620 		strh	r2, [sp, #6]	@ movhi
2132:DMP/driver/eMPL/inv_mpu.c ****     accel_cur[2] = ((short)data[4] << 8) | data[5];
 623              		.loc 1 2132 5 is_stmt 1 view .LVU199
 624              		.loc 1 2132 32 is_stmt 0 view .LVU200
 625 0258 9DF81800 		ldrb	r0, [sp, #24]	@ zero_extendqisi2
 626              		.loc 1 2132 48 view .LVU201
 627 025c 9DF81930 		ldrb	r3, [sp, #25]	@ zero_extendqisi2
 628              		.loc 1 2132 42 view .LVU202
 629 0260 43EA0023 		orr	r3, r3, r0, lsl #8
 630 0264 1BB2     		sxth	r3, r3
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 50


 631              		.loc 1 2132 18 view .LVU203
 632 0266 ADF80830 		strh	r3, [sp, #8]	@ movhi
2133:DMP/driver/eMPL/inv_mpu.c ****     accel[0] += (long)accel_cur[0];
 633              		.loc 1 2133 5 is_stmt 1 view .LVU204
 634              		.loc 1 2133 10 is_stmt 0 view .LVU205
 635 026a 2068     		ldr	r0, [r4]
 636              		.loc 1 2133 14 view .LVU206
 637 026c 0844     		add	r0, r0, r1
 638 026e 2060     		str	r0, [r4]
2134:DMP/driver/eMPL/inv_mpu.c ****     accel[1] += (long)accel_cur[1];
 639              		.loc 1 2134 5 is_stmt 1 view .LVU207
 640              		.loc 1 2134 10 is_stmt 0 view .LVU208
 641 0270 6168     		ldr	r1, [r4, #4]
 642              		.loc 1 2134 14 view .LVU209
 643 0272 1144     		add	r1, r1, r2
 644 0274 6160     		str	r1, [r4, #4]
2135:DMP/driver/eMPL/inv_mpu.c ****     accel[2] += (long)accel_cur[2];
 645              		.loc 1 2135 5 is_stmt 1 view .LVU210
 646              		.loc 1 2135 10 is_stmt 0 view .LVU211
 647 0276 A268     		ldr	r2, [r4, #8]
 648              		.loc 1 2135 14 view .LVU212
 649 0278 1A44     		add	r2, r2, r3
 650 027a A260     		str	r2, [r4, #8]
2136:DMP/driver/eMPL/inv_mpu.c ****     gyro_cur[0] = (((short)data[6] << 8) | data[7]);
 651              		.loc 1 2136 5 is_stmt 1 view .LVU213
 652              		.loc 1 2136 32 is_stmt 0 view .LVU214
 653 027c 9DF81A30 		ldrb	r3, [sp, #26]	@ zero_extendqisi2
 654              		.loc 1 2136 48 view .LVU215
 655 0280 9DF81B10 		ldrb	r1, [sp, #27]	@ zero_extendqisi2
 656              		.loc 1 2136 42 view .LVU216
 657 0284 41EA0321 		orr	r1, r1, r3, lsl #8
 658 0288 09B2     		sxth	r1, r1
 659              		.loc 1 2136 17 view .LVU217
 660 028a ADF80C10 		strh	r1, [sp, #12]	@ movhi
2137:DMP/driver/eMPL/inv_mpu.c ****     gyro_cur[1] = (((short)data[8] << 8) | data[9]);
 661              		.loc 1 2137 5 is_stmt 1 view .LVU218
 662              		.loc 1 2137 32 is_stmt 0 view .LVU219
 663 028e 9DF81C30 		ldrb	r3, [sp, #28]	@ zero_extendqisi2
 664              		.loc 1 2137 48 view .LVU220
 665 0292 9DF81D20 		ldrb	r2, [sp, #29]	@ zero_extendqisi2
 666              		.loc 1 2137 42 view .LVU221
 667 0296 42EA0322 		orr	r2, r2, r3, lsl #8
 668 029a 12B2     		sxth	r2, r2
 669              		.loc 1 2137 17 view .LVU222
 670 029c ADF80E20 		strh	r2, [sp, #14]	@ movhi
2138:DMP/driver/eMPL/inv_mpu.c ****     gyro_cur[2] = (((short)data[10] << 8) | data[11]);
 671              		.loc 1 2138 5 is_stmt 1 view .LVU223
 672              		.loc 1 2138 32 is_stmt 0 view .LVU224
 673 02a0 9DF81E00 		ldrb	r0, [sp, #30]	@ zero_extendqisi2
 674              		.loc 1 2138 49 view .LVU225
 675 02a4 9DF81F30 		ldrb	r3, [sp, #31]	@ zero_extendqisi2
 676              		.loc 1 2138 43 view .LVU226
 677 02a8 43EA0023 		orr	r3, r3, r0, lsl #8
 678 02ac 1BB2     		sxth	r3, r3
 679              		.loc 1 2138 17 view .LVU227
 680 02ae ADF81030 		strh	r3, [sp, #16]	@ movhi
2139:DMP/driver/eMPL/inv_mpu.c ****     gyro[0] += (long)gyro_cur[0];
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 51


 681              		.loc 1 2139 5 is_stmt 1 view .LVU228
 682              		.loc 1 2139 9 is_stmt 0 view .LVU229
 683 02b2 2868     		ldr	r0, [r5]
 684              		.loc 1 2139 13 view .LVU230
 685 02b4 0844     		add	r0, r0, r1
 686 02b6 2860     		str	r0, [r5]
2140:DMP/driver/eMPL/inv_mpu.c ****     gyro[1] += (long)gyro_cur[1];
 687              		.loc 1 2140 5 is_stmt 1 view .LVU231
 688              		.loc 1 2140 9 is_stmt 0 view .LVU232
 689 02b8 6968     		ldr	r1, [r5, #4]
 690              		.loc 1 2140 13 view .LVU233
 691 02ba 1144     		add	r1, r1, r2
 692 02bc 6960     		str	r1, [r5, #4]
2141:DMP/driver/eMPL/inv_mpu.c ****     gyro[2] += (long)gyro_cur[2];
 693              		.loc 1 2141 5 is_stmt 1 view .LVU234
 694              		.loc 1 2141 9 is_stmt 0 view .LVU235
 695 02be AA68     		ldr	r2, [r5, #8]
 696              		.loc 1 2141 13 view .LVU236
 697 02c0 1A44     		add	r2, r2, r3
 698 02c2 AA60     		str	r2, [r5, #8]
 699              	.LBE2:
2126:DMP/driver/eMPL/inv_mpu.c ****     short accel_cur[3], gyro_cur[3];
 700              		.loc 1 2126 37 is_stmt 1 view .LVU237
 701 02c4 0136     		adds	r6, r6, #1
 702              	.LVL40:
2126:DMP/driver/eMPL/inv_mpu.c ****     short accel_cur[3], gyro_cur[3];
 703              		.loc 1 2126 37 is_stmt 0 view .LVU238
 704 02c6 F6B2     		uxtb	r6, r6
 705              	.LVL41:
 706              	.L22:
2126:DMP/driver/eMPL/inv_mpu.c ****     short accel_cur[3], gyro_cur[3];
 707              		.loc 1 2126 19 is_stmt 1 discriminator 1 view .LVU239
 708 02c8 BE42     		cmp	r6, r7
 709 02ca 0ED2     		bcs	.L46
 710              	.LBB3:
2127:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_read(st.hw->addr, st.reg->fifo_r_w, MAX_PACKET_LENGTH, data))
 711              		.loc 1 2127 5 view .LVU240
2128:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 712              		.loc 1 2128 5 view .LVU241
2128:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 713              		.loc 1 2128 20 is_stmt 0 view .LVU242
 714 02cc 554B     		ldr	r3, .L52
 715 02ce 5868     		ldr	r0, [r3, #4]
2128:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 716              		.loc 1 2128 33 view .LVU243
 717 02d0 1968     		ldr	r1, [r3]
2128:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 718              		.loc 1 2128 9 view .LVU244
 719 02d2 05AB     		add	r3, sp, #20
 720 02d4 0C22     		movs	r2, #12
 721 02d6 497B     		ldrb	r1, [r1, #13]	@ zero_extendqisi2
 722 02d8 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 723 02da FFF7FEFF 		bl	MPU_Read_Len
 724              	.LVL42:
2128:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 725              		.loc 1 2128 8 view .LVU245
 726 02de 0028     		cmp	r0, #0
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 52


 727 02e0 A8D0     		beq	.L23
2129:DMP/driver/eMPL/inv_mpu.c ****     accel_cur[0] = ((short)data[0] << 8) | data[1];
 728              		.loc 1 2129 7 is_stmt 1 view .LVU246
2129:DMP/driver/eMPL/inv_mpu.c ****     accel_cur[0] = ((short)data[0] << 8) | data[1];
 729              		.loc 1 2129 14 is_stmt 0 view .LVU247
 730 02e2 4FF0FF30 		mov	r0, #-1
 731              	.LVL43:
 732              	.L15:
2129:DMP/driver/eMPL/inv_mpu.c ****     accel_cur[0] = ((short)data[0] << 8) | data[1];
 733              		.loc 1 2129 14 view .LVU248
 734              	.LBE3:
2142:DMP/driver/eMPL/inv_mpu.c ****   }
2143:DMP/driver/eMPL/inv_mpu.c **** #ifdef EMPL_NO_64BIT
2144:DMP/driver/eMPL/inv_mpu.c ****   gyro[0] = (long)(((float)gyro[0] * 65536.f) / test.gyro_sens / packet_count);
2145:DMP/driver/eMPL/inv_mpu.c ****   gyro[1] = (long)(((float)gyro[1] * 65536.f) / test.gyro_sens / packet_count);
2146:DMP/driver/eMPL/inv_mpu.c ****   gyro[2] = (long)(((float)gyro[2] * 65536.f) / test.gyro_sens / packet_count);
2147:DMP/driver/eMPL/inv_mpu.c ****   if (has_accel) {
2148:DMP/driver/eMPL/inv_mpu.c ****     accel[0] =
2149:DMP/driver/eMPL/inv_mpu.c ****         (long)(((float)accel[0] * 65536.f) / test.accel_sens / packet_count);
2150:DMP/driver/eMPL/inv_mpu.c ****     accel[1] =
2151:DMP/driver/eMPL/inv_mpu.c ****         (long)(((float)accel[1] * 65536.f) / test.accel_sens / packet_count);
2152:DMP/driver/eMPL/inv_mpu.c ****     accel[2] =
2153:DMP/driver/eMPL/inv_mpu.c ****         (long)(((float)accel[2] * 65536.f) / test.accel_sens / packet_count);
2154:DMP/driver/eMPL/inv_mpu.c ****     /* Don't remove gravity! */
2155:DMP/driver/eMPL/inv_mpu.c ****     accel[2] -= 65536L;
2156:DMP/driver/eMPL/inv_mpu.c ****   }
2157:DMP/driver/eMPL/inv_mpu.c **** #else
2158:DMP/driver/eMPL/inv_mpu.c ****   gyro[0] = (long)(((long long)gyro[0] << 16) / test.gyro_sens / packet_count);
2159:DMP/driver/eMPL/inv_mpu.c ****   gyro[1] = (long)(((long long)gyro[1] << 16) / test.gyro_sens / packet_count);
2160:DMP/driver/eMPL/inv_mpu.c ****   gyro[2] = (long)(((long long)gyro[2] << 16) / test.gyro_sens / packet_count);
2161:DMP/driver/eMPL/inv_mpu.c ****   accel[0] =
2162:DMP/driver/eMPL/inv_mpu.c ****       (long)(((long long)accel[0] << 16) / test.accel_sens / packet_count);
2163:DMP/driver/eMPL/inv_mpu.c ****   accel[1] =
2164:DMP/driver/eMPL/inv_mpu.c ****       (long)(((long long)accel[1] << 16) / test.accel_sens / packet_count);
2165:DMP/driver/eMPL/inv_mpu.c ****   accel[2] =
2166:DMP/driver/eMPL/inv_mpu.c ****       (long)(((long long)accel[2] << 16) / test.accel_sens / packet_count);
2167:DMP/driver/eMPL/inv_mpu.c ****   /* Don't remove gravity! */
2168:DMP/driver/eMPL/inv_mpu.c ****   if (accel[2] > 0L)
2169:DMP/driver/eMPL/inv_mpu.c ****     accel[2] -= 65536L;
2170:DMP/driver/eMPL/inv_mpu.c ****   else
2171:DMP/driver/eMPL/inv_mpu.c ****     accel[2] += 65536L;
2172:DMP/driver/eMPL/inv_mpu.c **** #endif
2173:DMP/driver/eMPL/inv_mpu.c **** 
2174:DMP/driver/eMPL/inv_mpu.c ****   return 0;
2175:DMP/driver/eMPL/inv_mpu.c **** }
 735              		.loc 1 2175 1 view .LVU249
 736 02e6 09B0     		add	sp, sp, #36
 737              	.LCFI6:
 738              		.cfi_remember_state
 739              		.cfi_def_cfa_offset 20
 740              		@ sp needed
 741 02e8 F0BD     		pop	{r4, r5, r6, r7, pc}
 742              	.LVL44:
 743              	.L46:
 744              	.LCFI7:
 745              		.cfi_restore_state
2158:DMP/driver/eMPL/inv_mpu.c ****   gyro[1] = (long)(((long long)gyro[1] << 16) / test.gyro_sens / packet_count);
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 53


 746              		.loc 1 2158 3 is_stmt 1 view .LVU250
2158:DMP/driver/eMPL/inv_mpu.c ****   gyro[1] = (long)(((long long)gyro[1] << 16) / test.gyro_sens / packet_count);
 747              		.loc 1 2158 36 is_stmt 0 view .LVU251
 748 02ea 2968     		ldr	r1, [r5]
2158:DMP/driver/eMPL/inv_mpu.c ****   gyro[1] = (long)(((long long)gyro[1] << 16) / test.gyro_sens / packet_count);
 749              		.loc 1 2158 47 view .LVU252
 750 02ec 8322     		movs	r2, #131
 751 02ee 0023     		movs	r3, #0
 752 02f0 0804     		lsls	r0, r1, #16
 753 02f2 0914     		asrs	r1, r1, #16
 754 02f4 FFF7FEFF 		bl	__aeabi_ldivmod
 755              	.LVL45:
2158:DMP/driver/eMPL/inv_mpu.c ****   gyro[1] = (long)(((long long)gyro[1] << 16) / test.gyro_sens / packet_count);
 756              		.loc 1 2158 64 view .LVU253
 757 02f8 0026     		movs	r6, #0
 758              	.LVL46:
2158:DMP/driver/eMPL/inv_mpu.c ****   gyro[1] = (long)(((long long)gyro[1] << 16) / test.gyro_sens / packet_count);
 759              		.loc 1 2158 64 view .LVU254
 760 02fa 3A46     		mov	r2, r7
 761 02fc 3346     		mov	r3, r6
 762 02fe FFF7FEFF 		bl	__aeabi_ldivmod
 763              	.LVL47:
2158:DMP/driver/eMPL/inv_mpu.c ****   gyro[1] = (long)(((long long)gyro[1] << 16) / test.gyro_sens / packet_count);
 764              		.loc 1 2158 11 view .LVU255
 765 0302 2860     		str	r0, [r5]
2159:DMP/driver/eMPL/inv_mpu.c ****   gyro[2] = (long)(((long long)gyro[2] << 16) / test.gyro_sens / packet_count);
 766              		.loc 1 2159 3 is_stmt 1 view .LVU256
2159:DMP/driver/eMPL/inv_mpu.c ****   gyro[2] = (long)(((long long)gyro[2] << 16) / test.gyro_sens / packet_count);
 767              		.loc 1 2159 36 is_stmt 0 view .LVU257
 768 0304 6968     		ldr	r1, [r5, #4]
2159:DMP/driver/eMPL/inv_mpu.c ****   gyro[2] = (long)(((long long)gyro[2] << 16) / test.gyro_sens / packet_count);
 769              		.loc 1 2159 47 view .LVU258
 770 0306 8322     		movs	r2, #131
 771 0308 0023     		movs	r3, #0
 772 030a 0804     		lsls	r0, r1, #16
 773 030c 0914     		asrs	r1, r1, #16
 774 030e FFF7FEFF 		bl	__aeabi_ldivmod
 775              	.LVL48:
2159:DMP/driver/eMPL/inv_mpu.c ****   gyro[2] = (long)(((long long)gyro[2] << 16) / test.gyro_sens / packet_count);
 776              		.loc 1 2159 64 view .LVU259
 777 0312 3A46     		mov	r2, r7
 778 0314 3346     		mov	r3, r6
 779 0316 FFF7FEFF 		bl	__aeabi_ldivmod
 780              	.LVL49:
2159:DMP/driver/eMPL/inv_mpu.c ****   gyro[2] = (long)(((long long)gyro[2] << 16) / test.gyro_sens / packet_count);
 781              		.loc 1 2159 11 view .LVU260
 782 031a 6860     		str	r0, [r5, #4]
2160:DMP/driver/eMPL/inv_mpu.c ****   accel[0] =
 783              		.loc 1 2160 3 is_stmt 1 view .LVU261
2160:DMP/driver/eMPL/inv_mpu.c ****   accel[0] =
 784              		.loc 1 2160 36 is_stmt 0 view .LVU262
 785 031c A968     		ldr	r1, [r5, #8]
2160:DMP/driver/eMPL/inv_mpu.c ****   accel[0] =
 786              		.loc 1 2160 47 view .LVU263
 787 031e 8322     		movs	r2, #131
 788 0320 0023     		movs	r3, #0
 789 0322 0804     		lsls	r0, r1, #16
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 54


 790 0324 0914     		asrs	r1, r1, #16
 791 0326 FFF7FEFF 		bl	__aeabi_ldivmod
 792              	.LVL50:
2160:DMP/driver/eMPL/inv_mpu.c ****   accel[0] =
 793              		.loc 1 2160 64 view .LVU264
 794 032a 3A46     		mov	r2, r7
 795 032c 3346     		mov	r3, r6
 796 032e FFF7FEFF 		bl	__aeabi_ldivmod
 797              	.LVL51:
2160:DMP/driver/eMPL/inv_mpu.c ****   accel[0] =
 798              		.loc 1 2160 11 view .LVU265
 799 0332 A860     		str	r0, [r5, #8]
2161:DMP/driver/eMPL/inv_mpu.c ****       (long)(((long long)accel[0] << 16) / test.accel_sens / packet_count);
 800              		.loc 1 2161 3 is_stmt 1 view .LVU266
2162:DMP/driver/eMPL/inv_mpu.c ****   accel[1] =
 801              		.loc 1 2162 31 is_stmt 0 view .LVU267
 802 0334 2068     		ldr	r0, [r4]
2162:DMP/driver/eMPL/inv_mpu.c ****   accel[1] =
 803              		.loc 1 2162 35 view .LVU268
 804 0336 0314     		asrs	r3, r0, #16
 805 0338 0004     		lsls	r0, r0, #16
2162:DMP/driver/eMPL/inv_mpu.c ****   accel[1] =
 806              		.loc 1 2162 42 view .LVU269
 807 033a 1946     		mov	r1, r3
 808 033c B342     		cmp	r3, r6
 809 033e 2DDB     		blt	.L47
 810              	.L25:
 811 0340 800B     		lsrs	r0, r0, #14
2162:DMP/driver/eMPL/inv_mpu.c ****   accel[1] =
 812              		.loc 1 2162 60 view .LVU270
 813 0342 3A46     		mov	r2, r7
 814 0344 3346     		mov	r3, r6
 815 0346 40EA8140 		orr	r0, r0, r1, lsl #18
 816 034a 8913     		asrs	r1, r1, #14
 817 034c FFF7FEFF 		bl	__aeabi_ldivmod
 818              	.LVL52:
2161:DMP/driver/eMPL/inv_mpu.c ****       (long)(((long long)accel[0] << 16) / test.accel_sens / packet_count);
 819              		.loc 1 2161 12 view .LVU271
 820 0350 2060     		str	r0, [r4]
2163:DMP/driver/eMPL/inv_mpu.c ****       (long)(((long long)accel[1] << 16) / test.accel_sens / packet_count);
 821              		.loc 1 2163 3 is_stmt 1 view .LVU272
2164:DMP/driver/eMPL/inv_mpu.c ****   accel[2] =
 822              		.loc 1 2164 31 is_stmt 0 view .LVU273
 823 0352 6068     		ldr	r0, [r4, #4]
2164:DMP/driver/eMPL/inv_mpu.c ****   accel[2] =
 824              		.loc 1 2164 35 view .LVU274
 825 0354 0314     		asrs	r3, r0, #16
 826 0356 0004     		lsls	r0, r0, #16
2164:DMP/driver/eMPL/inv_mpu.c ****   accel[2] =
 827              		.loc 1 2164 42 view .LVU275
 828 0358 1946     		mov	r1, r3
 829 035a 002B     		cmp	r3, #0
 830 035c 24DB     		blt	.L48
 831              	.L26:
 832 035e 800B     		lsrs	r0, r0, #14
2164:DMP/driver/eMPL/inv_mpu.c ****   accel[2] =
 833              		.loc 1 2164 60 view .LVU276
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 55


 834 0360 3A46     		mov	r2, r7
 835 0362 3346     		mov	r3, r6
 836 0364 40EA8140 		orr	r0, r0, r1, lsl #18
 837 0368 8913     		asrs	r1, r1, #14
 838 036a FFF7FEFF 		bl	__aeabi_ldivmod
 839              	.LVL53:
2163:DMP/driver/eMPL/inv_mpu.c ****       (long)(((long long)accel[1] << 16) / test.accel_sens / packet_count);
 840              		.loc 1 2163 12 view .LVU277
 841 036e 6060     		str	r0, [r4, #4]
2165:DMP/driver/eMPL/inv_mpu.c ****       (long)(((long long)accel[2] << 16) / test.accel_sens / packet_count);
 842              		.loc 1 2165 3 is_stmt 1 view .LVU278
2166:DMP/driver/eMPL/inv_mpu.c ****   /* Don't remove gravity! */
 843              		.loc 1 2166 31 is_stmt 0 view .LVU279
 844 0370 A068     		ldr	r0, [r4, #8]
2166:DMP/driver/eMPL/inv_mpu.c ****   /* Don't remove gravity! */
 845              		.loc 1 2166 35 view .LVU280
 846 0372 0314     		asrs	r3, r0, #16
 847 0374 0004     		lsls	r0, r0, #16
2166:DMP/driver/eMPL/inv_mpu.c ****   /* Don't remove gravity! */
 848              		.loc 1 2166 42 view .LVU281
 849 0376 1946     		mov	r1, r3
 850 0378 002B     		cmp	r3, #0
 851 037a 1BDB     		blt	.L49
 852              	.L27:
 853 037c 800B     		lsrs	r0, r0, #14
2166:DMP/driver/eMPL/inv_mpu.c ****   /* Don't remove gravity! */
 854              		.loc 1 2166 60 view .LVU282
 855 037e 3A46     		mov	r2, r7
 856 0380 3346     		mov	r3, r6
 857 0382 40EA8140 		orr	r0, r0, r1, lsl #18
 858 0386 8913     		asrs	r1, r1, #14
 859 0388 FFF7FEFF 		bl	__aeabi_ldivmod
 860              	.LVL54:
2165:DMP/driver/eMPL/inv_mpu.c ****       (long)(((long long)accel[2] << 16) / test.accel_sens / packet_count);
 861              		.loc 1 2165 12 view .LVU283
 862 038c A060     		str	r0, [r4, #8]
2168:DMP/driver/eMPL/inv_mpu.c ****     accel[2] -= 65536L;
 863              		.loc 1 2168 3 is_stmt 1 view .LVU284
2168:DMP/driver/eMPL/inv_mpu.c ****     accel[2] -= 65536L;
 864              		.loc 1 2168 6 is_stmt 0 view .LVU285
 865 038e 0028     		cmp	r0, #0
 866 0390 16DD     		ble	.L28
2169:DMP/driver/eMPL/inv_mpu.c ****   else
 867              		.loc 1 2169 5 is_stmt 1 view .LVU286
2169:DMP/driver/eMPL/inv_mpu.c ****   else
 868              		.loc 1 2169 14 is_stmt 0 view .LVU287
 869 0392 A0F58030 		sub	r0, r0, #65536
 870 0396 A060     		str	r0, [r4, #8]
2174:DMP/driver/eMPL/inv_mpu.c **** }
 871              		.loc 1 2174 10 view .LVU288
 872 0398 0020     		movs	r0, #0
 873 039a A4E7     		b	.L15
 874              	.L47:
2162:DMP/driver/eMPL/inv_mpu.c ****   accel[1] =
 875              		.loc 1 2162 42 view .LVU289
 876 039c 43F6FF72 		movw	r2, #16383
 877 03a0 8018     		adds	r0, r0, r2
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 56


 878 03a2 43F10001 		adc	r1, r3, #0
 879 03a6 CBE7     		b	.L25
 880              	.L48:
2164:DMP/driver/eMPL/inv_mpu.c ****   accel[2] =
 881              		.loc 1 2164 42 view .LVU290
 882 03a8 43F6FF72 		movw	r2, #16383
 883 03ac 8018     		adds	r0, r0, r2
 884 03ae 43F10001 		adc	r1, r3, #0
 885 03b2 D4E7     		b	.L26
 886              	.L49:
2166:DMP/driver/eMPL/inv_mpu.c ****   /* Don't remove gravity! */
 887              		.loc 1 2166 42 view .LVU291
 888 03b4 43F6FF72 		movw	r2, #16383
 889 03b8 8018     		adds	r0, r0, r2
 890 03ba 43F10001 		adc	r1, r3, #0
 891 03be DDE7     		b	.L27
 892              	.L28:
2171:DMP/driver/eMPL/inv_mpu.c **** #endif
 893              		.loc 1 2171 5 is_stmt 1 view .LVU292
2171:DMP/driver/eMPL/inv_mpu.c **** #endif
 894              		.loc 1 2171 14 is_stmt 0 view .LVU293
 895 03c0 00F58030 		add	r0, r0, #65536
 896 03c4 A060     		str	r0, [r4, #8]
2174:DMP/driver/eMPL/inv_mpu.c **** }
 897              		.loc 1 2174 10 view .LVU294
 898 03c6 0020     		movs	r0, #0
 899 03c8 8DE7     		b	.L15
 900              	.LVL55:
 901              	.L29:
2066:DMP/driver/eMPL/inv_mpu.c ****   delay_ms(200);
 902              		.loc 1 2066 12 view .LVU295
 903 03ca 4FF0FF30 		mov	r0, #-1
 904 03ce 8AE7     		b	.L15
 905              	.L30:
2070:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->fifo_en, 1, data))
 906              		.loc 1 2070 12 view .LVU296
 907 03d0 4FF0FF30 		mov	r0, #-1
 908 03d4 87E7     		b	.L15
 909              	.L31:
2072:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 1, data))
 910              		.loc 1 2072 12 view .LVU297
 911 03d6 4FF0FF30 		mov	r0, #-1
 912 03da 84E7     		b	.L15
 913              	.L32:
2074:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->i2c_mst, 1, data))
 914              		.loc 1 2074 12 view .LVU298
 915 03dc 4FF0FF30 		mov	r0, #-1
 916 03e0 81E7     		b	.L15
 917              	.L33:
2076:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, data))
 918              		.loc 1 2076 12 view .LVU299
 919 03e2 4FF0FF30 		mov	r0, #-1
 920 03e6 7EE7     		b	.L15
 921              	.L34:
2078:DMP/driver/eMPL/inv_mpu.c ****   data[0] = BIT_FIFO_RST | BIT_DMP_RST;
 922              		.loc 1 2078 12 view .LVU300
 923 03e8 4FF0FF30 		mov	r0, #-1
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 57


 924 03ec 7BE7     		b	.L15
 925              	.L35:
2081:DMP/driver/eMPL/inv_mpu.c ****   delay_ms(15);
 926              		.loc 1 2081 12 view .LVU301
 927 03ee 4FF0FF30 		mov	r0, #-1
 928 03f2 78E7     		b	.L15
 929              	.L36:
2085:DMP/driver/eMPL/inv_mpu.c ****   data[0] = st.test->reg_rate_div;
 930              		.loc 1 2085 12 view .LVU302
 931 03f4 4FF0FF30 		mov	r0, #-1
 932 03f8 75E7     		b	.L15
 933              	.L37:
2088:DMP/driver/eMPL/inv_mpu.c ****   if (hw_test)
 934              		.loc 1 2088 12 view .LVU303
 935 03fa 4FF0FF30 		mov	r0, #-1
 936 03fe 72E7     		b	.L15
 937              	.L38:
2094:DMP/driver/eMPL/inv_mpu.c **** 
 938              		.loc 1 2094 12 view .LVU304
 939 0400 4FF0FF30 		mov	r0, #-1
 940 0404 6FE7     		b	.L15
 941              	.L39:
2101:DMP/driver/eMPL/inv_mpu.c ****   if (hw_test)
 942              		.loc 1 2101 12 view .LVU305
 943 0406 4FF0FF30 		mov	r0, #-1
 944 040a 6CE7     		b	.L15
 945              	.L40:
2108:DMP/driver/eMPL/inv_mpu.c **** 
 946              		.loc 1 2108 12 view .LVU306
 947 040c 4FF0FF30 		mov	r0, #-1
 948 0410 69E7     		b	.L15
 949              	.L41:
2112:DMP/driver/eMPL/inv_mpu.c ****   delay_ms(test.wait_ms);
 950              		.loc 1 2112 12 view .LVU307
 951 0412 4FF0FF30 		mov	r0, #-1
 952 0416 66E7     		b	.L15
 953              	.L42:
2116:DMP/driver/eMPL/inv_mpu.c **** 
 954              		.loc 1 2116 12 view .LVU308
 955 0418 4FF0FF30 		mov	r0, #-1
 956 041c 63E7     		b	.L15
 957              	.L43:
2119:DMP/driver/eMPL/inv_mpu.c **** 
 958              		.loc 1 2119 12 view .LVU309
 959 041e 4FF0FF30 		mov	r0, #-1
 960 0422 60E7     		b	.L15
 961              	.L53:
 962              		.align	2
 963              	.L52:
 964 0424 00000000 		.word	st
 965              		.cfi_endproc
 966              	.LFE207:
 968              		.section	.rodata.get_st_6500_biases.str1.4,"aMS",%progbits,1
 969              		.align	2
 970              	.LC0:
 971 0000 53746172 		.ascii	"Starting Bias Loop Reads\000"
 971      74696E67 
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 58


 971      20426961 
 971      73204C6F 
 971      6F702052 
 972 0019 000000   		.align	2
 973              	.LC1:
 974 001c 53616D70 		.ascii	"Samples: %d\012\000"
 974      6C65733A 
 974      2025640A 
 974      00
 975              		.global	__aeabi_f2d
 976 0029 000000   		.align	2
 977              	.LC2:
 978 002c 41636365 		.ascii	"Accel offset data HWST bit=%d: %7.4f %7.4f %7.4f\015"
 978      6C206F66 
 978      66736574 
 978      20646174 
 978      61204857 
 979 005d 0A00     		.ascii	"\012\000"
 980 005f 00       		.align	2
 981              	.LC3:
 982 0060 4779726F 		.ascii	"Gyro offset data HWST bit=%d: %7.4f %7.4f %7.4f\015"
 982      206F6666 
 982      73657420 
 982      64617461 
 982      20485753 
 983 0090 0A00     		.ascii	"\012\000"
 984              		.section	.text.get_st_6500_biases,"ax",%progbits
 985              		.align	1
 986              		.syntax unified
 987              		.thumb
 988              		.thumb_func
 990              	get_st_6500_biases:
 991              	.LVL56:
 992              	.LFB210:
2176:DMP/driver/eMPL/inv_mpu.c **** 
2177:DMP/driver/eMPL/inv_mpu.c **** #ifdef MPU6500
2178:DMP/driver/eMPL/inv_mpu.c **** #define REG_6500_XG_ST_DATA 0x0
2179:DMP/driver/eMPL/inv_mpu.c **** #define REG_6500_XA_ST_DATA 0xD
2180:DMP/driver/eMPL/inv_mpu.c **** static const unsigned short mpu_6500_st_tb[256] = {
2181:DMP/driver/eMPL/inv_mpu.c ****     2620,  2646,  2672,  2699,  2726,  2753,  2781,  2808, // 7
2182:DMP/driver/eMPL/inv_mpu.c ****     2837,  2865,  2894,  2923,  2952,  2981,  3011,  3041, // 15
2183:DMP/driver/eMPL/inv_mpu.c ****     3072,  3102,  3133,  3165,  3196,  3228,  3261,  3293, // 23
2184:DMP/driver/eMPL/inv_mpu.c ****     3326,  3359,  3393,  3427,  3461,  3496,  3531,  3566, // 31
2185:DMP/driver/eMPL/inv_mpu.c ****     3602,  3638,  3674,  3711,  3748,  3786,  3823,  3862, // 39
2186:DMP/driver/eMPL/inv_mpu.c ****     3900,  3939,  3979,  4019,  4059,  4099,  4140,  4182, // 47
2187:DMP/driver/eMPL/inv_mpu.c ****     4224,  4266,  4308,  4352,  4395,  4439,  4483,  4528, // 55
2188:DMP/driver/eMPL/inv_mpu.c ****     4574,  4619,  4665,  4712,  4759,  4807,  4855,  4903, // 63
2189:DMP/driver/eMPL/inv_mpu.c ****     4953,  5002,  5052,  5103,  5154,  5205,  5257,  5310, // 71
2190:DMP/driver/eMPL/inv_mpu.c ****     5363,  5417,  5471,  5525,  5581,  5636,  5693,  5750, // 79
2191:DMP/driver/eMPL/inv_mpu.c ****     5807,  5865,  5924,  5983,  6043,  6104,  6165,  6226, // 87
2192:DMP/driver/eMPL/inv_mpu.c ****     6289,  6351,  6415,  6479,  6544,  6609,  6675,  6742, // 95
2193:DMP/driver/eMPL/inv_mpu.c ****     6810,  6878,  6946,  7016,  7086,  7157,  7229,  7301, // 103
2194:DMP/driver/eMPL/inv_mpu.c ****     7374,  7448,  7522,  7597,  7673,  7750,  7828,  7906, // 111
2195:DMP/driver/eMPL/inv_mpu.c ****     7985,  8065,  8145,  8227,  8309,  8392,  8476,  8561, // 119
2196:DMP/driver/eMPL/inv_mpu.c ****     8647,  8733,  8820,  8909,  8998,  9088,  9178,  9270,  9363,  9457,  9551,
2197:DMP/driver/eMPL/inv_mpu.c ****     9647,  9743,  9841,  9939,  10038, 10139, 10240, 10343, 10446, 10550, 10656,
2198:DMP/driver/eMPL/inv_mpu.c ****     10763, 10870, 10979, 11089, 11200, 11312, 11425, 11539, 11654, 11771, 11889,
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 59


2199:DMP/driver/eMPL/inv_mpu.c ****     12008, 12128, 12249, 12371, 12495, 12620, 12746, 12874, 13002, 13132, 13264,
2200:DMP/driver/eMPL/inv_mpu.c ****     13396, 13530, 13666, 13802, 13940, 14080, 14221, 14363, 14506, 14652, 14798,
2201:DMP/driver/eMPL/inv_mpu.c ****     14946, 15096, 15247, 15399, 15553, 15709, 15866, 16024, 16184, 16346, 16510,
2202:DMP/driver/eMPL/inv_mpu.c ****     16675, 16842, 17010, 17180, 17352, 17526, 17701, 17878, 18057, 18237, 18420,
2203:DMP/driver/eMPL/inv_mpu.c ****     18604, 18790, 18978, 19167, 19359, 19553, 19748, 19946, 20145, 20347, 20550,
2204:DMP/driver/eMPL/inv_mpu.c ****     20756, 20963, 21173, 21385, 21598, 21814, 22033, 22253, 22475, 22700, 22927,
2205:DMP/driver/eMPL/inv_mpu.c ****     23156, 23388, 23622, 23858, 24097, 24338, 24581, 24827, 25075, 25326, 25579,
2206:DMP/driver/eMPL/inv_mpu.c ****     25835, 26093, 26354, 26618, 26884, 27153, 27424, 27699, 27976, 28255, 28538,
2207:DMP/driver/eMPL/inv_mpu.c ****     28823, 29112, 29403, 29697, 29994, 30294, 30597, 30903, 31212, 31524, 31839,
2208:DMP/driver/eMPL/inv_mpu.c ****     32157, 32479, 32804, 33132};
2209:DMP/driver/eMPL/inv_mpu.c **** static int accel_6500_self_test(long *bias_regular, long *bias_st, int debug) {
2210:DMP/driver/eMPL/inv_mpu.c ****   int i, result = 0, otp_value_zero = 0;
2211:DMP/driver/eMPL/inv_mpu.c ****   float accel_st_al_min, accel_st_al_max;
2212:DMP/driver/eMPL/inv_mpu.c ****   float st_shift_cust[3], st_shift_ratio[3], ct_shift_prod[3], accel_offset_max;
2213:DMP/driver/eMPL/inv_mpu.c ****   unsigned char regs[3];
2214:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_read(st.hw->addr, REG_6500_XA_ST_DATA, 3, regs)) {
2215:DMP/driver/eMPL/inv_mpu.c ****     if (debug)
2216:DMP/driver/eMPL/inv_mpu.c ****       log_i("Reading OTP Register Error.\n");
2217:DMP/driver/eMPL/inv_mpu.c ****     return 0x07;
2218:DMP/driver/eMPL/inv_mpu.c ****   }
2219:DMP/driver/eMPL/inv_mpu.c ****   if (debug)
2220:DMP/driver/eMPL/inv_mpu.c ****     log_i("Accel OTP:%d, %d, %d\n", regs[0], regs[1], regs[2]);
2221:DMP/driver/eMPL/inv_mpu.c ****   for (i = 0; i < 3; i++) {
2222:DMP/driver/eMPL/inv_mpu.c ****     if (regs[i] != 0) {
2223:DMP/driver/eMPL/inv_mpu.c ****       ct_shift_prod[i] = mpu_6500_st_tb[regs[i] - 1];
2224:DMP/driver/eMPL/inv_mpu.c ****       ct_shift_prod[i] *= 65536.f;
2225:DMP/driver/eMPL/inv_mpu.c ****       ct_shift_prod[i] /= test.accel_sens;
2226:DMP/driver/eMPL/inv_mpu.c ****     } else {
2227:DMP/driver/eMPL/inv_mpu.c ****       ct_shift_prod[i] = 0;
2228:DMP/driver/eMPL/inv_mpu.c ****       otp_value_zero = 1;
2229:DMP/driver/eMPL/inv_mpu.c ****     }
2230:DMP/driver/eMPL/inv_mpu.c ****   }
2231:DMP/driver/eMPL/inv_mpu.c ****   if (otp_value_zero == 0) {
2232:DMP/driver/eMPL/inv_mpu.c ****     if (debug)
2233:DMP/driver/eMPL/inv_mpu.c ****       log_i("ACCEL:CRITERIA A\n");
2234:DMP/driver/eMPL/inv_mpu.c ****     for (i = 0; i < 3; i++) {
2235:DMP/driver/eMPL/inv_mpu.c ****       st_shift_cust[i] = bias_st[i] - bias_regular[i];
2236:DMP/driver/eMPL/inv_mpu.c ****       if (debug) {
2237:DMP/driver/eMPL/inv_mpu.c ****         log_i("Bias_Shift=%7.4f, Bias_Reg=%7.4f, Bias_HWST=%7.4f\r\n",
2238:DMP/driver/eMPL/inv_mpu.c ****               st_shift_cust[i] / 1.f, bias_regular[i] / 1.f, bias_st[i] / 1.f);
2239:DMP/driver/eMPL/inv_mpu.c ****         log_i("OTP value: %7.4f\r\n", ct_shift_prod[i] / 1.f);
2240:DMP/driver/eMPL/inv_mpu.c ****       }
2241:DMP/driver/eMPL/inv_mpu.c **** 
2242:DMP/driver/eMPL/inv_mpu.c ****       st_shift_ratio[i] = st_shift_cust[i] / ct_shift_prod[i] - 1.f;
2243:DMP/driver/eMPL/inv_mpu.c **** 
2244:DMP/driver/eMPL/inv_mpu.c ****       if (debug)
2245:DMP/driver/eMPL/inv_mpu.c ****         log_i("ratio=%7.4f, threshold=%7.4f\r\n", st_shift_ratio[i] / 1.f,
2246:DMP/driver/eMPL/inv_mpu.c ****               test.max_accel_var / 1.f);
2247:DMP/driver/eMPL/inv_mpu.c **** 
2248:DMP/driver/eMPL/inv_mpu.c ****       if (fabs(st_shift_ratio[i]) > test.max_accel_var) {
2249:DMP/driver/eMPL/inv_mpu.c ****         if (debug)
2250:DMP/driver/eMPL/inv_mpu.c ****           log_i("ACCEL Fail Axis = %d\n", i);
2251:DMP/driver/eMPL/inv_mpu.c ****         result |= 1 << i; // Error condition
2252:DMP/driver/eMPL/inv_mpu.c ****       }
2253:DMP/driver/eMPL/inv_mpu.c ****     }
2254:DMP/driver/eMPL/inv_mpu.c ****   } else {
2255:DMP/driver/eMPL/inv_mpu.c ****     /* Self Test Pass/Fail Criteria B */
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 60


2256:DMP/driver/eMPL/inv_mpu.c ****     accel_st_al_min = test.min_g * 65536.f;
2257:DMP/driver/eMPL/inv_mpu.c ****     accel_st_al_max = test.max_g * 65536.f;
2258:DMP/driver/eMPL/inv_mpu.c **** 
2259:DMP/driver/eMPL/inv_mpu.c ****     if (debug) {
2260:DMP/driver/eMPL/inv_mpu.c ****       log_i("ACCEL:CRITERIA B\r\n");
2261:DMP/driver/eMPL/inv_mpu.c ****       log_i("Min MG: %7.4f\r\n", accel_st_al_min / 1.f);
2262:DMP/driver/eMPL/inv_mpu.c ****       log_i("Max MG: %7.4f\r\n", accel_st_al_max / 1.f);
2263:DMP/driver/eMPL/inv_mpu.c ****     }
2264:DMP/driver/eMPL/inv_mpu.c **** 
2265:DMP/driver/eMPL/inv_mpu.c ****     for (i = 0; i < 3; i++) {
2266:DMP/driver/eMPL/inv_mpu.c ****       st_shift_cust[i] = bias_st[i] - bias_regular[i];
2267:DMP/driver/eMPL/inv_mpu.c **** 
2268:DMP/driver/eMPL/inv_mpu.c ****       if (debug)
2269:DMP/driver/eMPL/inv_mpu.c ****         log_i("Bias_shift=%7.4f, st=%7.4f, reg=%7.4f\n", st_shift_cust[i] / 1.f,
2270:DMP/driver/eMPL/inv_mpu.c ****               bias_st[i] / 1.f, bias_regular[i] / 1.f);
2271:DMP/driver/eMPL/inv_mpu.c ****       if (st_shift_cust[i] < accel_st_al_min ||
2272:DMP/driver/eMPL/inv_mpu.c ****           st_shift_cust[i] > accel_st_al_max) {
2273:DMP/driver/eMPL/inv_mpu.c ****         if (debug)
2274:DMP/driver/eMPL/inv_mpu.c ****           log_i("Accel FAIL axis:%d <= 225mg or >= 675mg\n", i);
2275:DMP/driver/eMPL/inv_mpu.c ****         result |= 1 << i; // Error condition
2276:DMP/driver/eMPL/inv_mpu.c ****       }
2277:DMP/driver/eMPL/inv_mpu.c ****     }
2278:DMP/driver/eMPL/inv_mpu.c ****   }
2279:DMP/driver/eMPL/inv_mpu.c **** 
2280:DMP/driver/eMPL/inv_mpu.c ****   if (result == 0) {
2281:DMP/driver/eMPL/inv_mpu.c ****     /* Self Test Pass/Fail Criteria C */
2282:DMP/driver/eMPL/inv_mpu.c ****     accel_offset_max = test.max_g_offset * 65536.f;
2283:DMP/driver/eMPL/inv_mpu.c ****     if (debug)
2284:DMP/driver/eMPL/inv_mpu.c ****       log_i("Accel:CRITERIA C: bias less than %7.4f\n", accel_offset_max / 1.f);
2285:DMP/driver/eMPL/inv_mpu.c ****     for (i = 0; i < 3; i++) {
2286:DMP/driver/eMPL/inv_mpu.c ****       if (fabs(bias_regular[i]) > accel_offset_max) {
2287:DMP/driver/eMPL/inv_mpu.c ****         if (debug)
2288:DMP/driver/eMPL/inv_mpu.c ****           log_i("FAILED: Accel axis:%d = %ld > 500mg\n", i, bias_regular[i]);
2289:DMP/driver/eMPL/inv_mpu.c ****         result |= 1 << i; // Error condition
2290:DMP/driver/eMPL/inv_mpu.c ****       }
2291:DMP/driver/eMPL/inv_mpu.c ****     }
2292:DMP/driver/eMPL/inv_mpu.c ****   }
2293:DMP/driver/eMPL/inv_mpu.c **** 
2294:DMP/driver/eMPL/inv_mpu.c ****   return result;
2295:DMP/driver/eMPL/inv_mpu.c **** }
2296:DMP/driver/eMPL/inv_mpu.c **** 
2297:DMP/driver/eMPL/inv_mpu.c **** static int gyro_6500_self_test(long *bias_regular, long *bias_st, int debug) {
2298:DMP/driver/eMPL/inv_mpu.c ****   int i, result = 0, otp_value_zero = 0;
2299:DMP/driver/eMPL/inv_mpu.c ****   float gyro_st_al_max;
2300:DMP/driver/eMPL/inv_mpu.c ****   float st_shift_cust[3], st_shift_ratio[3], ct_shift_prod[3], gyro_offset_max;
2301:DMP/driver/eMPL/inv_mpu.c ****   unsigned char regs[3];
2302:DMP/driver/eMPL/inv_mpu.c **** 
2303:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_read(st.hw->addr, REG_6500_XG_ST_DATA, 3, regs)) {
2304:DMP/driver/eMPL/inv_mpu.c ****     if (debug)
2305:DMP/driver/eMPL/inv_mpu.c ****       log_i("Reading OTP Register Error.\n");
2306:DMP/driver/eMPL/inv_mpu.c ****     return 0x07;
2307:DMP/driver/eMPL/inv_mpu.c ****   }
2308:DMP/driver/eMPL/inv_mpu.c **** 
2309:DMP/driver/eMPL/inv_mpu.c ****   if (debug)
2310:DMP/driver/eMPL/inv_mpu.c ****     log_i("Gyro OTP:%d, %d, %d\r\n", regs[0], regs[1], regs[2]);
2311:DMP/driver/eMPL/inv_mpu.c **** 
2312:DMP/driver/eMPL/inv_mpu.c ****   for (i = 0; i < 3; i++) {
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 61


2313:DMP/driver/eMPL/inv_mpu.c ****     if (regs[i] != 0) {
2314:DMP/driver/eMPL/inv_mpu.c ****       ct_shift_prod[i] = mpu_6500_st_tb[regs[i] - 1];
2315:DMP/driver/eMPL/inv_mpu.c ****       ct_shift_prod[i] *= 65536.f;
2316:DMP/driver/eMPL/inv_mpu.c ****       ct_shift_prod[i] /= test.gyro_sens;
2317:DMP/driver/eMPL/inv_mpu.c ****     } else {
2318:DMP/driver/eMPL/inv_mpu.c ****       ct_shift_prod[i] = 0;
2319:DMP/driver/eMPL/inv_mpu.c ****       otp_value_zero = 1;
2320:DMP/driver/eMPL/inv_mpu.c ****     }
2321:DMP/driver/eMPL/inv_mpu.c ****   }
2322:DMP/driver/eMPL/inv_mpu.c **** 
2323:DMP/driver/eMPL/inv_mpu.c ****   if (otp_value_zero == 0) {
2324:DMP/driver/eMPL/inv_mpu.c ****     if (debug)
2325:DMP/driver/eMPL/inv_mpu.c ****       log_i("GYRO:CRITERIA A\n");
2326:DMP/driver/eMPL/inv_mpu.c ****     /* Self Test Pass/Fail Criteria A */
2327:DMP/driver/eMPL/inv_mpu.c ****     for (i = 0; i < 3; i++) {
2328:DMP/driver/eMPL/inv_mpu.c ****       st_shift_cust[i] = bias_st[i] - bias_regular[i];
2329:DMP/driver/eMPL/inv_mpu.c **** 
2330:DMP/driver/eMPL/inv_mpu.c ****       if (debug) {
2331:DMP/driver/eMPL/inv_mpu.c ****         log_i("Bias_Shift=%7.4f, Bias_Reg=%7.4f, Bias_HWST=%7.4f\r\n",
2332:DMP/driver/eMPL/inv_mpu.c ****               st_shift_cust[i] / 1.f, bias_regular[i] / 1.f, bias_st[i] / 1.f);
2333:DMP/driver/eMPL/inv_mpu.c ****         log_i("OTP value: %7.4f\r\n", ct_shift_prod[i] / 1.f);
2334:DMP/driver/eMPL/inv_mpu.c ****       }
2335:DMP/driver/eMPL/inv_mpu.c **** 
2336:DMP/driver/eMPL/inv_mpu.c ****       st_shift_ratio[i] = st_shift_cust[i] / ct_shift_prod[i];
2337:DMP/driver/eMPL/inv_mpu.c **** 
2338:DMP/driver/eMPL/inv_mpu.c ****       if (debug)
2339:DMP/driver/eMPL/inv_mpu.c ****         log_i("ratio=%7.4f, threshold=%7.4f\r\n", st_shift_ratio[i] / 1.f,
2340:DMP/driver/eMPL/inv_mpu.c ****               test.max_gyro_var / 1.f);
2341:DMP/driver/eMPL/inv_mpu.c **** 
2342:DMP/driver/eMPL/inv_mpu.c ****       if (fabs(st_shift_ratio[i]) < test.max_gyro_var) {
2343:DMP/driver/eMPL/inv_mpu.c ****         if (debug)
2344:DMP/driver/eMPL/inv_mpu.c ****           log_i("Gyro Fail Axis = %d\n", i);
2345:DMP/driver/eMPL/inv_mpu.c ****         result |= 1 << i; // Error condition
2346:DMP/driver/eMPL/inv_mpu.c ****       }
2347:DMP/driver/eMPL/inv_mpu.c ****     }
2348:DMP/driver/eMPL/inv_mpu.c ****   } else {
2349:DMP/driver/eMPL/inv_mpu.c ****     /* Self Test Pass/Fail Criteria B */
2350:DMP/driver/eMPL/inv_mpu.c ****     gyro_st_al_max = test.max_dps * 65536.f;
2351:DMP/driver/eMPL/inv_mpu.c **** 
2352:DMP/driver/eMPL/inv_mpu.c ****     if (debug) {
2353:DMP/driver/eMPL/inv_mpu.c ****       log_i("GYRO:CRITERIA B\r\n");
2354:DMP/driver/eMPL/inv_mpu.c ****       log_i("Max DPS: %7.4f\r\n", gyro_st_al_max / 1.f);
2355:DMP/driver/eMPL/inv_mpu.c ****     }
2356:DMP/driver/eMPL/inv_mpu.c **** 
2357:DMP/driver/eMPL/inv_mpu.c ****     for (i = 0; i < 3; i++) {
2358:DMP/driver/eMPL/inv_mpu.c ****       st_shift_cust[i] = bias_st[i] - bias_regular[i];
2359:DMP/driver/eMPL/inv_mpu.c **** 
2360:DMP/driver/eMPL/inv_mpu.c ****       if (debug)
2361:DMP/driver/eMPL/inv_mpu.c ****         log_i("Bias_shift=%7.4f, st=%7.4f, reg=%7.4f\n", st_shift_cust[i] / 1.f,
2362:DMP/driver/eMPL/inv_mpu.c ****               bias_st[i] / 1.f, bias_regular[i] / 1.f);
2363:DMP/driver/eMPL/inv_mpu.c ****       if (st_shift_cust[i] < gyro_st_al_max) {
2364:DMP/driver/eMPL/inv_mpu.c ****         if (debug)
2365:DMP/driver/eMPL/inv_mpu.c ****           log_i("GYRO FAIL axis:%d greater than 60dps\n", i);
2366:DMP/driver/eMPL/inv_mpu.c ****         result |= 1 << i; // Error condition
2367:DMP/driver/eMPL/inv_mpu.c ****       }
2368:DMP/driver/eMPL/inv_mpu.c ****     }
2369:DMP/driver/eMPL/inv_mpu.c ****   }
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 62


2370:DMP/driver/eMPL/inv_mpu.c **** 
2371:DMP/driver/eMPL/inv_mpu.c ****   if (result == 0) {
2372:DMP/driver/eMPL/inv_mpu.c ****     /* Self Test Pass/Fail Criteria C */
2373:DMP/driver/eMPL/inv_mpu.c ****     gyro_offset_max = test.min_dps * 65536.f;
2374:DMP/driver/eMPL/inv_mpu.c ****     if (debug)
2375:DMP/driver/eMPL/inv_mpu.c ****       log_i("Gyro:CRITERIA C: bias less than %7.4f\n", gyro_offset_max / 1.f);
2376:DMP/driver/eMPL/inv_mpu.c ****     for (i = 0; i < 3; i++) {
2377:DMP/driver/eMPL/inv_mpu.c ****       if (fabs(bias_regular[i]) > gyro_offset_max) {
2378:DMP/driver/eMPL/inv_mpu.c ****         if (debug)
2379:DMP/driver/eMPL/inv_mpu.c ****           log_i("FAILED: Gyro axis:%d = %ld > 20dps\n", i, bias_regular[i]);
2380:DMP/driver/eMPL/inv_mpu.c ****         result |= 1 << i; // Error condition
2381:DMP/driver/eMPL/inv_mpu.c ****       }
2382:DMP/driver/eMPL/inv_mpu.c ****     }
2383:DMP/driver/eMPL/inv_mpu.c ****   }
2384:DMP/driver/eMPL/inv_mpu.c ****   return result;
2385:DMP/driver/eMPL/inv_mpu.c **** }
2386:DMP/driver/eMPL/inv_mpu.c **** 
2387:DMP/driver/eMPL/inv_mpu.c **** static int get_st_6500_biases(long *gyro, long *accel, unsigned char hw_test,
2388:DMP/driver/eMPL/inv_mpu.c ****                               int debug) {
 993              		.loc 1 2388 42 is_stmt 1 view -0
 994              		.cfi_startproc
 995              		@ args = 0, pretend = 0, frame = 528
 996              		@ frame_needed = 0, uses_anonymous_args = 0
 997              		.loc 1 2388 42 is_stmt 0 view .LVU311
 998 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 999              	.LCFI8:
 1000              		.cfi_def_cfa_offset 36
 1001              		.cfi_offset 4, -36
 1002              		.cfi_offset 5, -32
 1003              		.cfi_offset 6, -28
 1004              		.cfi_offset 7, -24
 1005              		.cfi_offset 8, -20
 1006              		.cfi_offset 9, -16
 1007              		.cfi_offset 10, -12
 1008              		.cfi_offset 11, -8
 1009              		.cfi_offset 14, -4
 1010 0004 2DED048B 		vpush.64	{d8, d9}
 1011              	.LCFI9:
 1012              		.cfi_def_cfa_offset 52
 1013              		.cfi_offset 80, -52
 1014              		.cfi_offset 81, -48
 1015              		.cfi_offset 82, -44
 1016              		.cfi_offset 83, -40
 1017 0008 ADF5097D 		sub	sp, sp, #548
 1018              	.LCFI10:
 1019              		.cfi_def_cfa_offset 600
 1020 000c 0546     		mov	r5, r0
 1021 000e 0C46     		mov	r4, r1
 1022 0010 9246     		mov	r10, r2
 1023 0012 9946     		mov	r9, r3
2389:DMP/driver/eMPL/inv_mpu.c ****   unsigned char data[HWST_MAX_PACKET_LENGTH];
 1024              		.loc 1 2389 3 is_stmt 1 view .LVU312
2390:DMP/driver/eMPL/inv_mpu.c ****   unsigned char packet_count, ii;
 1025              		.loc 1 2390 3 view .LVU313
2391:DMP/driver/eMPL/inv_mpu.c ****   unsigned short fifo_count;
 1026              		.loc 1 2391 3 view .LVU314
2392:DMP/driver/eMPL/inv_mpu.c ****   int s = 0, read_size = 0, ind;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 63


 1027              		.loc 1 2392 3 view .LVU315
 1028              	.LVL57:
2393:DMP/driver/eMPL/inv_mpu.c **** 
2394:DMP/driver/eMPL/inv_mpu.c ****   data[0] = 0x01;
 1029              		.loc 1 2394 3 view .LVU316
 1030              		.loc 1 2394 11 is_stmt 0 view .LVU317
 1031 0014 0123     		movs	r3, #1
 1032              	.LVL58:
 1033              		.loc 1 2394 11 view .LVU318
 1034 0016 8DF82030 		strb	r3, [sp, #32]
2395:DMP/driver/eMPL/inv_mpu.c ****   data[1] = 0;
 1035              		.loc 1 2395 3 is_stmt 1 view .LVU319
 1036              		.loc 1 2395 11 is_stmt 0 view .LVU320
 1037 001a 0023     		movs	r3, #0
 1038 001c 8DF82130 		strb	r3, [sp, #33]
2396:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 2, data))
 1039              		.loc 1 2396 3 is_stmt 1 view .LVU321
 1040              		.loc 1 2396 19 is_stmt 0 view .LVU322
 1041 0020 734B     		ldr	r3, .L97
 1042 0022 5868     		ldr	r0, [r3, #4]
 1043              	.LVL59:
 1044              		.loc 1 2396 32 view .LVU323
 1045 0024 1968     		ldr	r1, [r3]
 1046              	.LVL60:
 1047              		.loc 1 2396 7 view .LVU324
 1048 0026 08AB     		add	r3, sp, #32
 1049 0028 0222     		movs	r2, #2
 1050              	.LVL61:
 1051              		.loc 1 2396 7 view .LVU325
 1052 002a 497D     		ldrb	r1, [r1, #21]	@ zero_extendqisi2
 1053 002c 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 1054 002e FFF7FEFF 		bl	MPU_Write_Len
 1055              	.LVL62:
 1056              		.loc 1 2396 6 view .LVU326
 1057 0032 0028     		cmp	r0, #0
 1058 0034 40F05D82 		bne	.L72
2397:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2398:DMP/driver/eMPL/inv_mpu.c ****   delay_ms(200);
 1059              		.loc 1 2398 3 is_stmt 1 view .LVU327
 1060 0038 C820     		movs	r0, #200
 1061 003a FFF7FEFF 		bl	HAL_Delay
 1062              	.LVL63:
2399:DMP/driver/eMPL/inv_mpu.c ****   data[0] = 0;
 1063              		.loc 1 2399 3 view .LVU328
 1064              		.loc 1 2399 11 is_stmt 0 view .LVU329
 1065 003e 0023     		movs	r3, #0
 1066 0040 8DF82030 		strb	r3, [sp, #32]
2400:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->int_enable, 1, data))
 1067              		.loc 1 2400 3 is_stmt 1 view .LVU330
 1068              		.loc 1 2400 19 is_stmt 0 view .LVU331
 1069 0044 6A4B     		ldr	r3, .L97
 1070 0046 5868     		ldr	r0, [r3, #4]
 1071              		.loc 1 2400 32 view .LVU332
 1072 0048 1968     		ldr	r1, [r3]
 1073              		.loc 1 2400 7 view .LVU333
 1074 004a 08AB     		add	r3, sp, #32
 1075 004c 0122     		movs	r2, #1
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 64


 1076 004e 497C     		ldrb	r1, [r1, #17]	@ zero_extendqisi2
 1077 0050 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 1078 0052 FFF7FEFF 		bl	MPU_Write_Len
 1079              	.LVL64:
 1080              		.loc 1 2400 6 view .LVU334
 1081 0056 0028     		cmp	r0, #0
 1082 0058 40F04E82 		bne	.L73
2401:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2402:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->fifo_en, 1, data))
 1083              		.loc 1 2402 3 is_stmt 1 view .LVU335
 1084              		.loc 1 2402 19 is_stmt 0 view .LVU336
 1085 005c 644B     		ldr	r3, .L97
 1086 005e 5868     		ldr	r0, [r3, #4]
 1087              		.loc 1 2402 32 view .LVU337
 1088 0060 1968     		ldr	r1, [r3]
 1089              		.loc 1 2402 7 view .LVU338
 1090 0062 08AB     		add	r3, sp, #32
 1091 0064 0122     		movs	r2, #1
 1092 0066 4979     		ldrb	r1, [r1, #5]	@ zero_extendqisi2
 1093 0068 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 1094 006a FFF7FEFF 		bl	MPU_Write_Len
 1095              	.LVL65:
 1096              		.loc 1 2402 6 view .LVU339
 1097 006e 0028     		cmp	r0, #0
 1098 0070 40F04582 		bne	.L74
2403:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2404:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 1, data))
 1099              		.loc 1 2404 3 is_stmt 1 view .LVU340
 1100              		.loc 1 2404 19 is_stmt 0 view .LVU341
 1101 0074 5E4B     		ldr	r3, .L97
 1102 0076 5868     		ldr	r0, [r3, #4]
 1103              		.loc 1 2404 32 view .LVU342
 1104 0078 1968     		ldr	r1, [r3]
 1105              		.loc 1 2404 7 view .LVU343
 1106 007a 08AB     		add	r3, sp, #32
 1107 007c 0122     		movs	r2, #1
 1108 007e 497D     		ldrb	r1, [r1, #21]	@ zero_extendqisi2
 1109 0080 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 1110 0082 FFF7FEFF 		bl	MPU_Write_Len
 1111              	.LVL66:
 1112              		.loc 1 2404 6 view .LVU344
 1113 0086 0028     		cmp	r0, #0
 1114 0088 40F03C82 		bne	.L75
2405:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2406:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->i2c_mst, 1, data))
 1115              		.loc 1 2406 3 is_stmt 1 view .LVU345
 1116              		.loc 1 2406 19 is_stmt 0 view .LVU346
 1117 008c 584B     		ldr	r3, .L97
 1118 008e 5868     		ldr	r0, [r3, #4]
 1119              		.loc 1 2406 32 view .LVU347
 1120 0090 1968     		ldr	r1, [r3]
 1121              		.loc 1 2406 7 view .LVU348
 1122 0092 08AB     		add	r3, sp, #32
 1123 0094 0122     		movs	r2, #1
 1124 0096 897E     		ldrb	r1, [r1, #26]	@ zero_extendqisi2
 1125 0098 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 1126 009a FFF7FEFF 		bl	MPU_Write_Len
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 65


 1127              	.LVL67:
 1128              		.loc 1 2406 6 view .LVU349
 1129 009e 0028     		cmp	r0, #0
 1130 00a0 40F03382 		bne	.L76
2407:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2408:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, data))
 1131              		.loc 1 2408 3 is_stmt 1 view .LVU350
 1132              		.loc 1 2408 19 is_stmt 0 view .LVU351
 1133 00a4 524B     		ldr	r3, .L97
 1134 00a6 5868     		ldr	r0, [r3, #4]
 1135              		.loc 1 2408 32 view .LVU352
 1136 00a8 1968     		ldr	r1, [r3]
 1137              		.loc 1 2408 7 view .LVU353
 1138 00aa 08AB     		add	r3, sp, #32
 1139 00ac 0122     		movs	r2, #1
 1140 00ae 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 1141 00b0 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 1142 00b2 FFF7FEFF 		bl	MPU_Write_Len
 1143              	.LVL68:
 1144              		.loc 1 2408 6 view .LVU354
 1145 00b6 0028     		cmp	r0, #0
 1146 00b8 40F02A82 		bne	.L77
2409:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2410:DMP/driver/eMPL/inv_mpu.c ****   data[0] = BIT_FIFO_RST | BIT_DMP_RST;
 1147              		.loc 1 2410 3 is_stmt 1 view .LVU355
 1148              		.loc 1 2410 11 is_stmt 0 view .LVU356
 1149 00bc 0C23     		movs	r3, #12
 1150 00be 8DF82030 		strb	r3, [sp, #32]
2411:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, data))
 1151              		.loc 1 2411 3 is_stmt 1 view .LVU357
 1152              		.loc 1 2411 19 is_stmt 0 view .LVU358
 1153 00c2 4B4B     		ldr	r3, .L97
 1154 00c4 5868     		ldr	r0, [r3, #4]
 1155              		.loc 1 2411 32 view .LVU359
 1156 00c6 1968     		ldr	r1, [r3]
 1157              		.loc 1 2411 7 view .LVU360
 1158 00c8 08AB     		add	r3, sp, #32
 1159 00ca 0122     		movs	r2, #1
 1160 00cc 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 1161 00ce 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 1162 00d0 FFF7FEFF 		bl	MPU_Write_Len
 1163              	.LVL69:
 1164              		.loc 1 2411 6 view .LVU361
 1165 00d4 0028     		cmp	r0, #0
 1166 00d6 40F01E82 		bne	.L78
2412:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2413:DMP/driver/eMPL/inv_mpu.c ****   delay_ms(15);
 1167              		.loc 1 2413 3 is_stmt 1 view .LVU362
 1168 00da 0F20     		movs	r0, #15
 1169 00dc FFF7FEFF 		bl	HAL_Delay
 1170              	.LVL70:
2414:DMP/driver/eMPL/inv_mpu.c ****   data[0] = st.test->reg_lpf;
 1171              		.loc 1 2414 3 view .LVU363
 1172              		.loc 1 2414 15 is_stmt 0 view .LVU364
 1173 00e0 434B     		ldr	r3, .L97
 1174 00e2 5A6B     		ldr	r2, [r3, #52]
 1175              		.loc 1 2414 20 view .LVU365
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 66


 1176 00e4 527A     		ldrb	r2, [r2, #9]	@ zero_extendqisi2
 1177              		.loc 1 2414 11 view .LVU366
 1178 00e6 8DF82020 		strb	r2, [sp, #32]
2415:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->lpf, 1, data))
 1179              		.loc 1 2415 3 is_stmt 1 view .LVU367
 1180              		.loc 1 2415 19 is_stmt 0 view .LVU368
 1181 00ea 5868     		ldr	r0, [r3, #4]
 1182              		.loc 1 2415 32 view .LVU369
 1183 00ec 1968     		ldr	r1, [r3]
 1184              		.loc 1 2415 7 view .LVU370
 1185 00ee 08AB     		add	r3, sp, #32
 1186 00f0 0122     		movs	r2, #1
 1187 00f2 8978     		ldrb	r1, [r1, #2]	@ zero_extendqisi2
 1188 00f4 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 1189 00f6 FFF7FEFF 		bl	MPU_Write_Len
 1190              	.LVL71:
 1191              		.loc 1 2415 6 view .LVU371
 1192 00fa 0028     		cmp	r0, #0
 1193 00fc 40F00E82 		bne	.L79
2416:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2417:DMP/driver/eMPL/inv_mpu.c ****   data[0] = st.test->reg_rate_div;
 1194              		.loc 1 2417 3 is_stmt 1 view .LVU372
 1195              		.loc 1 2417 15 is_stmt 0 view .LVU373
 1196 0100 3B4B     		ldr	r3, .L97
 1197 0102 5A6B     		ldr	r2, [r3, #52]
 1198              		.loc 1 2417 20 view .LVU374
 1199 0104 127A     		ldrb	r2, [r2, #8]	@ zero_extendqisi2
 1200              		.loc 1 2417 11 view .LVU375
 1201 0106 8DF82020 		strb	r2, [sp, #32]
2418:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->rate_div, 1, data))
 1202              		.loc 1 2418 3 is_stmt 1 view .LVU376
 1203              		.loc 1 2418 19 is_stmt 0 view .LVU377
 1204 010a 5868     		ldr	r0, [r3, #4]
 1205              		.loc 1 2418 32 view .LVU378
 1206 010c 1968     		ldr	r1, [r3]
 1207              		.loc 1 2418 7 view .LVU379
 1208 010e 08AB     		add	r3, sp, #32
 1209 0110 0122     		movs	r2, #1
 1210 0112 4978     		ldrb	r1, [r1, #1]	@ zero_extendqisi2
 1211 0114 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 1212 0116 FFF7FEFF 		bl	MPU_Write_Len
 1213              	.LVL72:
 1214              		.loc 1 2418 6 view .LVU380
 1215 011a 0028     		cmp	r0, #0
 1216 011c 40F00182 		bne	.L80
2419:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2420:DMP/driver/eMPL/inv_mpu.c ****   if (hw_test)
 1217              		.loc 1 2420 3 is_stmt 1 view .LVU381
 1218              		.loc 1 2420 6 is_stmt 0 view .LVU382
 1219 0120 BAF1000F 		cmp	r10, #0
 1220 0124 55D0     		beq	.L56
2421:DMP/driver/eMPL/inv_mpu.c ****     data[0] = st.test->reg_gyro_fsr | 0xE0;
 1221              		.loc 1 2421 5 is_stmt 1 view .LVU383
 1222              		.loc 1 2421 17 is_stmt 0 view .LVU384
 1223 0126 324B     		ldr	r3, .L97
 1224 0128 5B6B     		ldr	r3, [r3, #52]
 1225              		.loc 1 2421 22 view .LVU385
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 67


 1226 012a 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 1227              		.loc 1 2421 13 view .LVU386
 1228 012c 63F01F03 		orn	r3, r3, #31
 1229 0130 8DF82030 		strb	r3, [sp, #32]
 1230              	.L57:
2422:DMP/driver/eMPL/inv_mpu.c ****   else
2423:DMP/driver/eMPL/inv_mpu.c ****     data[0] = st.test->reg_gyro_fsr;
2424:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->gyro_cfg, 1, data))
 1231              		.loc 1 2424 3 is_stmt 1 view .LVU387
 1232              		.loc 1 2424 19 is_stmt 0 view .LVU388
 1233 0134 2E4B     		ldr	r3, .L97
 1234 0136 5868     		ldr	r0, [r3, #4]
 1235              		.loc 1 2424 32 view .LVU389
 1236 0138 1968     		ldr	r1, [r3]
 1237              		.loc 1 2424 7 view .LVU390
 1238 013a 08AB     		add	r3, sp, #32
 1239 013c 0122     		movs	r2, #1
 1240 013e 8979     		ldrb	r1, [r1, #6]	@ zero_extendqisi2
 1241 0140 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 1242 0142 FFF7FEFF 		bl	MPU_Write_Len
 1243              	.LVL73:
 1244              		.loc 1 2424 6 view .LVU391
 1245 0146 0028     		cmp	r0, #0
 1246 0148 40F0EE81 		bne	.L81
2425:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2426:DMP/driver/eMPL/inv_mpu.c **** 
2427:DMP/driver/eMPL/inv_mpu.c ****   if (hw_test)
 1247              		.loc 1 2427 3 is_stmt 1 view .LVU392
 1248              		.loc 1 2427 6 is_stmt 0 view .LVU393
 1249 014c BAF1000F 		cmp	r10, #0
 1250 0150 45D0     		beq	.L58
2428:DMP/driver/eMPL/inv_mpu.c ****     data[0] = st.test->reg_accel_fsr | 0xE0;
 1251              		.loc 1 2428 5 is_stmt 1 view .LVU394
 1252              		.loc 1 2428 17 is_stmt 0 view .LVU395
 1253 0152 274B     		ldr	r3, .L97
 1254 0154 5B6B     		ldr	r3, [r3, #52]
 1255              		.loc 1 2428 22 view .LVU396
 1256 0156 DB7A     		ldrb	r3, [r3, #11]	@ zero_extendqisi2
 1257              		.loc 1 2428 13 view .LVU397
 1258 0158 63F01F03 		orn	r3, r3, #31
 1259 015c 8DF82030 		strb	r3, [sp, #32]
 1260              	.L59:
2429:DMP/driver/eMPL/inv_mpu.c ****   else
2430:DMP/driver/eMPL/inv_mpu.c ****     data[0] = test.reg_accel_fsr;
2431:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->accel_cfg, 1, data))
 1261              		.loc 1 2431 3 is_stmt 1 view .LVU398
 1262              		.loc 1 2431 19 is_stmt 0 view .LVU399
 1263 0160 234B     		ldr	r3, .L97
 1264 0162 5868     		ldr	r0, [r3, #4]
 1265              		.loc 1 2431 32 view .LVU400
 1266 0164 1968     		ldr	r1, [r3]
 1267              		.loc 1 2431 7 view .LVU401
 1268 0166 08AB     		add	r3, sp, #32
 1269 0168 0122     		movs	r2, #1
 1270 016a C979     		ldrb	r1, [r1, #7]	@ zero_extendqisi2
 1271 016c 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 1272 016e FFF7FEFF 		bl	MPU_Write_Len
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 68


 1273              	.LVL74:
 1274              		.loc 1 2431 6 view .LVU402
 1275 0172 0028     		cmp	r0, #0
 1276 0174 40F0DB81 		bne	.L82
2432:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2433:DMP/driver/eMPL/inv_mpu.c **** 
2434:DMP/driver/eMPL/inv_mpu.c ****   delay_ms(test.wait_ms); // wait 200ms for sensors to stabilize
 1277              		.loc 1 2434 3 is_stmt 1 view .LVU403
 1278 0178 C820     		movs	r0, #200
 1279 017a FFF7FEFF 		bl	HAL_Delay
 1280              	.LVL75:
2435:DMP/driver/eMPL/inv_mpu.c **** 
2436:DMP/driver/eMPL/inv_mpu.c ****   /* Enable FIFO */
2437:DMP/driver/eMPL/inv_mpu.c ****   data[0] = BIT_FIFO_EN;
 1281              		.loc 1 2437 3 view .LVU404
 1282              		.loc 1 2437 11 is_stmt 0 view .LVU405
 1283 017e 4023     		movs	r3, #64
 1284 0180 8DF82030 		strb	r3, [sp, #32]
2438:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, data))
 1285              		.loc 1 2438 3 is_stmt 1 view .LVU406
 1286              		.loc 1 2438 19 is_stmt 0 view .LVU407
 1287 0184 1A4B     		ldr	r3, .L97
 1288 0186 5868     		ldr	r0, [r3, #4]
 1289              		.loc 1 2438 32 view .LVU408
 1290 0188 1968     		ldr	r1, [r3]
 1291              		.loc 1 2438 7 view .LVU409
 1292 018a 08AB     		add	r3, sp, #32
 1293 018c 0122     		movs	r2, #1
 1294 018e 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 1295 0190 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 1296 0192 FFF7FEFF 		bl	MPU_Write_Len
 1297              	.LVL76:
 1298              		.loc 1 2438 6 view .LVU410
 1299 0196 0028     		cmp	r0, #0
 1300 0198 40F0CC81 		bne	.L83
2439:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2440:DMP/driver/eMPL/inv_mpu.c ****   data[0] = INV_XYZ_GYRO | INV_XYZ_ACCEL;
 1301              		.loc 1 2440 3 is_stmt 1 view .LVU411
 1302              		.loc 1 2440 11 is_stmt 0 view .LVU412
 1303 019c 7823     		movs	r3, #120
 1304 019e 8DF82030 		strb	r3, [sp, #32]
2441:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->fifo_en, 1, data))
 1305              		.loc 1 2441 3 is_stmt 1 view .LVU413
 1306              		.loc 1 2441 19 is_stmt 0 view .LVU414
 1307 01a2 134B     		ldr	r3, .L97
 1308 01a4 5868     		ldr	r0, [r3, #4]
 1309              		.loc 1 2441 32 view .LVU415
 1310 01a6 1968     		ldr	r1, [r3]
 1311              		.loc 1 2441 7 view .LVU416
 1312 01a8 08AB     		add	r3, sp, #32
 1313 01aa 0122     		movs	r2, #1
 1314 01ac 4979     		ldrb	r1, [r1, #5]	@ zero_extendqisi2
 1315 01ae 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 1316 01b0 FFF7FEFF 		bl	MPU_Write_Len
 1317              	.LVL77:
 1318              		.loc 1 2441 6 view .LVU417
 1319 01b4 0028     		cmp	r0, #0
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 69


 1320 01b6 40F0C081 		bne	.L84
2442:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2443:DMP/driver/eMPL/inv_mpu.c **** 
2444:DMP/driver/eMPL/inv_mpu.c ****   // initialize the bias return values
2445:DMP/driver/eMPL/inv_mpu.c ****   gyro[0] = gyro[1] = gyro[2] = 0;
 1321              		.loc 1 2445 3 is_stmt 1 view .LVU418
 1322              		.loc 1 2445 31 is_stmt 0 view .LVU419
 1323 01ba 0023     		movs	r3, #0
 1324 01bc AB60     		str	r3, [r5, #8]
 1325              		.loc 1 2445 21 view .LVU420
 1326 01be 6B60     		str	r3, [r5, #4]
 1327              		.loc 1 2445 11 view .LVU421
 1328 01c0 2B60     		str	r3, [r5]
2446:DMP/driver/eMPL/inv_mpu.c ****   accel[0] = accel[1] = accel[2] = 0;
 1329              		.loc 1 2446 3 is_stmt 1 view .LVU422
 1330              		.loc 1 2446 34 is_stmt 0 view .LVU423
 1331 01c2 A360     		str	r3, [r4, #8]
 1332              		.loc 1 2446 23 view .LVU424
 1333 01c4 6360     		str	r3, [r4, #4]
 1334              		.loc 1 2446 12 view .LVU425
 1335 01c6 2360     		str	r3, [r4]
2447:DMP/driver/eMPL/inv_mpu.c **** 
2448:DMP/driver/eMPL/inv_mpu.c ****   if (debug)
 1336              		.loc 1 2448 3 is_stmt 1 view .LVU426
 1337              		.loc 1 2448 6 is_stmt 0 view .LVU427
 1338 01c8 B9F1000F 		cmp	r9, #0
 1339 01cc 0BD1     		bne	.L90
 1340              	.L60:
2449:DMP/driver/eMPL/inv_mpu.c ****     log_i("Starting Bias Loop Reads\n");
2450:DMP/driver/eMPL/inv_mpu.c **** 
2451:DMP/driver/eMPL/inv_mpu.c ****   // start reading samples
2452:DMP/driver/eMPL/inv_mpu.c ****   while (s < test.packet_thresh) {
2453:DMP/driver/eMPL/inv_mpu.c ****     delay_ms(test.sample_wait_ms); // wait 10ms to fill FIFO
2454:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_read(st.hw->addr, st.reg->fifo_count_h, 2, data))
2455:DMP/driver/eMPL/inv_mpu.c ****       return -1;
2456:DMP/driver/eMPL/inv_mpu.c ****     fifo_count = (data[0] << 8) | data[1];
2457:DMP/driver/eMPL/inv_mpu.c ****     packet_count = fifo_count / MAX_PACKET_LENGTH;
2458:DMP/driver/eMPL/inv_mpu.c ****     if ((test.packet_thresh - s) < packet_count)
2459:DMP/driver/eMPL/inv_mpu.c ****       packet_count = test.packet_thresh - s;
2460:DMP/driver/eMPL/inv_mpu.c ****     read_size = packet_count * MAX_PACKET_LENGTH;
2461:DMP/driver/eMPL/inv_mpu.c **** 
2462:DMP/driver/eMPL/inv_mpu.c ****     // burst read from FIFO
2463:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_read(st.hw->addr, st.reg->fifo_r_w, read_size, data))
2464:DMP/driver/eMPL/inv_mpu.c ****       return -1;
2465:DMP/driver/eMPL/inv_mpu.c ****     ind = 0;
 1341              		.loc 1 2465 9 view .LVU428
 1342 01ce 0027     		movs	r7, #0
 1343 01d0 72E0     		b	.L64
 1344              	.L56:
2423:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->gyro_cfg, 1, data))
 1345              		.loc 1 2423 5 is_stmt 1 view .LVU429
2423:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->gyro_cfg, 1, data))
 1346              		.loc 1 2423 17 is_stmt 0 view .LVU430
 1347 01d2 074B     		ldr	r3, .L97
 1348 01d4 5B6B     		ldr	r3, [r3, #52]
2423:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->gyro_cfg, 1, data))
 1349              		.loc 1 2423 22 view .LVU431
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 70


 1350 01d6 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
2423:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->gyro_cfg, 1, data))
 1351              		.loc 1 2423 13 view .LVU432
 1352 01d8 8DF82030 		strb	r3, [sp, #32]
 1353 01dc AAE7     		b	.L57
 1354              	.L58:
2430:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->accel_cfg, 1, data))
 1355              		.loc 1 2430 5 is_stmt 1 view .LVU433
2430:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->accel_cfg, 1, data))
 1356              		.loc 1 2430 13 is_stmt 0 view .LVU434
 1357 01de 0023     		movs	r3, #0
 1358 01e0 8DF82030 		strb	r3, [sp, #32]
 1359 01e4 BCE7     		b	.L59
 1360              	.L90:
2449:DMP/driver/eMPL/inv_mpu.c ****     log_i("Starting Bias Loop Reads\n");
 1361              		.loc 1 2449 5 is_stmt 1 view .LVU435
 1362 01e6 0348     		ldr	r0, .L97+4
 1363 01e8 FFF7FEFF 		bl	puts
 1364              	.LVL78:
 1365 01ec EFE7     		b	.L60
 1366              	.L98:
 1367 01ee 00BF     		.align	2
 1368              	.L97:
 1369 01f0 00000000 		.word	st
 1370 01f4 00000000 		.word	.LC0
 1371              	.LVL79:
 1372              	.L63:
 1373              	.LBB4:
2466:DMP/driver/eMPL/inv_mpu.c ****     for (ii = 0; ii < packet_count; ii++) {
2467:DMP/driver/eMPL/inv_mpu.c ****       short accel_cur[3], gyro_cur[3];
 1374              		.loc 1 2467 7 discriminator 3 view .LVU436
2468:DMP/driver/eMPL/inv_mpu.c ****       accel_cur[0] = ((short)data[ind + 0] << 8) | data[ind + 1];
 1375              		.loc 1 2468 7 discriminator 3 view .LVU437
 1376              		.loc 1 2468 34 is_stmt 0 discriminator 3 view .LVU438
 1377 01f8 08AB     		add	r3, sp, #32
 1378 01fa 13F80C20 		ldrb	r2, [r3, ip]	@ zero_extendqisi2
 1379              		.loc 1 2468 61 discriminator 3 view .LVU439
 1380 01fe 0CF10101 		add	r1, ip, #1
 1381              		.loc 1 2468 56 discriminator 3 view .LVU440
 1382 0202 595C     		ldrb	r1, [r3, r1]	@ zero_extendqisi2
 1383              		.loc 1 2468 50 discriminator 3 view .LVU441
 1384 0204 41EA0221 		orr	r1, r1, r2, lsl #8
 1385 0208 09B2     		sxth	r1, r1
 1386              		.loc 1 2468 20 discriminator 3 view .LVU442
 1387 020a ADF81010 		strh	r1, [sp, #16]	@ movhi
2469:DMP/driver/eMPL/inv_mpu.c ****       accel_cur[1] = ((short)data[ind + 2] << 8) | data[ind + 3];
 1388              		.loc 1 2469 7 is_stmt 1 discriminator 3 view .LVU443
 1389              		.loc 1 2469 39 is_stmt 0 discriminator 3 view .LVU444
 1390 020e 0CF10202 		add	r2, ip, #2
 1391              		.loc 1 2469 34 discriminator 3 view .LVU445
 1392 0212 985C     		ldrb	r0, [r3, r2]	@ zero_extendqisi2
 1393              		.loc 1 2469 61 discriminator 3 view .LVU446
 1394 0214 0CF10302 		add	r2, ip, #3
 1395              		.loc 1 2469 56 discriminator 3 view .LVU447
 1396 0218 9A5C     		ldrb	r2, [r3, r2]	@ zero_extendqisi2
 1397              		.loc 1 2469 50 discriminator 3 view .LVU448
 1398 021a 42EA0022 		orr	r2, r2, r0, lsl #8
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 71


 1399 021e 12B2     		sxth	r2, r2
 1400              		.loc 1 2469 20 discriminator 3 view .LVU449
 1401 0220 ADF81220 		strh	r2, [sp, #18]	@ movhi
2470:DMP/driver/eMPL/inv_mpu.c ****       accel_cur[2] = ((short)data[ind + 4] << 8) | data[ind + 5];
 1402              		.loc 1 2470 7 is_stmt 1 discriminator 3 view .LVU450
 1403              		.loc 1 2470 39 is_stmt 0 discriminator 3 view .LVU451
 1404 0224 0CF10400 		add	r0, ip, #4
 1405              		.loc 1 2470 34 discriminator 3 view .LVU452
 1406 0228 185C     		ldrb	r0, [r3, r0]	@ zero_extendqisi2
 1407              		.loc 1 2470 61 discriminator 3 view .LVU453
 1408 022a 0CF1050B 		add	fp, ip, #5
 1409              		.loc 1 2470 56 discriminator 3 view .LVU454
 1410 022e 13F80BB0 		ldrb	fp, [r3, fp]	@ zero_extendqisi2
 1411              		.loc 1 2470 50 discriminator 3 view .LVU455
 1412 0232 4BEA002B 		orr	fp, fp, r0, lsl #8
 1413 0236 0FFA8BFB 		sxth	fp, fp
 1414              		.loc 1 2470 20 discriminator 3 view .LVU456
 1415 023a ADF814B0 		strh	fp, [sp, #20]	@ movhi
2471:DMP/driver/eMPL/inv_mpu.c ****       accel[0] += (long)accel_cur[0];
 1416              		.loc 1 2471 7 is_stmt 1 discriminator 3 view .LVU457
 1417              		.loc 1 2471 12 is_stmt 0 discriminator 3 view .LVU458
 1418 023e 2068     		ldr	r0, [r4]
 1419              		.loc 1 2471 16 discriminator 3 view .LVU459
 1420 0240 0844     		add	r0, r0, r1
 1421 0242 2060     		str	r0, [r4]
2472:DMP/driver/eMPL/inv_mpu.c ****       accel[1] += (long)accel_cur[1];
 1422              		.loc 1 2472 7 is_stmt 1 discriminator 3 view .LVU460
 1423              		.loc 1 2472 12 is_stmt 0 discriminator 3 view .LVU461
 1424 0244 6168     		ldr	r1, [r4, #4]
 1425              		.loc 1 2472 16 discriminator 3 view .LVU462
 1426 0246 1144     		add	r1, r1, r2
 1427 0248 6160     		str	r1, [r4, #4]
2473:DMP/driver/eMPL/inv_mpu.c ****       accel[2] += (long)accel_cur[2];
 1428              		.loc 1 2473 7 is_stmt 1 discriminator 3 view .LVU463
 1429              		.loc 1 2473 12 is_stmt 0 discriminator 3 view .LVU464
 1430 024a A268     		ldr	r2, [r4, #8]
 1431              		.loc 1 2473 16 discriminator 3 view .LVU465
 1432 024c 5A44     		add	r2, r2, fp
 1433 024e A260     		str	r2, [r4, #8]
2474:DMP/driver/eMPL/inv_mpu.c ****       gyro_cur[0] = (((short)data[ind + 6] << 8) | data[ind + 7]);
 1434              		.loc 1 2474 7 is_stmt 1 discriminator 3 view .LVU466
 1435              		.loc 1 2474 39 is_stmt 0 discriminator 3 view .LVU467
 1436 0250 0CF10602 		add	r2, ip, #6
 1437              		.loc 1 2474 34 discriminator 3 view .LVU468
 1438 0254 9A5C     		ldrb	r2, [r3, r2]	@ zero_extendqisi2
 1439              		.loc 1 2474 61 discriminator 3 view .LVU469
 1440 0256 0CF10701 		add	r1, ip, #7
 1441              		.loc 1 2474 56 discriminator 3 view .LVU470
 1442 025a 585C     		ldrb	r0, [r3, r1]	@ zero_extendqisi2
 1443              		.loc 1 2474 50 discriminator 3 view .LVU471
 1444 025c 40EA0220 		orr	r0, r0, r2, lsl #8
 1445 0260 00B2     		sxth	r0, r0
 1446              		.loc 1 2474 19 discriminator 3 view .LVU472
 1447 0262 ADF81800 		strh	r0, [sp, #24]	@ movhi
2475:DMP/driver/eMPL/inv_mpu.c ****       gyro_cur[1] = (((short)data[ind + 8] << 8) | data[ind + 9]);
 1448              		.loc 1 2475 7 is_stmt 1 discriminator 3 view .LVU473
 1449              		.loc 1 2475 39 is_stmt 0 discriminator 3 view .LVU474
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 72


 1450 0266 0CF10802 		add	r2, ip, #8
 1451              		.loc 1 2475 34 discriminator 3 view .LVU475
 1452 026a 995C     		ldrb	r1, [r3, r2]	@ zero_extendqisi2
 1453              		.loc 1 2475 61 discriminator 3 view .LVU476
 1454 026c 0CF10902 		add	r2, ip, #9
 1455              		.loc 1 2475 56 discriminator 3 view .LVU477
 1456 0270 9A5C     		ldrb	r2, [r3, r2]	@ zero_extendqisi2
 1457              		.loc 1 2475 50 discriminator 3 view .LVU478
 1458 0272 42EA0122 		orr	r2, r2, r1, lsl #8
 1459 0276 12B2     		sxth	r2, r2
 1460              		.loc 1 2475 19 discriminator 3 view .LVU479
 1461 0278 ADF81A20 		strh	r2, [sp, #26]	@ movhi
2476:DMP/driver/eMPL/inv_mpu.c ****       gyro_cur[2] = (((short)data[ind + 10] << 8) | data[ind + 11]);
 1462              		.loc 1 2476 7 is_stmt 1 discriminator 3 view .LVU480
 1463              		.loc 1 2476 39 is_stmt 0 discriminator 3 view .LVU481
 1464 027c 0CF10A01 		add	r1, ip, #10
 1465              		.loc 1 2476 34 discriminator 3 view .LVU482
 1466 0280 595C     		ldrb	r1, [r3, r1]	@ zero_extendqisi2
 1467              		.loc 1 2476 62 discriminator 3 view .LVU483
 1468 0282 0CF10B0B 		add	fp, ip, #11
 1469              		.loc 1 2476 57 discriminator 3 view .LVU484
 1470 0286 13F80B30 		ldrb	r3, [r3, fp]	@ zero_extendqisi2
 1471              		.loc 1 2476 51 discriminator 3 view .LVU485
 1472 028a 43EA0123 		orr	r3, r3, r1, lsl #8
 1473 028e 1BB2     		sxth	r3, r3
 1474              		.loc 1 2476 19 discriminator 3 view .LVU486
 1475 0290 ADF81C30 		strh	r3, [sp, #28]	@ movhi
2477:DMP/driver/eMPL/inv_mpu.c ****       gyro[0] += (long)gyro_cur[0];
 1476              		.loc 1 2477 7 is_stmt 1 discriminator 3 view .LVU487
 1477              		.loc 1 2477 11 is_stmt 0 discriminator 3 view .LVU488
 1478 0294 2968     		ldr	r1, [r5]
 1479              		.loc 1 2477 15 discriminator 3 view .LVU489
 1480 0296 0144     		add	r1, r1, r0
 1481 0298 2960     		str	r1, [r5]
2478:DMP/driver/eMPL/inv_mpu.c ****       gyro[1] += (long)gyro_cur[1];
 1482              		.loc 1 2478 7 is_stmt 1 discriminator 3 view .LVU490
 1483              		.loc 1 2478 11 is_stmt 0 discriminator 3 view .LVU491
 1484 029a 6968     		ldr	r1, [r5, #4]
 1485              		.loc 1 2478 15 discriminator 3 view .LVU492
 1486 029c 1144     		add	r1, r1, r2
 1487 029e 6960     		str	r1, [r5, #4]
2479:DMP/driver/eMPL/inv_mpu.c ****       gyro[2] += (long)gyro_cur[2];
 1488              		.loc 1 2479 7 is_stmt 1 discriminator 3 view .LVU493
 1489              		.loc 1 2479 11 is_stmt 0 discriminator 3 view .LVU494
 1490 02a0 AA68     		ldr	r2, [r5, #8]
 1491              		.loc 1 2479 15 discriminator 3 view .LVU495
 1492 02a2 1A44     		add	r2, r2, r3
 1493 02a4 AA60     		str	r2, [r5, #8]
2480:DMP/driver/eMPL/inv_mpu.c ****       ind += MAX_PACKET_LENGTH;
 1494              		.loc 1 2480 7 is_stmt 1 discriminator 3 view .LVU496
 1495              		.loc 1 2480 11 is_stmt 0 discriminator 3 view .LVU497
 1496 02a6 0CF10C0C 		add	ip, ip, #12
 1497              	.LVL80:
 1498              		.loc 1 2480 11 discriminator 3 view .LVU498
 1499              	.LBE4:
2466:DMP/driver/eMPL/inv_mpu.c ****       short accel_cur[3], gyro_cur[3];
 1500              		.loc 1 2466 39 is_stmt 1 discriminator 3 view .LVU499
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 73


 1501 02aa 0EF1010E 		add	lr, lr, #1
 1502              	.LVL81:
2466:DMP/driver/eMPL/inv_mpu.c ****       short accel_cur[3], gyro_cur[3];
 1503              		.loc 1 2466 39 is_stmt 0 discriminator 3 view .LVU500
 1504 02ae 5FFA8EFE 		uxtb	lr, lr
 1505              	.LVL82:
 1506              	.L62:
2466:DMP/driver/eMPL/inv_mpu.c ****       short accel_cur[3], gyro_cur[3];
 1507              		.loc 1 2466 21 is_stmt 1 discriminator 1 view .LVU501
 1508 02b2 7645     		cmp	r6, lr
 1509 02b4 A0D8     		bhi	.L63
2481:DMP/driver/eMPL/inv_mpu.c ****     }
2482:DMP/driver/eMPL/inv_mpu.c ****     s += packet_count;
 1510              		.loc 1 2482 5 view .LVU502
 1511              		.loc 1 2482 7 is_stmt 0 view .LVU503
 1512 02b6 4744     		add	r7, r7, r8
 1513              	.LVL83:
 1514              	.L64:
2452:DMP/driver/eMPL/inv_mpu.c ****     delay_ms(test.sample_wait_ms); // wait 10ms to fill FIFO
 1515              		.loc 1 2452 12 is_stmt 1 view .LVU504
 1516 02b8 C72F     		cmp	r7, #199
 1517 02ba 36DC     		bgt	.L91
2453:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_read(st.hw->addr, st.reg->fifo_count_h, 2, data))
 1518              		.loc 1 2453 5 view .LVU505
 1519 02bc 0A20     		movs	r0, #10
 1520 02be FFF7FEFF 		bl	HAL_Delay
 1521              	.LVL84:
2454:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 1522              		.loc 1 2454 5 view .LVU506
2454:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 1523              		.loc 1 2454 20 is_stmt 0 view .LVU507
 1524 02c2 A64B     		ldr	r3, .L99
 1525 02c4 5868     		ldr	r0, [r3, #4]
2454:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 1526              		.loc 1 2454 33 view .LVU508
 1527 02c6 1968     		ldr	r1, [r3]
2454:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 1528              		.loc 1 2454 9 view .LVU509
 1529 02c8 08AB     		add	r3, sp, #32
 1530 02ca 0222     		movs	r2, #2
 1531 02cc 097B     		ldrb	r1, [r1, #12]	@ zero_extendqisi2
 1532 02ce 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 1533 02d0 FFF7FEFF 		bl	MPU_Read_Len
 1534              	.LVL85:
2454:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 1535              		.loc 1 2454 8 view .LVU510
 1536 02d4 0028     		cmp	r0, #0
 1537 02d6 40F03381 		bne	.L85
2456:DMP/driver/eMPL/inv_mpu.c ****     packet_count = fifo_count / MAX_PACKET_LENGTH;
 1538              		.loc 1 2456 5 is_stmt 1 view .LVU511
2456:DMP/driver/eMPL/inv_mpu.c ****     packet_count = fifo_count / MAX_PACKET_LENGTH;
 1539              		.loc 1 2456 23 is_stmt 0 view .LVU512
 1540 02da 9DF82030 		ldrb	r3, [sp, #32]	@ zero_extendqisi2
2456:DMP/driver/eMPL/inv_mpu.c ****     packet_count = fifo_count / MAX_PACKET_LENGTH;
 1541              		.loc 1 2456 39 view .LVU513
 1542 02de 9DF82160 		ldrb	r6, [sp, #33]	@ zero_extendqisi2
2456:DMP/driver/eMPL/inv_mpu.c ****     packet_count = fifo_count / MAX_PACKET_LENGTH;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 74


 1543              		.loc 1 2456 16 view .LVU514
 1544 02e2 46EA0326 		orr	r6, r6, r3, lsl #8
 1545              	.LVL86:
2457:DMP/driver/eMPL/inv_mpu.c ****     if ((test.packet_thresh - s) < packet_count)
 1546              		.loc 1 2457 5 is_stmt 1 view .LVU515
2457:DMP/driver/eMPL/inv_mpu.c ****     if ((test.packet_thresh - s) < packet_count)
 1547              		.loc 1 2457 18 is_stmt 0 view .LVU516
 1548 02e6 9E4B     		ldr	r3, .L99+4
 1549 02e8 A3FB0636 		umull	r3, r6, r3, r6
 1550              	.LVL87:
2457:DMP/driver/eMPL/inv_mpu.c ****     if ((test.packet_thresh - s) < packet_count)
 1551              		.loc 1 2457 18 view .LVU517
 1552 02ec C6F3C706 		ubfx	r6, r6, #3, #8
 1553              	.LVL88:
2458:DMP/driver/eMPL/inv_mpu.c ****       packet_count = test.packet_thresh - s;
 1554              		.loc 1 2458 5 is_stmt 1 view .LVU518
2458:DMP/driver/eMPL/inv_mpu.c ****       packet_count = test.packet_thresh - s;
 1555              		.loc 1 2458 29 is_stmt 0 view .LVU519
 1556 02f0 C7F1C803 		rsb	r3, r7, #200
2458:DMP/driver/eMPL/inv_mpu.c ****       packet_count = test.packet_thresh - s;
 1557              		.loc 1 2458 8 view .LVU520
 1558 02f4 B342     		cmp	r3, r6
 1559 02f6 03DA     		bge	.L61
2459:DMP/driver/eMPL/inv_mpu.c ****     read_size = packet_count * MAX_PACKET_LENGTH;
 1560              		.loc 1 2459 7 is_stmt 1 view .LVU521
2459:DMP/driver/eMPL/inv_mpu.c ****     read_size = packet_count * MAX_PACKET_LENGTH;
 1561              		.loc 1 2459 41 is_stmt 0 view .LVU522
 1562 02f8 FEB2     		uxtb	r6, r7
 1563              	.LVL89:
2459:DMP/driver/eMPL/inv_mpu.c ****     read_size = packet_count * MAX_PACKET_LENGTH;
 1564              		.loc 1 2459 20 view .LVU523
 1565 02fa C6F1C806 		rsb	r6, r6, #200
 1566 02fe F6B2     		uxtb	r6, r6
 1567              	.LVL90:
 1568              	.L61:
2460:DMP/driver/eMPL/inv_mpu.c **** 
 1569              		.loc 1 2460 5 is_stmt 1 view .LVU524
2460:DMP/driver/eMPL/inv_mpu.c **** 
 1570              		.loc 1 2460 30 is_stmt 0 view .LVU525
 1571 0300 B046     		mov	r8, r6
2460:DMP/driver/eMPL/inv_mpu.c **** 
 1572              		.loc 1 2460 15 view .LVU526
 1573 0302 06EB4602 		add	r2, r6, r6, lsl #1
 1574 0306 9200     		lsls	r2, r2, #2
 1575              	.LVL91:
2463:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 1576              		.loc 1 2463 5 is_stmt 1 view .LVU527
2463:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 1577              		.loc 1 2463 20 is_stmt 0 view .LVU528
 1578 0308 944B     		ldr	r3, .L99
 1579 030a 5868     		ldr	r0, [r3, #4]
2463:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 1580              		.loc 1 2463 33 view .LVU529
 1581 030c 1968     		ldr	r1, [r3]
2463:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 1582              		.loc 1 2463 9 view .LVU530
 1583 030e 08AB     		add	r3, sp, #32
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 75


 1584              	.LVL92:
2463:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 1585              		.loc 1 2463 9 view .LVU531
 1586 0310 02F0FC02 		and	r2, r2, #252
 1587              	.LVL93:
2463:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 1588              		.loc 1 2463 9 view .LVU532
 1589 0314 497B     		ldrb	r1, [r1, #13]	@ zero_extendqisi2
 1590 0316 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 1591 0318 FFF7FEFF 		bl	MPU_Read_Len
 1592              	.LVL94:
2463:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 1593              		.loc 1 2463 8 view .LVU533
 1594 031c 8646     		mov	lr, r0
 1595 031e 0028     		cmp	r0, #0
 1596 0320 40F01681 		bne	.L86
2465:DMP/driver/eMPL/inv_mpu.c ****     for (ii = 0; ii < packet_count; ii++) {
 1597              		.loc 1 2465 9 view .LVU534
 1598 0324 4FF0000C 		mov	ip, #0
 1599 0328 C3E7     		b	.L62
 1600              	.LVL95:
 1601              	.L91:
2483:DMP/driver/eMPL/inv_mpu.c ****   }
2484:DMP/driver/eMPL/inv_mpu.c **** 
2485:DMP/driver/eMPL/inv_mpu.c ****   if (debug)
 1602              		.loc 1 2485 3 is_stmt 1 view .LVU535
 1603              		.loc 1 2485 6 is_stmt 0 view .LVU536
 1604 032a B9F1000F 		cmp	r9, #0
 1605 032e 6DD1     		bne	.L92
 1606              	.L66:
2486:DMP/driver/eMPL/inv_mpu.c ****     log_i("Samples: %d\n", s);
2487:DMP/driver/eMPL/inv_mpu.c **** 
2488:DMP/driver/eMPL/inv_mpu.c ****   // stop FIFO
2489:DMP/driver/eMPL/inv_mpu.c ****   data[0] = 0;
 1607              		.loc 1 2489 3 is_stmt 1 view .LVU537
 1608              		.loc 1 2489 11 is_stmt 0 view .LVU538
 1609 0330 0023     		movs	r3, #0
 1610 0332 8DF82030 		strb	r3, [sp, #32]
2490:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->fifo_en, 1, data))
 1611              		.loc 1 2490 3 is_stmt 1 view .LVU539
 1612              		.loc 1 2490 19 is_stmt 0 view .LVU540
 1613 0336 894B     		ldr	r3, .L99
 1614 0338 5868     		ldr	r0, [r3, #4]
 1615              		.loc 1 2490 32 view .LVU541
 1616 033a 1968     		ldr	r1, [r3]
 1617              		.loc 1 2490 7 view .LVU542
 1618 033c 08AB     		add	r3, sp, #32
 1619 033e 0122     		movs	r2, #1
 1620 0340 4979     		ldrb	r1, [r1, #5]	@ zero_extendqisi2
 1621 0342 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 1622 0344 FFF7FEFF 		bl	MPU_Write_Len
 1623              	.LVL96:
 1624              		.loc 1 2490 6 view .LVU543
 1625 0348 0028     		cmp	r0, #0
 1626 034a 40F00481 		bne	.L87
2491:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2492:DMP/driver/eMPL/inv_mpu.c **** 
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 76


2493:DMP/driver/eMPL/inv_mpu.c ****   gyro[0] = (long)(((long long)gyro[0] << 16) / test.gyro_sens / s);
 1627              		.loc 1 2493 3 is_stmt 1 view .LVU544
 1628              		.loc 1 2493 36 is_stmt 0 view .LVU545
 1629 034e 2968     		ldr	r1, [r5]
 1630              		.loc 1 2493 47 view .LVU546
 1631 0350 8322     		movs	r2, #131
 1632 0352 0023     		movs	r3, #0
 1633 0354 0804     		lsls	r0, r1, #16
 1634 0356 0914     		asrs	r1, r1, #16
 1635 0358 FFF7FEFF 		bl	__aeabi_ldivmod
 1636              	.LVL97:
 1637              		.loc 1 2493 64 view .LVU547
 1638 035c FE17     		asrs	r6, r7, #31
 1639 035e B846     		mov	r8, r7
 1640 0360 3A46     		mov	r2, r7
 1641 0362 3346     		mov	r3, r6
 1642 0364 FFF7FEFF 		bl	__aeabi_ldivmod
 1643              	.LVL98:
 1644              		.loc 1 2493 11 view .LVU548
 1645 0368 2860     		str	r0, [r5]
2494:DMP/driver/eMPL/inv_mpu.c ****   gyro[1] = (long)(((long long)gyro[1] << 16) / test.gyro_sens / s);
 1646              		.loc 1 2494 3 is_stmt 1 view .LVU549
 1647              		.loc 1 2494 36 is_stmt 0 view .LVU550
 1648 036a 6968     		ldr	r1, [r5, #4]
 1649              		.loc 1 2494 47 view .LVU551
 1650 036c 8322     		movs	r2, #131
 1651 036e 0023     		movs	r3, #0
 1652 0370 0804     		lsls	r0, r1, #16
 1653 0372 0914     		asrs	r1, r1, #16
 1654 0374 FFF7FEFF 		bl	__aeabi_ldivmod
 1655              	.LVL99:
 1656              		.loc 1 2494 64 view .LVU552
 1657 0378 3A46     		mov	r2, r7
 1658 037a 3346     		mov	r3, r6
 1659 037c FFF7FEFF 		bl	__aeabi_ldivmod
 1660              	.LVL100:
 1661              		.loc 1 2494 11 view .LVU553
 1662 0380 6860     		str	r0, [r5, #4]
2495:DMP/driver/eMPL/inv_mpu.c ****   gyro[2] = (long)(((long long)gyro[2] << 16) / test.gyro_sens / s);
 1663              		.loc 1 2495 3 is_stmt 1 view .LVU554
 1664              		.loc 1 2495 36 is_stmt 0 view .LVU555
 1665 0382 A968     		ldr	r1, [r5, #8]
 1666              		.loc 1 2495 47 view .LVU556
 1667 0384 8322     		movs	r2, #131
 1668 0386 0023     		movs	r3, #0
 1669 0388 0804     		lsls	r0, r1, #16
 1670 038a 0914     		asrs	r1, r1, #16
 1671 038c FFF7FEFF 		bl	__aeabi_ldivmod
 1672              	.LVL101:
 1673              		.loc 1 2495 64 view .LVU557
 1674 0390 3A46     		mov	r2, r7
 1675 0392 3346     		mov	r3, r6
 1676 0394 FFF7FEFF 		bl	__aeabi_ldivmod
 1677              	.LVL102:
 1678              		.loc 1 2495 11 view .LVU558
 1679 0398 A860     		str	r0, [r5, #8]
2496:DMP/driver/eMPL/inv_mpu.c ****   accel[0] = (long)(((long long)accel[0] << 16) / test.accel_sens / s);
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 77


 1680              		.loc 1 2496 3 is_stmt 1 view .LVU559
 1681              		.loc 1 2496 38 is_stmt 0 view .LVU560
 1682 039a 2368     		ldr	r3, [r4]
 1683              		.loc 1 2496 42 view .LVU561
 1684 039c 1A14     		asrs	r2, r3, #16
 1685 039e 1B04     		lsls	r3, r3, #16
 1686              		.loc 1 2496 49 view .LVU562
 1687 03a0 1146     		mov	r1, r2
 1688 03a2 002A     		cmp	r2, #0
 1689 03a4 37DB     		blt	.L93
 1690              	.L67:
 1691              		.loc 1 2496 49 view .LVU563
 1692 03a6 980B     		lsrs	r0, r3, #14
 1693              		.loc 1 2496 67 view .LVU564
 1694 03a8 4246     		mov	r2, r8
 1695 03aa 3346     		mov	r3, r6
 1696 03ac 40EA8140 		orr	r0, r0, r1, lsl #18
 1697 03b0 8913     		asrs	r1, r1, #14
 1698 03b2 FFF7FEFF 		bl	__aeabi_ldivmod
 1699              	.LVL103:
 1700 03b6 8346     		mov	fp, r0
 1701              		.loc 1 2496 12 view .LVU565
 1702 03b8 2060     		str	r0, [r4]
2497:DMP/driver/eMPL/inv_mpu.c ****   accel[1] = (long)(((long long)accel[1] << 16) / test.accel_sens / s);
 1703              		.loc 1 2497 3 is_stmt 1 view .LVU566
 1704              		.loc 1 2497 38 is_stmt 0 view .LVU567
 1705 03ba 6368     		ldr	r3, [r4, #4]
 1706              		.loc 1 2497 42 view .LVU568
 1707 03bc 1A14     		asrs	r2, r3, #16
 1708 03be 1B04     		lsls	r3, r3, #16
 1709              		.loc 1 2497 49 view .LVU569
 1710 03c0 1146     		mov	r1, r2
 1711 03c2 002A     		cmp	r2, #0
 1712 03c4 2DDB     		blt	.L94
 1713              	.L68:
 1714 03c6 980B     		lsrs	r0, r3, #14
 1715              		.loc 1 2497 67 view .LVU570
 1716 03c8 4246     		mov	r2, r8
 1717 03ca 3346     		mov	r3, r6
 1718 03cc 40EA8140 		orr	r0, r0, r1, lsl #18
 1719 03d0 8913     		asrs	r1, r1, #14
 1720 03d2 FFF7FEFF 		bl	__aeabi_ldivmod
 1721              	.LVL104:
 1722 03d6 0746     		mov	r7, r0
 1723              	.LVL105:
 1724              		.loc 1 2497 12 view .LVU571
 1725 03d8 6060     		str	r0, [r4, #4]
2498:DMP/driver/eMPL/inv_mpu.c ****   accel[2] = (long)(((long long)accel[2] << 16) / test.accel_sens / s);
 1726              		.loc 1 2498 3 is_stmt 1 view .LVU572
 1727              		.loc 1 2498 38 is_stmt 0 view .LVU573
 1728 03da A368     		ldr	r3, [r4, #8]
 1729              		.loc 1 2498 42 view .LVU574
 1730 03dc 1A14     		asrs	r2, r3, #16
 1731 03de 1B04     		lsls	r3, r3, #16
 1732              		.loc 1 2498 49 view .LVU575
 1733 03e0 1146     		mov	r1, r2
 1734 03e2 002A     		cmp	r2, #0
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 78


 1735 03e4 23DB     		blt	.L95
 1736              	.L69:
 1737 03e6 980B     		lsrs	r0, r3, #14
 1738              		.loc 1 2498 67 view .LVU576
 1739 03e8 4246     		mov	r2, r8
 1740 03ea 3346     		mov	r3, r6
 1741 03ec 40EA8140 		orr	r0, r0, r1, lsl #18
 1742 03f0 8913     		asrs	r1, r1, #14
 1743 03f2 FFF7FEFF 		bl	__aeabi_ldivmod
 1744              	.LVL106:
 1745              		.loc 1 2498 12 view .LVU577
 1746 03f6 A060     		str	r0, [r4, #8]
2499:DMP/driver/eMPL/inv_mpu.c ****   /* remove gravity from bias calculation */
2500:DMP/driver/eMPL/inv_mpu.c ****   if (accel[2] > 0L)
 1747              		.loc 1 2500 3 is_stmt 1 view .LVU578
 1748              		.loc 1 2500 6 is_stmt 0 view .LVU579
 1749 03f8 0028     		cmp	r0, #0
 1750 03fa 1EDD     		ble	.L70
2501:DMP/driver/eMPL/inv_mpu.c ****     accel[2] -= 65536L;
 1751              		.loc 1 2501 5 is_stmt 1 view .LVU580
 1752              		.loc 1 2501 14 is_stmt 0 view .LVU581
 1753 03fc A0F58030 		sub	r0, r0, #65536
 1754 0400 A060     		str	r0, [r4, #8]
 1755              	.L71:
2502:DMP/driver/eMPL/inv_mpu.c ****   else
2503:DMP/driver/eMPL/inv_mpu.c ****     accel[2] += 65536L;
2504:DMP/driver/eMPL/inv_mpu.c **** 
2505:DMP/driver/eMPL/inv_mpu.c ****   if (debug) {
 1756              		.loc 1 2505 3 is_stmt 1 view .LVU582
 1757              		.loc 1 2505 6 is_stmt 0 view .LVU583
 1758 0402 B9F1000F 		cmp	r9, #0
 1759 0406 1CD1     		bne	.L96
2506:DMP/driver/eMPL/inv_mpu.c ****     log_i("Accel offset data HWST bit=%d: %7.4f %7.4f %7.4f\r\n", hw_test,
2507:DMP/driver/eMPL/inv_mpu.c ****           accel[0] / 65536.f, accel[1] / 65536.f, accel[2] / 65536.f);
2508:DMP/driver/eMPL/inv_mpu.c ****     log_i("Gyro offset data HWST bit=%d: %7.4f %7.4f %7.4f\r\n", hw_test,
2509:DMP/driver/eMPL/inv_mpu.c ****           gyro[0] / 65536.f, gyro[1] / 65536.f, gyro[2] / 65536.f);
2510:DMP/driver/eMPL/inv_mpu.c ****   }
2511:DMP/driver/eMPL/inv_mpu.c **** 
2512:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 1760              		.loc 1 2512 10 view .LVU584
 1761 0408 4846     		mov	r0, r9
 1762 040a 9BE0     		b	.L54
 1763              	.LVL107:
 1764              	.L92:
2486:DMP/driver/eMPL/inv_mpu.c **** 
 1765              		.loc 1 2486 5 is_stmt 1 view .LVU585
 1766 040c 3946     		mov	r1, r7
 1767 040e 5548     		ldr	r0, .L99+8
 1768 0410 FFF7FEFF 		bl	printf
 1769              	.LVL108:
 1770 0414 8CE7     		b	.L66
 1771              	.L93:
2496:DMP/driver/eMPL/inv_mpu.c ****   accel[1] = (long)(((long long)accel[1] << 16) / test.accel_sens / s);
 1772              		.loc 1 2496 49 is_stmt 0 view .LVU586
 1773 0416 43F6FF71 		movw	r1, #16383
 1774 041a 5B18     		adds	r3, r3, r1
 1775 041c 42F10001 		adc	r1, r2, #0
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 79


 1776 0420 C1E7     		b	.L67
 1777              	.L94:
2497:DMP/driver/eMPL/inv_mpu.c ****   accel[2] = (long)(((long long)accel[2] << 16) / test.accel_sens / s);
 1778              		.loc 1 2497 49 view .LVU587
 1779 0422 43F6FF71 		movw	r1, #16383
 1780 0426 5B18     		adds	r3, r3, r1
 1781 0428 42F10001 		adc	r1, r2, #0
 1782 042c CBE7     		b	.L68
 1783              	.LVL109:
 1784              	.L95:
2498:DMP/driver/eMPL/inv_mpu.c ****   /* remove gravity from bias calculation */
 1785              		.loc 1 2498 49 view .LVU588
 1786 042e 43F6FF71 		movw	r1, #16383
 1787 0432 5B18     		adds	r3, r3, r1
 1788 0434 42F10001 		adc	r1, r2, #0
 1789 0438 D5E7     		b	.L69
 1790              	.L70:
2503:DMP/driver/eMPL/inv_mpu.c **** 
 1791              		.loc 1 2503 5 is_stmt 1 view .LVU589
2503:DMP/driver/eMPL/inv_mpu.c **** 
 1792              		.loc 1 2503 14 is_stmt 0 view .LVU590
 1793 043a 00F58030 		add	r0, r0, #65536
 1794 043e A060     		str	r0, [r4, #8]
 1795 0440 DFE7     		b	.L71
 1796              	.L96:
2506:DMP/driver/eMPL/inv_mpu.c ****           accel[0] / 65536.f, accel[1] / 65536.f, accel[2] / 65536.f);
 1797              		.loc 1 2506 5 is_stmt 1 view .LVU591
2507:DMP/driver/eMPL/inv_mpu.c ****     log_i("Gyro offset data HWST bit=%d: %7.4f %7.4f %7.4f\r\n", hw_test,
 1798              		.loc 1 2507 20 is_stmt 0 view .LVU592
 1799 0442 07EE90BA 		vmov	s15, fp	@ int
 1800 0446 B8EEE77A 		vcvt.f32.s32	s14, s15
 1801 044a 9FED478A 		vldr.32	s16, .L99+12
2507:DMP/driver/eMPL/inv_mpu.c ****     log_i("Gyro offset data HWST bit=%d: %7.4f %7.4f %7.4f\r\n", hw_test,
 1802              		.loc 1 2507 40 view .LVU593
 1803 044e 07EE907A 		vmov	s15, r7	@ int
 1804 0452 F8EEE77A 		vcvt.f32.s32	s15, s15
 1805 0456 67EE888A 		vmul.f32	s17, s15, s16
2507:DMP/driver/eMPL/inv_mpu.c ****     log_i("Gyro offset data HWST bit=%d: %7.4f %7.4f %7.4f\r\n", hw_test,
 1806              		.loc 1 2507 56 view .LVU594
 1807 045a D4ED027A 		vldr.32	s15, [r4, #8]	@ int
2507:DMP/driver/eMPL/inv_mpu.c ****     log_i("Gyro offset data HWST bit=%d: %7.4f %7.4f %7.4f\r\n", hw_test,
 1808              		.loc 1 2507 60 view .LVU595
 1809 045e F8EEE77A 		vcvt.f32.s32	s15, s15
 1810 0462 27EE889A 		vmul.f32	s18, s15, s16
2506:DMP/driver/eMPL/inv_mpu.c ****           accel[0] / 65536.f, accel[1] / 65536.f, accel[2] / 65536.f);
 1811              		.loc 1 2506 5 view .LVU596
 1812 0466 67EE087A 		vmul.f32	s15, s14, s16
 1813 046a 17EE900A 		vmov	r0, s15
 1814 046e FFF7FEFF 		bl	__aeabi_f2d
 1815              	.LVL110:
 1816 0472 0646     		mov	r6, r0
 1817 0474 0F46     		mov	r7, r1
 1818 0476 19EE100A 		vmov	r0, s18
 1819 047a FFF7FEFF 		bl	__aeabi_f2d
 1820              	.LVL111:
 1821 047e CDE90201 		strd	r0, [sp, #8]
 1822 0482 18EE900A 		vmov	r0, s17
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 80


 1823 0486 FFF7FEFF 		bl	__aeabi_f2d
 1824              	.LVL112:
 1825 048a CDE90001 		strd	r0, [sp]
 1826 048e 3246     		mov	r2, r6
 1827 0490 3B46     		mov	r3, r7
 1828 0492 5146     		mov	r1, r10
 1829 0494 3548     		ldr	r0, .L99+16
 1830 0496 FFF7FEFF 		bl	printf
 1831              	.LVL113:
2508:DMP/driver/eMPL/inv_mpu.c ****           gyro[0] / 65536.f, gyro[1] / 65536.f, gyro[2] / 65536.f);
 1832              		.loc 1 2508 5 is_stmt 1 view .LVU597
2509:DMP/driver/eMPL/inv_mpu.c ****   }
 1833              		.loc 1 2509 19 is_stmt 0 view .LVU598
 1834 049a D5ED007A 		vldr.32	s15, [r5]	@ int
 1835 049e B8EEE77A 		vcvt.f32.s32	s14, s15
2509:DMP/driver/eMPL/inv_mpu.c ****   }
 1836              		.loc 1 2509 38 view .LVU599
 1837 04a2 D5ED017A 		vldr.32	s15, [r5, #4]	@ int
 1838 04a6 F8EEE77A 		vcvt.f32.s32	s15, s15
 1839 04aa 67EE888A 		vmul.f32	s17, s15, s16
2509:DMP/driver/eMPL/inv_mpu.c ****   }
 1840              		.loc 1 2509 53 view .LVU600
 1841 04ae D5ED027A 		vldr.32	s15, [r5, #8]	@ int
2509:DMP/driver/eMPL/inv_mpu.c ****   }
 1842              		.loc 1 2509 57 view .LVU601
 1843 04b2 F8EEE77A 		vcvt.f32.s32	s15, s15
 1844 04b6 27EE889A 		vmul.f32	s18, s15, s16
2508:DMP/driver/eMPL/inv_mpu.c ****           gyro[0] / 65536.f, gyro[1] / 65536.f, gyro[2] / 65536.f);
 1845              		.loc 1 2508 5 view .LVU602
 1846 04ba 67EE087A 		vmul.f32	s15, s14, s16
 1847 04be 17EE900A 		vmov	r0, s15
 1848 04c2 FFF7FEFF 		bl	__aeabi_f2d
 1849              	.LVL114:
 1850 04c6 0446     		mov	r4, r0
 1851              	.LVL115:
2508:DMP/driver/eMPL/inv_mpu.c ****           gyro[0] / 65536.f, gyro[1] / 65536.f, gyro[2] / 65536.f);
 1852              		.loc 1 2508 5 view .LVU603
 1853 04c8 0D46     		mov	r5, r1
 1854              	.LVL116:
2508:DMP/driver/eMPL/inv_mpu.c ****           gyro[0] / 65536.f, gyro[1] / 65536.f, gyro[2] / 65536.f);
 1855              		.loc 1 2508 5 view .LVU604
 1856 04ca 19EE100A 		vmov	r0, s18
 1857 04ce FFF7FEFF 		bl	__aeabi_f2d
 1858              	.LVL117:
 1859 04d2 CDE90201 		strd	r0, [sp, #8]
 1860 04d6 18EE900A 		vmov	r0, s17
 1861 04da FFF7FEFF 		bl	__aeabi_f2d
 1862              	.LVL118:
 1863 04de CDE90001 		strd	r0, [sp]
 1864 04e2 2246     		mov	r2, r4
 1865 04e4 2B46     		mov	r3, r5
 1866 04e6 5146     		mov	r1, r10
 1867 04e8 2148     		ldr	r0, .L99+20
 1868 04ea FFF7FEFF 		bl	printf
 1869              	.LVL119:
 1870              		.loc 1 2512 10 view .LVU605
 1871 04ee 0020     		movs	r0, #0
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 81


 1872 04f0 28E0     		b	.L54
 1873              	.LVL120:
 1874              	.L72:
2397:DMP/driver/eMPL/inv_mpu.c ****   delay_ms(200);
 1875              		.loc 1 2397 12 view .LVU606
 1876 04f2 4FF0FF30 		mov	r0, #-1
 1877 04f6 25E0     		b	.L54
 1878              	.L73:
2401:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->fifo_en, 1, data))
 1879              		.loc 1 2401 12 view .LVU607
 1880 04f8 4FF0FF30 		mov	r0, #-1
 1881 04fc 22E0     		b	.L54
 1882              	.L74:
2403:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 1, data))
 1883              		.loc 1 2403 12 view .LVU608
 1884 04fe 4FF0FF30 		mov	r0, #-1
 1885 0502 1FE0     		b	.L54
 1886              	.L75:
2405:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->i2c_mst, 1, data))
 1887              		.loc 1 2405 12 view .LVU609
 1888 0504 4FF0FF30 		mov	r0, #-1
 1889 0508 1CE0     		b	.L54
 1890              	.L76:
2407:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, data))
 1891              		.loc 1 2407 12 view .LVU610
 1892 050a 4FF0FF30 		mov	r0, #-1
 1893 050e 19E0     		b	.L54
 1894              	.L77:
2409:DMP/driver/eMPL/inv_mpu.c ****   data[0] = BIT_FIFO_RST | BIT_DMP_RST;
 1895              		.loc 1 2409 12 view .LVU611
 1896 0510 4FF0FF30 		mov	r0, #-1
 1897 0514 16E0     		b	.L54
 1898              	.L78:
2412:DMP/driver/eMPL/inv_mpu.c ****   delay_ms(15);
 1899              		.loc 1 2412 12 view .LVU612
 1900 0516 4FF0FF30 		mov	r0, #-1
 1901 051a 13E0     		b	.L54
 1902              	.L79:
2416:DMP/driver/eMPL/inv_mpu.c ****   data[0] = st.test->reg_rate_div;
 1903              		.loc 1 2416 12 view .LVU613
 1904 051c 4FF0FF30 		mov	r0, #-1
 1905 0520 10E0     		b	.L54
 1906              	.L80:
2419:DMP/driver/eMPL/inv_mpu.c ****   if (hw_test)
 1907              		.loc 1 2419 12 view .LVU614
 1908 0522 4FF0FF30 		mov	r0, #-1
 1909 0526 0DE0     		b	.L54
 1910              	.L81:
2425:DMP/driver/eMPL/inv_mpu.c **** 
 1911              		.loc 1 2425 12 view .LVU615
 1912 0528 4FF0FF30 		mov	r0, #-1
 1913 052c 0AE0     		b	.L54
 1914              	.L82:
2432:DMP/driver/eMPL/inv_mpu.c **** 
 1915              		.loc 1 2432 12 view .LVU616
 1916 052e 4FF0FF30 		mov	r0, #-1
 1917 0532 07E0     		b	.L54
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 82


 1918              	.L83:
2439:DMP/driver/eMPL/inv_mpu.c ****   data[0] = INV_XYZ_GYRO | INV_XYZ_ACCEL;
 1919              		.loc 1 2439 12 view .LVU617
 1920 0534 4FF0FF30 		mov	r0, #-1
 1921 0538 04E0     		b	.L54
 1922              	.L84:
2442:DMP/driver/eMPL/inv_mpu.c **** 
 1923              		.loc 1 2442 12 view .LVU618
 1924 053a 4FF0FF30 		mov	r0, #-1
 1925 053e 01E0     		b	.L54
 1926              	.LVL121:
 1927              	.L85:
2455:DMP/driver/eMPL/inv_mpu.c ****     fifo_count = (data[0] << 8) | data[1];
 1928              		.loc 1 2455 14 view .LVU619
 1929 0540 4FF0FF30 		mov	r0, #-1
 1930              	.LVL122:
 1931              	.L54:
2513:DMP/driver/eMPL/inv_mpu.c **** }
 1932              		.loc 1 2513 1 view .LVU620
 1933 0544 0DF5097D 		add	sp, sp, #548
 1934              	.LCFI11:
 1935              		.cfi_remember_state
 1936              		.cfi_def_cfa_offset 52
 1937              		@ sp needed
 1938 0548 BDEC048B 		vldm	sp!, {d8-d9}
 1939              	.LCFI12:
 1940              		.cfi_restore 82
 1941              		.cfi_restore 83
 1942              		.cfi_restore 80
 1943              		.cfi_restore 81
 1944              		.cfi_def_cfa_offset 36
 1945 054c BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1946              	.LVL123:
 1947              	.L86:
 1948              	.LCFI13:
 1949              		.cfi_restore_state
2464:DMP/driver/eMPL/inv_mpu.c ****     ind = 0;
 1950              		.loc 1 2464 14 view .LVU621
 1951 0550 4FF0FF30 		mov	r0, #-1
 1952 0554 F6E7     		b	.L54
 1953              	.LVL124:
 1954              	.L87:
2491:DMP/driver/eMPL/inv_mpu.c **** 
 1955              		.loc 1 2491 12 view .LVU622
 1956 0556 4FF0FF30 		mov	r0, #-1
 1957 055a F3E7     		b	.L54
 1958              	.L100:
 1959              		.align	2
 1960              	.L99:
 1961 055c 00000000 		.word	st
 1962 0560 ABAAAAAA 		.word	-1431655765
 1963 0564 1C000000 		.word	.LC1
 1964 0568 00008037 		.word	931135488
 1965 056c 2C000000 		.word	.LC2
 1966 0570 60000000 		.word	.LC3
 1967              		.cfi_endproc
 1968              	.LFE210:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 83


 1970              		.section	.rodata.accel_6500_self_test.str1.4,"aMS",%progbits,1
 1971              		.align	2
 1972              	.LC4:
 1973 0000 52656164 		.ascii	"Reading OTP Register Error.\000"
 1973      696E6720 
 1973      4F545020 
 1973      52656769 
 1973      73746572 
 1974              		.align	2
 1975              	.LC5:
 1976 001c 41636365 		.ascii	"Accel OTP:%d, %d, %d\012\000"
 1976      6C204F54 
 1976      503A2564 
 1976      2C202564 
 1976      2C202564 
 1977 0032 0000     		.align	2
 1978              	.LC6:
 1979 0034 41434345 		.ascii	"ACCEL:CRITERIA A\000"
 1979      4C3A4352 
 1979      49544552 
 1979      49412041 
 1979      00
 1980 0045 000000   		.align	2
 1981              	.LC7:
 1982 0048 42696173 		.ascii	"Bias_Shift=%7.4f, Bias_Reg=%7.4f, Bias_HWST=%7.4f\015"
 1982      5F536869 
 1982      66743D25 
 1982      372E3466 
 1982      2C204269 
 1983 007a 0A00     		.ascii	"\012\000"
 1984              		.align	2
 1985              	.LC8:
 1986 007c 4F545020 		.ascii	"OTP value: %7.4f\015\012\000"
 1986      76616C75 
 1986      653A2025 
 1986      372E3466 
 1986      0D0A00
 1987 008f 00       		.align	2
 1988              	.LC9:
 1989 0090 72617469 		.ascii	"ratio=%7.4f, threshold=%7.4f\015\012\000"
 1989      6F3D2537 
 1989      2E34662C 
 1989      20746872 
 1989      6573686F 
 1990 00af 00       		.align	2
 1991              	.LC10:
 1992 00b0 41434345 		.ascii	"ACCEL Fail Axis = %d\012\000"
 1992      4C204661 
 1992      696C2041 
 1992      78697320 
 1992      3D202564 
 1993 00c6 0000     		.align	2
 1994              	.LC11:
 1995 00c8 41434345 		.ascii	"ACCEL:CRITERIA B\015\000"
 1995      4C3A4352 
 1995      49544552 
 1995      49412042 
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 84


 1995      0D00
 1996 00da 0000     		.align	2
 1997              	.LC12:
 1998 00dc 4D696E20 		.ascii	"Min MG: %7.4f\015\012\000"
 1998      4D473A20 
 1998      25372E34 
 1998      660D0A00 
 1999              		.align	2
 2000              	.LC13:
 2001 00ec 4D617820 		.ascii	"Max MG: %7.4f\015\012\000"
 2001      4D473A20 
 2001      25372E34 
 2001      660D0A00 
 2002              		.align	2
 2003              	.LC14:
 2004 00fc 42696173 		.ascii	"Bias_shift=%7.4f, st=%7.4f, reg=%7.4f\012\000"
 2004      5F736869 
 2004      66743D25 
 2004      372E3466 
 2004      2C207374 
 2005 0123 00       		.align	2
 2006              	.LC15:
 2007 0124 41636365 		.ascii	"Accel FAIL axis:%d <= 225mg or >= 675mg\012\000"
 2007      6C204641 
 2007      494C2061 
 2007      7869733A 
 2007      2564203C 
 2008 014d 000000   		.align	2
 2009              	.LC16:
 2010 0150 41636365 		.ascii	"Accel:CRITERIA C: bias less than %7.4f\012\000"
 2010      6C3A4352 
 2010      49544552 
 2010      49412043 
 2010      3A206269 
 2011              		.global	__aeabi_i2d
 2012              		.global	__aeabi_dcmpgt
 2013              		.align	2
 2014              	.LC17:
 2015 0178 4641494C 		.ascii	"FAILED: Accel axis:%d = %ld > 500mg\012\000"
 2015      45443A20 
 2015      41636365 
 2015      6C206178 
 2015      69733A25 
 2016              		.section	.text.accel_6500_self_test,"ax",%progbits
 2017              		.align	1
 2018              		.syntax unified
 2019              		.thumb
 2020              		.thumb_func
 2022              	accel_6500_self_test:
 2023              	.LVL125:
 2024              	.LFB208:
2209:DMP/driver/eMPL/inv_mpu.c ****   int i, result = 0, otp_value_zero = 0;
 2025              		.loc 1 2209 79 is_stmt 1 view -0
 2026              		.cfi_startproc
 2027              		@ args = 0, pretend = 0, frame = 48
 2028              		@ frame_needed = 0, uses_anonymous_args = 0
2209:DMP/driver/eMPL/inv_mpu.c ****   int i, result = 0, otp_value_zero = 0;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 85


 2029              		.loc 1 2209 79 is_stmt 0 view .LVU624
 2030 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 2031              	.LCFI14:
 2032              		.cfi_def_cfa_offset 32
 2033              		.cfi_offset 4, -32
 2034              		.cfi_offset 5, -28
 2035              		.cfi_offset 6, -24
 2036              		.cfi_offset 7, -20
 2037              		.cfi_offset 8, -16
 2038              		.cfi_offset 9, -12
 2039              		.cfi_offset 10, -8
 2040              		.cfi_offset 14, -4
 2041 0004 2DED048B 		vpush.64	{d8, d9}
 2042              	.LCFI15:
 2043              		.cfi_def_cfa_offset 48
 2044              		.cfi_offset 80, -48
 2045              		.cfi_offset 81, -44
 2046              		.cfi_offset 82, -40
 2047              		.cfi_offset 83, -36
 2048 0008 90B0     		sub	sp, sp, #64
 2049              	.LCFI16:
 2050              		.cfi_def_cfa_offset 112
 2051 000a 0746     		mov	r7, r0
 2052 000c 8A46     		mov	r10, r1
 2053 000e 1546     		mov	r5, r2
2210:DMP/driver/eMPL/inv_mpu.c ****   float accel_st_al_min, accel_st_al_max;
 2054              		.loc 1 2210 3 is_stmt 1 view .LVU625
 2055              	.LVL126:
2211:DMP/driver/eMPL/inv_mpu.c ****   float st_shift_cust[3], st_shift_ratio[3], ct_shift_prod[3], accel_offset_max;
 2056              		.loc 1 2211 3 view .LVU626
2212:DMP/driver/eMPL/inv_mpu.c ****   unsigned char regs[3];
 2057              		.loc 1 2212 3 view .LVU627
2213:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_read(st.hw->addr, REG_6500_XA_ST_DATA, 3, regs)) {
 2058              		.loc 1 2213 3 view .LVU628
2214:DMP/driver/eMPL/inv_mpu.c ****     if (debug)
 2059              		.loc 1 2214 3 view .LVU629
2214:DMP/driver/eMPL/inv_mpu.c ****     if (debug)
 2060              		.loc 1 2214 18 is_stmt 0 view .LVU630
 2061 0010 A94B     		ldr	r3, .L148+8
 2062 0012 5868     		ldr	r0, [r3, #4]
 2063              	.LVL127:
2214:DMP/driver/eMPL/inv_mpu.c ****     if (debug)
 2064              		.loc 1 2214 7 view .LVU631
 2065 0014 06AB     		add	r3, sp, #24
 2066 0016 0322     		movs	r2, #3
 2067              	.LVL128:
2214:DMP/driver/eMPL/inv_mpu.c ****     if (debug)
 2068              		.loc 1 2214 7 view .LVU632
 2069 0018 0D21     		movs	r1, #13
 2070              	.LVL129:
2214:DMP/driver/eMPL/inv_mpu.c ****     if (debug)
 2071              		.loc 1 2214 7 view .LVU633
 2072 001a 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 2073 001c FFF7FEFF 		bl	MPU_Read_Len
 2074              	.LVL130:
2214:DMP/driver/eMPL/inv_mpu.c ****     if (debug)
 2075              		.loc 1 2214 6 view .LVU634
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 86


 2076 0020 18B9     		cbnz	r0, .L137
2219:DMP/driver/eMPL/inv_mpu.c ****     log_i("Accel OTP:%d, %d, %d\n", regs[0], regs[1], regs[2]);
 2077              		.loc 1 2219 3 is_stmt 1 view .LVU635
2219:DMP/driver/eMPL/inv_mpu.c ****     log_i("Accel OTP:%d, %d, %d\n", regs[0], regs[1], regs[2]);
 2078              		.loc 1 2219 6 is_stmt 0 view .LVU636
 2079 0022 75B9     		cbnz	r5, .L138
 2080              	.L105:
2228:DMP/driver/eMPL/inv_mpu.c ****     }
 2081              		.loc 1 2228 22 discriminator 1 view .LVU637
 2082 0024 0024     		movs	r4, #0
 2083 0026 2346     		mov	r3, r4
 2084 0028 1DE0     		b	.L106
 2085              	.L137:
2215:DMP/driver/eMPL/inv_mpu.c ****       log_i("Reading OTP Register Error.\n");
 2086              		.loc 1 2215 5 is_stmt 1 view .LVU638
2215:DMP/driver/eMPL/inv_mpu.c ****       log_i("Reading OTP Register Error.\n");
 2087              		.loc 1 2215 8 is_stmt 0 view .LVU639
 2088 002a 35B9     		cbnz	r5, .L139
 2089              	.L103:
2217:DMP/driver/eMPL/inv_mpu.c ****   }
 2090              		.loc 1 2217 5 is_stmt 1 view .LVU640
2217:DMP/driver/eMPL/inv_mpu.c ****   }
 2091              		.loc 1 2217 12 is_stmt 0 view .LVU641
 2092 002c 0726     		movs	r6, #7
 2093              	.LVL131:
 2094              	.L101:
2295:DMP/driver/eMPL/inv_mpu.c **** 
 2095              		.loc 1 2295 1 view .LVU642
 2096 002e 3046     		mov	r0, r6
 2097 0030 10B0     		add	sp, sp, #64
 2098              	.LCFI17:
 2099              		.cfi_remember_state
 2100              		.cfi_def_cfa_offset 48
 2101              		@ sp needed
 2102 0032 BDEC048B 		vldm	sp!, {d8-d9}
 2103              	.LCFI18:
 2104              		.cfi_restore 82
 2105              		.cfi_restore 83
 2106              		.cfi_restore 80
 2107              		.cfi_restore 81
 2108              		.cfi_def_cfa_offset 32
 2109 0036 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 2110              	.LVL132:
 2111              	.L139:
 2112              	.LCFI19:
 2113              		.cfi_restore_state
2216:DMP/driver/eMPL/inv_mpu.c ****     return 0x07;
 2114              		.loc 1 2216 7 is_stmt 1 view .LVU643
 2115 003a A048     		ldr	r0, .L148+12
 2116 003c FFF7FEFF 		bl	puts
 2117              	.LVL133:
 2118 0040 F4E7     		b	.L103
 2119              	.L138:
2220:DMP/driver/eMPL/inv_mpu.c ****   for (i = 0; i < 3; i++) {
 2120              		.loc 1 2220 5 view .LVU644
 2121 0042 9DF81A30 		ldrb	r3, [sp, #26]	@ zero_extendqisi2
 2122 0046 9DF81920 		ldrb	r2, [sp, #25]	@ zero_extendqisi2
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 87


 2123 004a 9DF81810 		ldrb	r1, [sp, #24]	@ zero_extendqisi2
 2124 004e 9C48     		ldr	r0, .L148+16
 2125 0050 FFF7FEFF 		bl	printf
 2126              	.LVL134:
 2127 0054 E6E7     		b	.L105
 2128              	.LVL135:
 2129              	.L107:
2227:DMP/driver/eMPL/inv_mpu.c ****       otp_value_zero = 1;
 2130              		.loc 1 2227 7 view .LVU645
2227:DMP/driver/eMPL/inv_mpu.c ****       otp_value_zero = 1;
 2131              		.loc 1 2227 24 is_stmt 0 view .LVU646
 2132 0056 0021     		movs	r1, #0
 2133 0058 10AA     		add	r2, sp, #64
 2134 005a 02EB8302 		add	r2, r2, r3, lsl #2
 2135 005e 42F8241C 		str	r1, [r2, #-36]	@ float
2228:DMP/driver/eMPL/inv_mpu.c ****     }
 2136              		.loc 1 2228 7 is_stmt 1 view .LVU647
 2137              	.LVL136:
2228:DMP/driver/eMPL/inv_mpu.c ****     }
 2138              		.loc 1 2228 22 is_stmt 0 view .LVU648
 2139 0062 0124     		movs	r4, #1
 2140              	.LVL137:
 2141              	.L108:
2221:DMP/driver/eMPL/inv_mpu.c ****     if (regs[i] != 0) {
 2142              		.loc 1 2221 23 is_stmt 1 discriminator 2 view .LVU649
 2143 0064 0133     		adds	r3, r3, #1
 2144              	.LVL138:
 2145              	.L106:
2221:DMP/driver/eMPL/inv_mpu.c ****     if (regs[i] != 0) {
 2146              		.loc 1 2221 17 discriminator 1 view .LVU650
 2147 0066 022B     		cmp	r3, #2
 2148 0068 20DC     		bgt	.L140
2222:DMP/driver/eMPL/inv_mpu.c ****       ct_shift_prod[i] = mpu_6500_st_tb[regs[i] - 1];
 2149              		.loc 1 2222 5 view .LVU651
2222:DMP/driver/eMPL/inv_mpu.c ****       ct_shift_prod[i] = mpu_6500_st_tb[regs[i] - 1];
 2150              		.loc 1 2222 13 is_stmt 0 view .LVU652
 2151 006a 03F14002 		add	r2, r3, #64
 2152 006e 6A44     		add	r2, sp, r2
 2153 0070 12F8282C 		ldrb	r2, [r2, #-40]	@ zero_extendqisi2
2222:DMP/driver/eMPL/inv_mpu.c ****       ct_shift_prod[i] = mpu_6500_st_tb[regs[i] - 1];
 2154              		.loc 1 2222 8 view .LVU653
 2155 0074 002A     		cmp	r2, #0
 2156 0076 EED0     		beq	.L107
2223:DMP/driver/eMPL/inv_mpu.c ****       ct_shift_prod[i] *= 65536.f;
 2157              		.loc 1 2223 7 is_stmt 1 view .LVU654
2223:DMP/driver/eMPL/inv_mpu.c ****       ct_shift_prod[i] *= 65536.f;
 2158              		.loc 1 2223 49 is_stmt 0 view .LVU655
 2159 0078 013A     		subs	r2, r2, #1
2223:DMP/driver/eMPL/inv_mpu.c ****       ct_shift_prod[i] *= 65536.f;
 2160              		.loc 1 2223 40 view .LVU656
 2161 007a 9249     		ldr	r1, .L148+20
 2162 007c 31F81220 		ldrh	r2, [r1, r2, lsl #1]
 2163 0080 07EE902A 		vmov	s15, r2	@ int
2223:DMP/driver/eMPL/inv_mpu.c ****       ct_shift_prod[i] *= 65536.f;
 2164              		.loc 1 2223 24 view .LVU657
 2165 0084 F8EE677A 		vcvt.f32.u32	s15, s15
 2166 0088 10AA     		add	r2, sp, #64
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 88


 2167 008a 02EB8302 		add	r2, r2, r3, lsl #2
 2168 008e 42ED097A 		vstr.32	s15, [r2, #-36]
2224:DMP/driver/eMPL/inv_mpu.c ****       ct_shift_prod[i] /= test.accel_sens;
 2169              		.loc 1 2224 7 is_stmt 1 view .LVU658
2224:DMP/driver/eMPL/inv_mpu.c ****       ct_shift_prod[i] /= test.accel_sens;
 2170              		.loc 1 2224 24 is_stmt 0 view .LVU659
 2171 0092 9FED8D7A 		vldr.32	s14, .L148+24
 2172 0096 67EE877A 		vmul.f32	s15, s15, s14
 2173 009a 42ED097A 		vstr.32	s15, [r2, #-36]
2225:DMP/driver/eMPL/inv_mpu.c ****     } else {
 2174              		.loc 1 2225 7 is_stmt 1 view .LVU660
2225:DMP/driver/eMPL/inv_mpu.c ****     } else {
 2175              		.loc 1 2225 24 is_stmt 0 view .LVU661
 2176 009e 9FED8B7A 		vldr.32	s14, .L148+28
 2177 00a2 67EE877A 		vmul.f32	s15, s15, s14
 2178 00a6 42ED097A 		vstr.32	s15, [r2, #-36]
 2179 00aa DBE7     		b	.L108
 2180              	.L140:
2231:DMP/driver/eMPL/inv_mpu.c ****     if (debug)
 2181              		.loc 1 2231 3 is_stmt 1 view .LVU662
2231:DMP/driver/eMPL/inv_mpu.c ****     if (debug)
 2182              		.loc 1 2231 6 is_stmt 0 view .LVU663
 2183 00ac 002C     		cmp	r4, #0
 2184 00ae 76D1     		bne	.L110
2232:DMP/driver/eMPL/inv_mpu.c ****       log_i("ACCEL:CRITERIA A\n");
 2185              		.loc 1 2232 5 is_stmt 1 view .LVU664
2232:DMP/driver/eMPL/inv_mpu.c ****       log_i("ACCEL:CRITERIA A\n");
 2186              		.loc 1 2232 8 is_stmt 0 view .LVU665
 2187 00b0 0DB9     		cbnz	r5, .L141
 2188              	.LVL139:
 2189              	.L111:
2228:DMP/driver/eMPL/inv_mpu.c ****     }
 2190              		.loc 1 2228 22 discriminator 1 view .LVU666
 2191 00b2 2646     		mov	r6, r4
 2192 00b4 41E0     		b	.L112
 2193              	.LVL140:
 2194              	.L141:
2233:DMP/driver/eMPL/inv_mpu.c ****     for (i = 0; i < 3; i++) {
 2195              		.loc 1 2233 7 is_stmt 1 view .LVU667
 2196 00b6 8648     		ldr	r0, .L148+32
 2197 00b8 FFF7FEFF 		bl	puts
 2198              	.LVL141:
2233:DMP/driver/eMPL/inv_mpu.c ****     for (i = 0; i < 3; i++) {
 2199              		.loc 1 2233 7 is_stmt 0 view .LVU668
 2200 00bc F9E7     		b	.L111
 2201              	.LVL142:
 2202              	.L142:
2237:DMP/driver/eMPL/inv_mpu.c ****               st_shift_cust[i] / 1.f, bias_regular[i] / 1.f, bias_st[i] / 1.f);
 2203              		.loc 1 2237 9 is_stmt 1 view .LVU669
2238:DMP/driver/eMPL/inv_mpu.c ****         log_i("OTP value: %7.4f\r\n", ct_shift_prod[i] / 1.f);
 2204              		.loc 1 2238 55 is_stmt 0 view .LVU670
 2205 00be 07EE903A 		vmov	s15, r3	@ int
 2206 00c2 B8EEE78A 		vcvt.f32.s32	s16, s15
2238:DMP/driver/eMPL/inv_mpu.c ****         log_i("OTP value: %7.4f\r\n", ct_shift_prod[i] / 1.f);
 2207              		.loc 1 2238 73 view .LVU671
 2208 00c6 07EE902A 		vmov	s15, r2	@ int
 2209 00ca B8EEE79A 		vcvt.f32.s32	s18, s15
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 89


2237:DMP/driver/eMPL/inv_mpu.c ****               st_shift_cust[i] / 1.f, bias_regular[i] / 1.f, bias_st[i] / 1.f);
 2210              		.loc 1 2237 9 view .LVU672
 2211 00ce 18EE900A 		vmov	r0, s17
 2212 00d2 FFF7FEFF 		bl	__aeabi_f2d
 2213              	.LVL143:
 2214 00d6 CDE90401 		strd	r0, [sp, #16]
 2215 00da 19EE100A 		vmov	r0, s18
 2216 00de FFF7FEFF 		bl	__aeabi_f2d
 2217              	.LVL144:
 2218 00e2 CDE90201 		strd	r0, [sp, #8]
 2219 00e6 18EE100A 		vmov	r0, s16
 2220 00ea FFF7FEFF 		bl	__aeabi_f2d
 2221              	.LVL145:
 2222 00ee CDE90001 		strd	r0, [sp]
 2223 00f2 DDE90423 		ldrd	r2, [sp, #16]
 2224 00f6 7748     		ldr	r0, .L148+36
 2225 00f8 FFF7FEFF 		bl	printf
 2226              	.LVL146:
2239:DMP/driver/eMPL/inv_mpu.c ****       }
 2227              		.loc 1 2239 9 is_stmt 1 view .LVU673
2239:DMP/driver/eMPL/inv_mpu.c ****       }
 2228              		.loc 1 2239 56 is_stmt 0 view .LVU674
 2229 00fc 10AB     		add	r3, sp, #64
 2230 00fe 03EB8403 		add	r3, r3, r4, lsl #2
2239:DMP/driver/eMPL/inv_mpu.c ****       }
 2231              		.loc 1 2239 9 view .LVU675
 2232 0102 53F8240C 		ldr	r0, [r3, #-36]	@ float
 2233 0106 FFF7FEFF 		bl	__aeabi_f2d
 2234              	.LVL147:
 2235 010a 0246     		mov	r2, r0
 2236 010c 0B46     		mov	r3, r1
 2237 010e 7248     		ldr	r0, .L148+40
 2238 0110 FFF7FEFF 		bl	printf
 2239              	.LVL148:
 2240 0114 24E0     		b	.L113
 2241              	.L143:
2245:DMP/driver/eMPL/inv_mpu.c ****               test.max_accel_var / 1.f);
 2242              		.loc 1 2245 9 is_stmt 1 view .LVU676
 2243 0116 18EE100A 		vmov	r0, s16
 2244 011a FFF7FEFF 		bl	__aeabi_f2d
 2245              	.LVL149:
 2246 011e 0246     		mov	r2, r0
 2247 0120 0B46     		mov	r3, r1
 2248 0122 0020     		movs	r0, #0
 2249 0124 6D49     		ldr	r1, .L148+44
 2250 0126 CDE90001 		strd	r0, [sp]
 2251 012a 6D48     		ldr	r0, .L148+48
 2252 012c FFF7FEFF 		bl	printf
 2253              	.LVL150:
 2254 0130 25E0     		b	.L114
 2255              	.L117:
2251:DMP/driver/eMPL/inv_mpu.c ****       }
 2256              		.loc 1 2251 9 view .LVU677
2251:DMP/driver/eMPL/inv_mpu.c ****       }
 2257              		.loc 1 2251 21 is_stmt 0 view .LVU678
 2258 0132 0123     		movs	r3, #1
 2259 0134 A340     		lsls	r3, r3, r4
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 90


2251:DMP/driver/eMPL/inv_mpu.c ****       }
 2260              		.loc 1 2251 16 view .LVU679
 2261 0136 1E43     		orrs	r6, r6, r3
 2262              	.LVL151:
 2263              	.L115:
2234:DMP/driver/eMPL/inv_mpu.c ****       st_shift_cust[i] = bias_st[i] - bias_regular[i];
 2264              		.loc 1 2234 25 is_stmt 1 discriminator 2 view .LVU680
 2265 0138 0134     		adds	r4, r4, #1
 2266              	.LVL152:
 2267              	.L112:
2234:DMP/driver/eMPL/inv_mpu.c ****       st_shift_cust[i] = bias_st[i] - bias_regular[i];
 2268              		.loc 1 2234 19 discriminator 1 view .LVU681
 2269 013a 022C     		cmp	r4, #2
 2270 013c 00F38E80 		bgt	.L119
2235:DMP/driver/eMPL/inv_mpu.c ****       if (debug) {
 2271              		.loc 1 2235 7 view .LVU682
2235:DMP/driver/eMPL/inv_mpu.c ****       if (debug) {
 2272              		.loc 1 2235 33 is_stmt 0 view .LVU683
 2273 0140 5AF82420 		ldr	r2, [r10, r4, lsl #2]
2235:DMP/driver/eMPL/inv_mpu.c ****       if (debug) {
 2274              		.loc 1 2235 51 view .LVU684
 2275 0144 57F82430 		ldr	r3, [r7, r4, lsl #2]
2235:DMP/driver/eMPL/inv_mpu.c ****       if (debug) {
 2276              		.loc 1 2235 37 view .LVU685
 2277 0148 D11A     		subs	r1, r2, r3
 2278 014a 08EE901A 		vmov	s17, r1	@ int
2235:DMP/driver/eMPL/inv_mpu.c ****       if (debug) {
 2279              		.loc 1 2235 24 view .LVU686
 2280 014e F8EEE88A 		vcvt.f32.s32	s17, s17
 2281 0152 10A9     		add	r1, sp, #64
 2282 0154 01EB8401 		add	r1, r1, r4, lsl #2
 2283 0158 41ED038A 		vstr.32	s17, [r1, #-12]
2236:DMP/driver/eMPL/inv_mpu.c ****         log_i("Bias_Shift=%7.4f, Bias_Reg=%7.4f, Bias_HWST=%7.4f\r\n",
 2284              		.loc 1 2236 7 is_stmt 1 view .LVU687
2236:DMP/driver/eMPL/inv_mpu.c ****         log_i("Bias_Shift=%7.4f, Bias_Reg=%7.4f, Bias_HWST=%7.4f\r\n",
 2285              		.loc 1 2236 10 is_stmt 0 view .LVU688
 2286 015c 002D     		cmp	r5, #0
 2287 015e AED1     		bne	.L142
 2288              	.L113:
2242:DMP/driver/eMPL/inv_mpu.c **** 
 2289              		.loc 1 2242 7 is_stmt 1 view .LVU689
2242:DMP/driver/eMPL/inv_mpu.c **** 
 2290              		.loc 1 2242 59 is_stmt 0 view .LVU690
 2291 0160 10AB     		add	r3, sp, #64
 2292 0162 03EB8403 		add	r3, r3, r4, lsl #2
 2293 0166 53ED097A 		vldr.32	s15, [r3, #-36]
2242:DMP/driver/eMPL/inv_mpu.c **** 
 2294              		.loc 1 2242 44 view .LVU691
 2295 016a 88EEA78A 		vdiv.f32	s16, s17, s15
2242:DMP/driver/eMPL/inv_mpu.c **** 
 2296              		.loc 1 2242 63 view .LVU692
 2297 016e F7EE007A 		vmov.f32	s15, #1.0e+0
 2298 0172 38EE678A 		vsub.f32	s16, s16, s15
2242:DMP/driver/eMPL/inv_mpu.c **** 
 2299              		.loc 1 2242 25 view .LVU693
 2300 0176 03ED068A 		vstr.32	s16, [r3, #-24]
2244:DMP/driver/eMPL/inv_mpu.c ****         log_i("ratio=%7.4f, threshold=%7.4f\r\n", st_shift_ratio[i] / 1.f,
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 91


 2301              		.loc 1 2244 7 is_stmt 1 view .LVU694
2244:DMP/driver/eMPL/inv_mpu.c ****         log_i("ratio=%7.4f, threshold=%7.4f\r\n", st_shift_ratio[i] / 1.f,
 2302              		.loc 1 2244 10 is_stmt 0 view .LVU695
 2303 017a 002D     		cmp	r5, #0
 2304 017c CBD1     		bne	.L143
 2305              	.L114:
2248:DMP/driver/eMPL/inv_mpu.c ****         if (debug)
 2306              		.loc 1 2248 7 is_stmt 1 view .LVU696
2248:DMP/driver/eMPL/inv_mpu.c ****         if (debug)
 2307              		.loc 1 2248 11 is_stmt 0 view .LVU697
 2308 017e B0EEC88A 		vabs.f32	s16, s16
2248:DMP/driver/eMPL/inv_mpu.c ****         if (debug)
 2309              		.loc 1 2248 10 view .LVU698
 2310 0182 F6EE007A 		vmov.f32	s15, #5.0e-1
 2311 0186 B4EEE78A 		vcmpe.f32	s16, s15
 2312 018a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2313 018e D3DD     		ble	.L115
2249:DMP/driver/eMPL/inv_mpu.c ****           log_i("ACCEL Fail Axis = %d\n", i);
 2314              		.loc 1 2249 9 is_stmt 1 view .LVU699
2249:DMP/driver/eMPL/inv_mpu.c ****           log_i("ACCEL Fail Axis = %d\n", i);
 2315              		.loc 1 2249 12 is_stmt 0 view .LVU700
 2316 0190 002D     		cmp	r5, #0
 2317 0192 CED0     		beq	.L117
2250:DMP/driver/eMPL/inv_mpu.c ****         result |= 1 << i; // Error condition
 2318              		.loc 1 2250 11 is_stmt 1 view .LVU701
 2319 0194 2146     		mov	r1, r4
 2320 0196 5348     		ldr	r0, .L148+52
 2321 0198 FFF7FEFF 		bl	printf
 2322              	.LVL153:
 2323 019c C9E7     		b	.L117
 2324              	.LVL154:
 2325              	.L110:
2256:DMP/driver/eMPL/inv_mpu.c ****     accel_st_al_max = test.max_g * 65536.f;
 2326              		.loc 1 2256 5 view .LVU702
2257:DMP/driver/eMPL/inv_mpu.c **** 
 2327              		.loc 1 2257 5 view .LVU703
2259:DMP/driver/eMPL/inv_mpu.c ****       log_i("ACCEL:CRITERIA B\r\n");
 2328              		.loc 1 2259 5 view .LVU704
2259:DMP/driver/eMPL/inv_mpu.c ****       log_i("ACCEL:CRITERIA B\r\n");
 2329              		.loc 1 2259 8 is_stmt 0 view .LVU705
 2330 019e 15B9     		cbnz	r5, .L144
 2331              	.LVL155:
 2332              	.L120:
2228:DMP/driver/eMPL/inv_mpu.c ****     }
 2333              		.loc 1 2228 22 discriminator 1 view .LVU706
 2334 01a0 0026     		movs	r6, #0
 2335 01a2 3446     		mov	r4, r6
 2336              	.LVL156:
2228:DMP/driver/eMPL/inv_mpu.c ****     }
 2337              		.loc 1 2228 22 discriminator 1 view .LVU707
 2338 01a4 34E0     		b	.L121
 2339              	.LVL157:
 2340              	.L144:
2260:DMP/driver/eMPL/inv_mpu.c ****       log_i("Min MG: %7.4f\r\n", accel_st_al_min / 1.f);
 2341              		.loc 1 2260 7 is_stmt 1 view .LVU708
 2342 01a6 5048     		ldr	r0, .L148+56
 2343 01a8 FFF7FEFF 		bl	puts
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 92


 2344              	.LVL158:
2261:DMP/driver/eMPL/inv_mpu.c ****       log_i("Max MG: %7.4f\r\n", accel_st_al_max / 1.f);
 2345              		.loc 1 2261 7 view .LVU709
 2346 01ac 4FF04042 		mov	r2, #-1073741824
 2347 01b0 4E4B     		ldr	r3, .L148+60
 2348 01b2 4F48     		ldr	r0, .L148+64
 2349 01b4 FFF7FEFF 		bl	printf
 2350              	.LVL159:
2262:DMP/driver/eMPL/inv_mpu.c ****     }
 2351              		.loc 1 2262 7 view .LVU710
 2352 01b8 3DA3     		adr	r3, .L148
 2353 01ba D3E90023 		ldrd	r2, [r3]
 2354 01be 4D48     		ldr	r0, .L148+68
 2355 01c0 FFF7FEFF 		bl	printf
 2356              	.LVL160:
 2357 01c4 ECE7     		b	.L120
 2358              	.LVL161:
 2359              	.L146:
2269:DMP/driver/eMPL/inv_mpu.c ****               bias_st[i] / 1.f, bias_regular[i] / 1.f);
 2360              		.loc 1 2269 9 view .LVU711
2270:DMP/driver/eMPL/inv_mpu.c ****       if (st_shift_cust[i] < accel_st_al_min ||
 2361              		.loc 1 2270 26 is_stmt 0 view .LVU712
 2362 01c6 07EE903A 		vmov	s15, r3	@ int
 2363 01ca F8EEE78A 		vcvt.f32.s32	s17, s15
2270:DMP/driver/eMPL/inv_mpu.c ****       if (st_shift_cust[i] < accel_st_al_min ||
 2364              		.loc 1 2270 49 view .LVU713
 2365 01ce 07EE902A 		vmov	s15, r2	@ int
 2366 01d2 B8EEE79A 		vcvt.f32.s32	s18, s15
2269:DMP/driver/eMPL/inv_mpu.c ****               bias_st[i] / 1.f, bias_regular[i] / 1.f);
 2367              		.loc 1 2269 9 view .LVU714
 2368 01d6 18EE100A 		vmov	r0, s16
 2369 01da FFF7FEFF 		bl	__aeabi_f2d
 2370              	.LVL162:
 2371 01de CDE90401 		strd	r0, [sp, #16]
 2372 01e2 19EE100A 		vmov	r0, s18
 2373 01e6 FFF7FEFF 		bl	__aeabi_f2d
 2374              	.LVL163:
 2375 01ea CDE90201 		strd	r0, [sp, #8]
 2376 01ee 18EE900A 		vmov	r0, s17
 2377 01f2 FFF7FEFF 		bl	__aeabi_f2d
 2378              	.LVL164:
 2379 01f6 CDE90001 		strd	r0, [sp]
 2380 01fa DDE90423 		ldrd	r2, [sp, #16]
 2381 01fe 3E48     		ldr	r0, .L148+72
 2382 0200 FFF7FEFF 		bl	printf
 2383              	.LVL165:
 2384 0204 16E0     		b	.L122
 2385              	.L123:
2273:DMP/driver/eMPL/inv_mpu.c ****           log_i("Accel FAIL axis:%d <= 225mg or >= 675mg\n", i);
 2386              		.loc 1 2273 9 is_stmt 1 view .LVU715
2273:DMP/driver/eMPL/inv_mpu.c ****           log_i("Accel FAIL axis:%d <= 225mg or >= 675mg\n", i);
 2387              		.loc 1 2273 12 is_stmt 0 view .LVU716
 2388 0206 25BB     		cbnz	r5, .L145
 2389              	.L126:
2275:DMP/driver/eMPL/inv_mpu.c ****       }
 2390              		.loc 1 2275 9 is_stmt 1 view .LVU717
2275:DMP/driver/eMPL/inv_mpu.c ****       }
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 93


 2391              		.loc 1 2275 21 is_stmt 0 view .LVU718
 2392 0208 0123     		movs	r3, #1
 2393 020a A340     		lsls	r3, r3, r4
2275:DMP/driver/eMPL/inv_mpu.c ****       }
 2394              		.loc 1 2275 16 view .LVU719
 2395 020c 1E43     		orrs	r6, r6, r3
 2396              	.LVL166:
 2397              	.L124:
2265:DMP/driver/eMPL/inv_mpu.c ****       st_shift_cust[i] = bias_st[i] - bias_regular[i];
 2398              		.loc 1 2265 25 is_stmt 1 discriminator 2 view .LVU720
 2399 020e 0134     		adds	r4, r4, #1
 2400              	.LVL167:
 2401              	.L121:
2265:DMP/driver/eMPL/inv_mpu.c ****       st_shift_cust[i] = bias_st[i] - bias_regular[i];
 2402              		.loc 1 2265 19 discriminator 1 view .LVU721
 2403 0210 022C     		cmp	r4, #2
 2404 0212 23DC     		bgt	.L119
2266:DMP/driver/eMPL/inv_mpu.c **** 
 2405              		.loc 1 2266 7 view .LVU722
2266:DMP/driver/eMPL/inv_mpu.c **** 
 2406              		.loc 1 2266 33 is_stmt 0 view .LVU723
 2407 0214 5AF82430 		ldr	r3, [r10, r4, lsl #2]
2266:DMP/driver/eMPL/inv_mpu.c **** 
 2408              		.loc 1 2266 51 view .LVU724
 2409 0218 57F82420 		ldr	r2, [r7, r4, lsl #2]
2266:DMP/driver/eMPL/inv_mpu.c **** 
 2410              		.loc 1 2266 37 view .LVU725
 2411 021c 991A     		subs	r1, r3, r2
 2412 021e 08EE101A 		vmov	s16, r1	@ int
2266:DMP/driver/eMPL/inv_mpu.c **** 
 2413              		.loc 1 2266 24 view .LVU726
 2414 0222 B8EEC88A 		vcvt.f32.s32	s16, s16
 2415 0226 10A9     		add	r1, sp, #64
 2416 0228 01EB8401 		add	r1, r1, r4, lsl #2
 2417 022c 01ED038A 		vstr.32	s16, [r1, #-12]
2268:DMP/driver/eMPL/inv_mpu.c ****         log_i("Bias_shift=%7.4f, st=%7.4f, reg=%7.4f\n", st_shift_cust[i] / 1.f,
 2418              		.loc 1 2268 7 is_stmt 1 view .LVU727
2268:DMP/driver/eMPL/inv_mpu.c ****         log_i("Bias_shift=%7.4f, st=%7.4f, reg=%7.4f\n", st_shift_cust[i] / 1.f,
 2419              		.loc 1 2268 10 is_stmt 0 view .LVU728
 2420 0230 002D     		cmp	r5, #0
 2421 0232 C8D1     		bne	.L146
 2422              	.L122:
2271:DMP/driver/eMPL/inv_mpu.c ****           st_shift_cust[i] > accel_st_al_max) {
 2423              		.loc 1 2271 7 is_stmt 1 view .LVU729
2271:DMP/driver/eMPL/inv_mpu.c ****           st_shift_cust[i] > accel_st_al_max) {
 2424              		.loc 1 2271 10 is_stmt 0 view .LVU730
 2425 0234 DFED317A 		vldr.32	s15, .L148+76
 2426 0238 B4EEE78A 		vcmpe.f32	s16, s15
 2427 023c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2428 0240 E1D4     		bmi	.L123
2271:DMP/driver/eMPL/inv_mpu.c ****           st_shift_cust[i] > accel_st_al_max) {
 2429              		.loc 1 2271 46 discriminator 1 view .LVU731
 2430 0242 DFED2F7A 		vldr.32	s15, .L148+80
 2431 0246 B4EEE78A 		vcmpe.f32	s16, s15
 2432 024a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2433 024e DEDD     		ble	.L124
 2434 0250 D9E7     		b	.L123
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 94


 2435              	.L145:
2274:DMP/driver/eMPL/inv_mpu.c ****         result |= 1 << i; // Error condition
 2436              		.loc 1 2274 11 is_stmt 1 view .LVU732
 2437 0252 2146     		mov	r1, r4
 2438 0254 2B48     		ldr	r0, .L148+84
 2439 0256 FFF7FEFF 		bl	printf
 2440              	.LVL168:
 2441 025a D5E7     		b	.L126
 2442              	.LVL169:
 2443              	.L119:
2280:DMP/driver/eMPL/inv_mpu.c ****     /* Self Test Pass/Fail Criteria C */
 2444              		.loc 1 2280 3 view .LVU733
2280:DMP/driver/eMPL/inv_mpu.c ****     /* Self Test Pass/Fail Criteria C */
 2445              		.loc 1 2280 6 is_stmt 0 view .LVU734
 2446 025c 002E     		cmp	r6, #0
 2447 025e 7FF4E6AE 		bne	.L101
2282:DMP/driver/eMPL/inv_mpu.c ****     if (debug)
 2448              		.loc 1 2282 5 is_stmt 1 view .LVU735
 2449              	.LVL170:
2283:DMP/driver/eMPL/inv_mpu.c ****       log_i("Accel:CRITERIA C: bias less than %7.4f\n", accel_offset_max / 1.f);
 2450              		.loc 1 2283 5 view .LVU736
2283:DMP/driver/eMPL/inv_mpu.c ****       log_i("Accel:CRITERIA C: bias less than %7.4f\n", accel_offset_max / 1.f);
 2451              		.loc 1 2283 8 is_stmt 0 view .LVU737
 2452 0262 0DB9     		cbnz	r5, .L147
 2453              	.L128:
2228:DMP/driver/eMPL/inv_mpu.c ****     }
 2454              		.loc 1 2228 22 discriminator 1 view .LVU738
 2455 0264 3446     		mov	r4, r6
 2456              	.LVL171:
2228:DMP/driver/eMPL/inv_mpu.c ****     }
 2457              		.loc 1 2228 22 discriminator 1 view .LVU739
 2458 0266 09E0     		b	.L129
 2459              	.LVL172:
 2460              	.L147:
2284:DMP/driver/eMPL/inv_mpu.c ****     for (i = 0; i < 3; i++) {
 2461              		.loc 1 2284 7 is_stmt 1 view .LVU740
 2462 0268 0022     		movs	r2, #0
 2463 026a 274B     		ldr	r3, .L148+88
 2464 026c 2748     		ldr	r0, .L148+92
 2465 026e FFF7FEFF 		bl	printf
 2466              	.LVL173:
 2467 0272 F7E7     		b	.L128
 2468              	.LVL174:
 2469              	.L132:
2289:DMP/driver/eMPL/inv_mpu.c ****       }
 2470              		.loc 1 2289 9 view .LVU741
2289:DMP/driver/eMPL/inv_mpu.c ****       }
 2471              		.loc 1 2289 21 is_stmt 0 view .LVU742
 2472 0274 0123     		movs	r3, #1
 2473 0276 A340     		lsls	r3, r3, r4
2289:DMP/driver/eMPL/inv_mpu.c ****       }
 2474              		.loc 1 2289 16 view .LVU743
 2475 0278 1E43     		orrs	r6, r6, r3
 2476              	.LVL175:
 2477              	.L130:
2285:DMP/driver/eMPL/inv_mpu.c ****       if (fabs(bias_regular[i]) > accel_offset_max) {
 2478              		.loc 1 2285 25 is_stmt 1 discriminator 2 view .LVU744
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 95


 2479 027a 0134     		adds	r4, r4, #1
 2480              	.LVL176:
 2481              	.L129:
2285:DMP/driver/eMPL/inv_mpu.c ****       if (fabs(bias_regular[i]) > accel_offset_max) {
 2482              		.loc 1 2285 19 discriminator 1 view .LVU745
 2483 027c 022C     		cmp	r4, #2
 2484 027e 3FF7D6AE 		bgt	.L101
2286:DMP/driver/eMPL/inv_mpu.c ****         if (debug)
 2485              		.loc 1 2286 7 view .LVU746
2286:DMP/driver/eMPL/inv_mpu.c ****         if (debug)
 2486              		.loc 1 2286 28 is_stmt 0 view .LVU747
 2487 0282 57F824A0 		ldr	r10, [r7, r4, lsl #2]
2286:DMP/driver/eMPL/inv_mpu.c ****         if (debug)
 2488              		.loc 1 2286 11 view .LVU748
 2489 0286 5046     		mov	r0, r10
 2490 0288 FFF7FEFF 		bl	__aeabi_i2d
 2491              	.LVL177:
 2492 028c 21F00049 		bic	r9, r1, #-2147483648
2286:DMP/driver/eMPL/inv_mpu.c ****         if (debug)
 2493              		.loc 1 2286 10 view .LVU749
 2494 0290 0022     		movs	r2, #0
 2495 0292 1D4B     		ldr	r3, .L148+88
 2496 0294 4946     		mov	r1, r9
 2497 0296 FFF7FEFF 		bl	__aeabi_dcmpgt
 2498              	.LVL178:
 2499 029a 0028     		cmp	r0, #0
 2500 029c EDD0     		beq	.L130
2287:DMP/driver/eMPL/inv_mpu.c ****           log_i("FAILED: Accel axis:%d = %ld > 500mg\n", i, bias_regular[i]);
 2501              		.loc 1 2287 9 is_stmt 1 view .LVU750
2287:DMP/driver/eMPL/inv_mpu.c ****           log_i("FAILED: Accel axis:%d = %ld > 500mg\n", i, bias_regular[i]);
 2502              		.loc 1 2287 12 is_stmt 0 view .LVU751
 2503 029e 002D     		cmp	r5, #0
 2504 02a0 E8D0     		beq	.L132
2288:DMP/driver/eMPL/inv_mpu.c ****         result |= 1 << i; // Error condition
 2505              		.loc 1 2288 11 is_stmt 1 view .LVU752
 2506 02a2 5246     		mov	r2, r10
 2507 02a4 2146     		mov	r1, r4
 2508 02a6 1A48     		ldr	r0, .L148+96
 2509 02a8 FFF7FEFF 		bl	printf
 2510              	.LVL179:
 2511 02ac E2E7     		b	.L132
 2512              	.L149:
 2513 02ae 00BF     		.align	3
 2514              	.L148:
 2515 02b0 000000A0 		.word	-1610612736
 2516 02b4 9999E540 		.word	1088788889
 2517 02b8 00000000 		.word	st
 2518 02bc 00000000 		.word	.LC4
 2519 02c0 1C000000 		.word	.LC5
 2520 02c4 00000000 		.word	mpu_6500_st_tb
 2521 02c8 00008047 		.word	1199570944
 2522 02cc 00008038 		.word	947912704
 2523 02d0 34000000 		.word	.LC6
 2524 02d4 48000000 		.word	.LC7
 2525 02d8 7C000000 		.word	.LC8
 2526 02dc 0000E03F 		.word	1071644672
 2527 02e0 90000000 		.word	.LC9
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 96


 2528 02e4 B0000000 		.word	.LC10
 2529 02e8 C8000000 		.word	.LC11
 2530 02ec CCCCCC40 		.word	1087163596
 2531 02f0 DC000000 		.word	.LC12
 2532 02f4 EC000000 		.word	.LC13
 2533 02f8 FC000000 		.word	.LC14
 2534 02fc 66666646 		.word	1181116006
 2535 0300 CDCC2C47 		.word	1194118349
 2536 0304 24010000 		.word	.LC15
 2537 0308 0000E040 		.word	1088421888
 2538 030c 50010000 		.word	.LC16
 2539 0310 78010000 		.word	.LC17
 2540              		.cfi_endproc
 2541              	.LFE208:
 2543              		.section	.rodata.gyro_6500_self_test.str1.4,"aMS",%progbits,1
 2544              		.align	2
 2545              	.LC18:
 2546 0000 4779726F 		.ascii	"Gyro OTP:%d, %d, %d\015\012\000"
 2546      204F5450 
 2546      3A25642C 
 2546      2025642C 
 2546      2025640D 
 2547 0016 0000     		.align	2
 2548              	.LC19:
 2549 0018 4759524F 		.ascii	"GYRO:CRITERIA A\000"
 2549      3A435249 
 2549      54455249 
 2549      41204100 
 2550              		.align	2
 2551              	.LC20:
 2552 0028 4779726F 		.ascii	"Gyro Fail Axis = %d\012\000"
 2552      20466169 
 2552      6C204178 
 2552      6973203D 
 2552      2025640A 
 2553 003d 000000   		.align	2
 2554              	.LC21:
 2555 0040 4759524F 		.ascii	"GYRO:CRITERIA B\015\000"
 2555      3A435249 
 2555      54455249 
 2555      4120420D 
 2555      00
 2556 0051 000000   		.align	2
 2557              	.LC22:
 2558 0054 4D617820 		.ascii	"Max DPS: %7.4f\015\012\000"
 2558      4450533A 
 2558      2025372E 
 2558      34660D0A 
 2558      00
 2559 0065 000000   		.align	2
 2560              	.LC23:
 2561 0068 4759524F 		.ascii	"GYRO FAIL axis:%d greater than 60dps\012\000"
 2561      20464149 
 2561      4C206178 
 2561      69733A25 
 2561      64206772 
 2562 008e 0000     		.align	2
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 97


 2563              	.LC24:
 2564 0090 4779726F 		.ascii	"Gyro:CRITERIA C: bias less than %7.4f\012\000"
 2564      3A435249 
 2564      54455249 
 2564      4120433A 
 2564      20626961 
 2565 00b7 00       		.align	2
 2566              	.LC25:
 2567 00b8 4641494C 		.ascii	"FAILED: Gyro axis:%d = %ld > 20dps\012\000"
 2567      45443A20 
 2567      4779726F 
 2567      20617869 
 2567      733A2564 
 2568              		.section	.text.gyro_6500_self_test,"ax",%progbits
 2569              		.align	1
 2570              		.syntax unified
 2571              		.thumb
 2572              		.thumb_func
 2574              	gyro_6500_self_test:
 2575              	.LVL180:
 2576              	.LFB209:
2297:DMP/driver/eMPL/inv_mpu.c ****   int i, result = 0, otp_value_zero = 0;
 2577              		.loc 1 2297 78 view -0
 2578              		.cfi_startproc
 2579              		@ args = 0, pretend = 0, frame = 48
 2580              		@ frame_needed = 0, uses_anonymous_args = 0
2297:DMP/driver/eMPL/inv_mpu.c ****   int i, result = 0, otp_value_zero = 0;
 2581              		.loc 1 2297 78 is_stmt 0 view .LVU754
 2582 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 2583              	.LCFI20:
 2584              		.cfi_def_cfa_offset 32
 2585              		.cfi_offset 4, -32
 2586              		.cfi_offset 5, -28
 2587              		.cfi_offset 6, -24
 2588              		.cfi_offset 7, -20
 2589              		.cfi_offset 8, -16
 2590              		.cfi_offset 9, -12
 2591              		.cfi_offset 10, -8
 2592              		.cfi_offset 14, -4
 2593 0004 2DED048B 		vpush.64	{d8, d9}
 2594              	.LCFI21:
 2595              		.cfi_def_cfa_offset 48
 2596              		.cfi_offset 80, -48
 2597              		.cfi_offset 81, -44
 2598              		.cfi_offset 82, -40
 2599              		.cfi_offset 83, -36
 2600 0008 90B0     		sub	sp, sp, #64
 2601              	.LCFI22:
 2602              		.cfi_def_cfa_offset 112
 2603 000a 0746     		mov	r7, r0
 2604 000c 8A46     		mov	r10, r1
 2605 000e 1546     		mov	r5, r2
2298:DMP/driver/eMPL/inv_mpu.c ****   float gyro_st_al_max;
 2606              		.loc 1 2298 3 is_stmt 1 view .LVU755
 2607              	.LVL181:
2299:DMP/driver/eMPL/inv_mpu.c ****   float st_shift_cust[3], st_shift_ratio[3], ct_shift_prod[3], gyro_offset_max;
 2608              		.loc 1 2299 3 view .LVU756
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 98


2300:DMP/driver/eMPL/inv_mpu.c ****   unsigned char regs[3];
 2609              		.loc 1 2300 3 view .LVU757
2301:DMP/driver/eMPL/inv_mpu.c **** 
 2610              		.loc 1 2301 3 view .LVU758
2303:DMP/driver/eMPL/inv_mpu.c ****     if (debug)
 2611              		.loc 1 2303 3 view .LVU759
2303:DMP/driver/eMPL/inv_mpu.c ****     if (debug)
 2612              		.loc 1 2303 18 is_stmt 0 view .LVU760
 2613 0010 9D4B     		ldr	r3, .L196
 2614 0012 5868     		ldr	r0, [r3, #4]
 2615              	.LVL182:
2303:DMP/driver/eMPL/inv_mpu.c ****     if (debug)
 2616              		.loc 1 2303 7 view .LVU761
 2617 0014 06AB     		add	r3, sp, #24
 2618 0016 0322     		movs	r2, #3
 2619              	.LVL183:
2303:DMP/driver/eMPL/inv_mpu.c ****     if (debug)
 2620              		.loc 1 2303 7 view .LVU762
 2621 0018 0021     		movs	r1, #0
 2622              	.LVL184:
2303:DMP/driver/eMPL/inv_mpu.c ****     if (debug)
 2623              		.loc 1 2303 7 view .LVU763
 2624 001a 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 2625 001c FFF7FEFF 		bl	MPU_Read_Len
 2626              	.LVL185:
2303:DMP/driver/eMPL/inv_mpu.c ****     if (debug)
 2627              		.loc 1 2303 6 view .LVU764
 2628 0020 18B9     		cbnz	r0, .L186
2309:DMP/driver/eMPL/inv_mpu.c ****     log_i("Gyro OTP:%d, %d, %d\r\n", regs[0], regs[1], regs[2]);
 2629              		.loc 1 2309 3 is_stmt 1 view .LVU765
2309:DMP/driver/eMPL/inv_mpu.c ****     log_i("Gyro OTP:%d, %d, %d\r\n", regs[0], regs[1], regs[2]);
 2630              		.loc 1 2309 6 is_stmt 0 view .LVU766
 2631 0022 75B9     		cbnz	r5, .L187
 2632              	.L154:
2319:DMP/driver/eMPL/inv_mpu.c ****     }
 2633              		.loc 1 2319 22 discriminator 1 view .LVU767
 2634 0024 0024     		movs	r4, #0
 2635 0026 2346     		mov	r3, r4
 2636 0028 1DE0     		b	.L155
 2637              	.L186:
2304:DMP/driver/eMPL/inv_mpu.c ****       log_i("Reading OTP Register Error.\n");
 2638              		.loc 1 2304 5 is_stmt 1 view .LVU768
2304:DMP/driver/eMPL/inv_mpu.c ****       log_i("Reading OTP Register Error.\n");
 2639              		.loc 1 2304 8 is_stmt 0 view .LVU769
 2640 002a 35B9     		cbnz	r5, .L188
 2641              	.L152:
2306:DMP/driver/eMPL/inv_mpu.c ****   }
 2642              		.loc 1 2306 5 is_stmt 1 view .LVU770
2306:DMP/driver/eMPL/inv_mpu.c ****   }
 2643              		.loc 1 2306 12 is_stmt 0 view .LVU771
 2644 002c 0726     		movs	r6, #7
 2645              	.LVL186:
 2646              	.L150:
2385:DMP/driver/eMPL/inv_mpu.c **** 
 2647              		.loc 1 2385 1 view .LVU772
 2648 002e 3046     		mov	r0, r6
 2649 0030 10B0     		add	sp, sp, #64
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 99


 2650              	.LCFI23:
 2651              		.cfi_remember_state
 2652              		.cfi_def_cfa_offset 48
 2653              		@ sp needed
 2654 0032 BDEC048B 		vldm	sp!, {d8-d9}
 2655              	.LCFI24:
 2656              		.cfi_restore 82
 2657              		.cfi_restore 83
 2658              		.cfi_restore 80
 2659              		.cfi_restore 81
 2660              		.cfi_def_cfa_offset 32
 2661 0036 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 2662              	.LVL187:
 2663              	.L188:
 2664              	.LCFI25:
 2665              		.cfi_restore_state
2305:DMP/driver/eMPL/inv_mpu.c ****     return 0x07;
 2666              		.loc 1 2305 7 is_stmt 1 view .LVU773
 2667 003a 9448     		ldr	r0, .L196+4
 2668 003c FFF7FEFF 		bl	puts
 2669              	.LVL188:
 2670 0040 F4E7     		b	.L152
 2671              	.L187:
2310:DMP/driver/eMPL/inv_mpu.c **** 
 2672              		.loc 1 2310 5 view .LVU774
 2673 0042 9DF81A30 		ldrb	r3, [sp, #26]	@ zero_extendqisi2
 2674 0046 9DF81920 		ldrb	r2, [sp, #25]	@ zero_extendqisi2
 2675 004a 9DF81810 		ldrb	r1, [sp, #24]	@ zero_extendqisi2
 2676 004e 9048     		ldr	r0, .L196+8
 2677 0050 FFF7FEFF 		bl	printf
 2678              	.LVL189:
 2679 0054 E6E7     		b	.L154
 2680              	.LVL190:
 2681              	.L156:
2318:DMP/driver/eMPL/inv_mpu.c ****       otp_value_zero = 1;
 2682              		.loc 1 2318 7 view .LVU775
2318:DMP/driver/eMPL/inv_mpu.c ****       otp_value_zero = 1;
 2683              		.loc 1 2318 24 is_stmt 0 view .LVU776
 2684 0056 0021     		movs	r1, #0
 2685 0058 10AA     		add	r2, sp, #64
 2686 005a 02EB8302 		add	r2, r2, r3, lsl #2
 2687 005e 42F8241C 		str	r1, [r2, #-36]	@ float
2319:DMP/driver/eMPL/inv_mpu.c ****     }
 2688              		.loc 1 2319 7 is_stmt 1 view .LVU777
 2689              	.LVL191:
2319:DMP/driver/eMPL/inv_mpu.c ****     }
 2690              		.loc 1 2319 22 is_stmt 0 view .LVU778
 2691 0062 0124     		movs	r4, #1
 2692              	.LVL192:
 2693              	.L157:
2312:DMP/driver/eMPL/inv_mpu.c ****     if (regs[i] != 0) {
 2694              		.loc 1 2312 23 is_stmt 1 discriminator 2 view .LVU779
 2695 0064 0133     		adds	r3, r3, #1
 2696              	.LVL193:
 2697              	.L155:
2312:DMP/driver/eMPL/inv_mpu.c ****     if (regs[i] != 0) {
 2698              		.loc 1 2312 17 discriminator 1 view .LVU780
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 100


 2699 0066 022B     		cmp	r3, #2
 2700 0068 20DC     		bgt	.L189
2313:DMP/driver/eMPL/inv_mpu.c ****       ct_shift_prod[i] = mpu_6500_st_tb[regs[i] - 1];
 2701              		.loc 1 2313 5 view .LVU781
2313:DMP/driver/eMPL/inv_mpu.c ****       ct_shift_prod[i] = mpu_6500_st_tb[regs[i] - 1];
 2702              		.loc 1 2313 13 is_stmt 0 view .LVU782
 2703 006a 03F14002 		add	r2, r3, #64
 2704 006e 6A44     		add	r2, sp, r2
 2705 0070 12F8282C 		ldrb	r2, [r2, #-40]	@ zero_extendqisi2
2313:DMP/driver/eMPL/inv_mpu.c ****       ct_shift_prod[i] = mpu_6500_st_tb[regs[i] - 1];
 2706              		.loc 1 2313 8 view .LVU783
 2707 0074 002A     		cmp	r2, #0
 2708 0076 EED0     		beq	.L156
2314:DMP/driver/eMPL/inv_mpu.c ****       ct_shift_prod[i] *= 65536.f;
 2709              		.loc 1 2314 7 is_stmt 1 view .LVU784
2314:DMP/driver/eMPL/inv_mpu.c ****       ct_shift_prod[i] *= 65536.f;
 2710              		.loc 1 2314 49 is_stmt 0 view .LVU785
 2711 0078 013A     		subs	r2, r2, #1
2314:DMP/driver/eMPL/inv_mpu.c ****       ct_shift_prod[i] *= 65536.f;
 2712              		.loc 1 2314 40 view .LVU786
 2713 007a 8649     		ldr	r1, .L196+12
 2714 007c 31F81220 		ldrh	r2, [r1, r2, lsl #1]
 2715 0080 07EE902A 		vmov	s15, r2	@ int
2314:DMP/driver/eMPL/inv_mpu.c ****       ct_shift_prod[i] *= 65536.f;
 2716              		.loc 1 2314 24 view .LVU787
 2717 0084 F8EE677A 		vcvt.f32.u32	s15, s15
 2718 0088 10AA     		add	r2, sp, #64
 2719 008a 02EB8302 		add	r2, r2, r3, lsl #2
 2720 008e 42ED097A 		vstr.32	s15, [r2, #-36]
2315:DMP/driver/eMPL/inv_mpu.c ****       ct_shift_prod[i] /= test.gyro_sens;
 2721              		.loc 1 2315 7 is_stmt 1 view .LVU788
2315:DMP/driver/eMPL/inv_mpu.c ****       ct_shift_prod[i] /= test.gyro_sens;
 2722              		.loc 1 2315 24 is_stmt 0 view .LVU789
 2723 0092 9FED817A 		vldr.32	s14, .L196+16
 2724 0096 67EE877A 		vmul.f32	s15, s15, s14
 2725 009a 42ED097A 		vstr.32	s15, [r2, #-36]
2316:DMP/driver/eMPL/inv_mpu.c ****     } else {
 2726              		.loc 1 2316 7 is_stmt 1 view .LVU790
2316:DMP/driver/eMPL/inv_mpu.c ****     } else {
 2727              		.loc 1 2316 24 is_stmt 0 view .LVU791
 2728 009e DFED7F6A 		vldr.32	s13, .L196+20
 2729 00a2 87EEA67A 		vdiv.f32	s14, s15, s13
 2730 00a6 02ED097A 		vstr.32	s14, [r2, #-36]
 2731 00aa DBE7     		b	.L157
 2732              	.L189:
2323:DMP/driver/eMPL/inv_mpu.c ****     if (debug)
 2733              		.loc 1 2323 3 is_stmt 1 view .LVU792
2323:DMP/driver/eMPL/inv_mpu.c ****     if (debug)
 2734              		.loc 1 2323 6 is_stmt 0 view .LVU793
 2735 00ac 002C     		cmp	r4, #0
 2736 00ae 71D1     		bne	.L159
2324:DMP/driver/eMPL/inv_mpu.c ****       log_i("GYRO:CRITERIA A\n");
 2737              		.loc 1 2324 5 is_stmt 1 view .LVU794
2324:DMP/driver/eMPL/inv_mpu.c ****       log_i("GYRO:CRITERIA A\n");
 2738              		.loc 1 2324 8 is_stmt 0 view .LVU795
 2739 00b0 0DB9     		cbnz	r5, .L190
 2740              	.LVL194:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 101


 2741              	.L160:
2319:DMP/driver/eMPL/inv_mpu.c ****     }
 2742              		.loc 1 2319 22 discriminator 1 view .LVU796
 2743 00b2 2646     		mov	r6, r4
 2744 00b4 41E0     		b	.L161
 2745              	.LVL195:
 2746              	.L190:
2325:DMP/driver/eMPL/inv_mpu.c ****     /* Self Test Pass/Fail Criteria A */
 2747              		.loc 1 2325 7 is_stmt 1 view .LVU797
 2748 00b6 7A48     		ldr	r0, .L196+24
 2749 00b8 FFF7FEFF 		bl	puts
 2750              	.LVL196:
2325:DMP/driver/eMPL/inv_mpu.c ****     /* Self Test Pass/Fail Criteria A */
 2751              		.loc 1 2325 7 is_stmt 0 view .LVU798
 2752 00bc F9E7     		b	.L160
 2753              	.LVL197:
 2754              	.L191:
2331:DMP/driver/eMPL/inv_mpu.c ****               st_shift_cust[i] / 1.f, bias_regular[i] / 1.f, bias_st[i] / 1.f);
 2755              		.loc 1 2331 9 is_stmt 1 view .LVU799
2332:DMP/driver/eMPL/inv_mpu.c ****         log_i("OTP value: %7.4f\r\n", ct_shift_prod[i] / 1.f);
 2756              		.loc 1 2332 55 is_stmt 0 view .LVU800
 2757 00be 07EE903A 		vmov	s15, r3	@ int
 2758 00c2 B8EEE78A 		vcvt.f32.s32	s16, s15
2332:DMP/driver/eMPL/inv_mpu.c ****         log_i("OTP value: %7.4f\r\n", ct_shift_prod[i] / 1.f);
 2759              		.loc 1 2332 73 view .LVU801
 2760 00c6 07EE902A 		vmov	s15, r2	@ int
 2761 00ca B8EEE79A 		vcvt.f32.s32	s18, s15
2331:DMP/driver/eMPL/inv_mpu.c ****               st_shift_cust[i] / 1.f, bias_regular[i] / 1.f, bias_st[i] / 1.f);
 2762              		.loc 1 2331 9 view .LVU802
 2763 00ce 18EE900A 		vmov	r0, s17
 2764 00d2 FFF7FEFF 		bl	__aeabi_f2d
 2765              	.LVL198:
 2766 00d6 CDE90401 		strd	r0, [sp, #16]
 2767 00da 19EE100A 		vmov	r0, s18
 2768 00de FFF7FEFF 		bl	__aeabi_f2d
 2769              	.LVL199:
 2770 00e2 CDE90201 		strd	r0, [sp, #8]
 2771 00e6 18EE100A 		vmov	r0, s16
 2772 00ea FFF7FEFF 		bl	__aeabi_f2d
 2773              	.LVL200:
 2774 00ee CDE90001 		strd	r0, [sp]
 2775 00f2 DDE90423 		ldrd	r2, [sp, #16]
 2776 00f6 6B48     		ldr	r0, .L196+28
 2777 00f8 FFF7FEFF 		bl	printf
 2778              	.LVL201:
2333:DMP/driver/eMPL/inv_mpu.c ****       }
 2779              		.loc 1 2333 9 is_stmt 1 view .LVU803
2333:DMP/driver/eMPL/inv_mpu.c ****       }
 2780              		.loc 1 2333 56 is_stmt 0 view .LVU804
 2781 00fc 10AB     		add	r3, sp, #64
 2782 00fe 03EB8403 		add	r3, r3, r4, lsl #2
2333:DMP/driver/eMPL/inv_mpu.c ****       }
 2783              		.loc 1 2333 9 view .LVU805
 2784 0102 53F8240C 		ldr	r0, [r3, #-36]	@ float
 2785 0106 FFF7FEFF 		bl	__aeabi_f2d
 2786              	.LVL202:
 2787 010a 0246     		mov	r2, r0
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 102


 2788 010c 0B46     		mov	r3, r1
 2789 010e 6648     		ldr	r0, .L196+32
 2790 0110 FFF7FEFF 		bl	printf
 2791              	.LVL203:
 2792 0114 23E0     		b	.L162
 2793              	.L192:
2339:DMP/driver/eMPL/inv_mpu.c ****               test.max_gyro_var / 1.f);
 2794              		.loc 1 2339 9 is_stmt 1 view .LVU806
 2795 0116 18EE100A 		vmov	r0, s16
 2796 011a FFF7FEFF 		bl	__aeabi_f2d
 2797              	.LVL204:
 2798 011e 0246     		mov	r2, r0
 2799 0120 0B46     		mov	r3, r1
 2800 0122 0020     		movs	r0, #0
 2801 0124 6149     		ldr	r1, .L196+36
 2802 0126 CDE90001 		strd	r0, [sp]
 2803 012a 6148     		ldr	r0, .L196+40
 2804 012c FFF7FEFF 		bl	printf
 2805              	.LVL205:
 2806 0130 20E0     		b	.L163
 2807              	.L166:
2345:DMP/driver/eMPL/inv_mpu.c ****       }
 2808              		.loc 1 2345 9 view .LVU807
2345:DMP/driver/eMPL/inv_mpu.c ****       }
 2809              		.loc 1 2345 21 is_stmt 0 view .LVU808
 2810 0132 0123     		movs	r3, #1
 2811 0134 A340     		lsls	r3, r3, r4
2345:DMP/driver/eMPL/inv_mpu.c ****       }
 2812              		.loc 1 2345 16 view .LVU809
 2813 0136 1E43     		orrs	r6, r6, r3
 2814              	.LVL206:
 2815              	.L164:
2327:DMP/driver/eMPL/inv_mpu.c ****       st_shift_cust[i] = bias_st[i] - bias_regular[i];
 2816              		.loc 1 2327 25 is_stmt 1 discriminator 2 view .LVU810
 2817 0138 0134     		adds	r4, r4, #1
 2818              	.LVL207:
 2819              	.L161:
2327:DMP/driver/eMPL/inv_mpu.c ****       st_shift_cust[i] = bias_st[i] - bias_regular[i];
 2820              		.loc 1 2327 19 discriminator 1 view .LVU811
 2821 013a 022C     		cmp	r4, #2
 2822 013c 7BDC     		bgt	.L168
2328:DMP/driver/eMPL/inv_mpu.c **** 
 2823              		.loc 1 2328 7 view .LVU812
2328:DMP/driver/eMPL/inv_mpu.c **** 
 2824              		.loc 1 2328 33 is_stmt 0 view .LVU813
 2825 013e 5AF82420 		ldr	r2, [r10, r4, lsl #2]
2328:DMP/driver/eMPL/inv_mpu.c **** 
 2826              		.loc 1 2328 51 view .LVU814
 2827 0142 57F82430 		ldr	r3, [r7, r4, lsl #2]
2328:DMP/driver/eMPL/inv_mpu.c **** 
 2828              		.loc 1 2328 37 view .LVU815
 2829 0146 D11A     		subs	r1, r2, r3
 2830 0148 08EE901A 		vmov	s17, r1	@ int
2328:DMP/driver/eMPL/inv_mpu.c **** 
 2831              		.loc 1 2328 24 view .LVU816
 2832 014c F8EEE88A 		vcvt.f32.s32	s17, s17
 2833 0150 10A9     		add	r1, sp, #64
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 103


 2834 0152 01EB8401 		add	r1, r1, r4, lsl #2
 2835 0156 41ED038A 		vstr.32	s17, [r1, #-12]
2330:DMP/driver/eMPL/inv_mpu.c ****         log_i("Bias_Shift=%7.4f, Bias_Reg=%7.4f, Bias_HWST=%7.4f\r\n",
 2836              		.loc 1 2330 7 is_stmt 1 view .LVU817
2330:DMP/driver/eMPL/inv_mpu.c ****         log_i("Bias_Shift=%7.4f, Bias_Reg=%7.4f, Bias_HWST=%7.4f\r\n",
 2837              		.loc 1 2330 10 is_stmt 0 view .LVU818
 2838 015a 002D     		cmp	r5, #0
 2839 015c AFD1     		bne	.L191
 2840              	.L162:
2336:DMP/driver/eMPL/inv_mpu.c **** 
 2841              		.loc 1 2336 7 is_stmt 1 view .LVU819
2336:DMP/driver/eMPL/inv_mpu.c **** 
 2842              		.loc 1 2336 59 is_stmt 0 view .LVU820
 2843 015e 10AB     		add	r3, sp, #64
 2844 0160 03EB8403 		add	r3, r3, r4, lsl #2
 2845 0164 53ED097A 		vldr.32	s15, [r3, #-36]
2336:DMP/driver/eMPL/inv_mpu.c **** 
 2846              		.loc 1 2336 44 view .LVU821
 2847 0168 88EEA78A 		vdiv.f32	s16, s17, s15
2336:DMP/driver/eMPL/inv_mpu.c **** 
 2848              		.loc 1 2336 25 view .LVU822
 2849 016c 03ED068A 		vstr.32	s16, [r3, #-24]
2338:DMP/driver/eMPL/inv_mpu.c ****         log_i("ratio=%7.4f, threshold=%7.4f\r\n", st_shift_ratio[i] / 1.f,
 2850              		.loc 1 2338 7 is_stmt 1 view .LVU823
2338:DMP/driver/eMPL/inv_mpu.c ****         log_i("ratio=%7.4f, threshold=%7.4f\r\n", st_shift_ratio[i] / 1.f,
 2851              		.loc 1 2338 10 is_stmt 0 view .LVU824
 2852 0170 002D     		cmp	r5, #0
 2853 0172 D0D1     		bne	.L192
 2854              	.L163:
2342:DMP/driver/eMPL/inv_mpu.c ****         if (debug)
 2855              		.loc 1 2342 7 is_stmt 1 view .LVU825
2342:DMP/driver/eMPL/inv_mpu.c ****         if (debug)
 2856              		.loc 1 2342 11 is_stmt 0 view .LVU826
 2857 0174 B0EEC88A 		vabs.f32	s16, s16
2342:DMP/driver/eMPL/inv_mpu.c ****         if (debug)
 2858              		.loc 1 2342 10 view .LVU827
 2859 0178 F6EE007A 		vmov.f32	s15, #5.0e-1
 2860 017c B4EEE78A 		vcmpe.f32	s16, s15
 2861 0180 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2862 0184 D8D5     		bpl	.L164
2343:DMP/driver/eMPL/inv_mpu.c ****           log_i("Gyro Fail Axis = %d\n", i);
 2863              		.loc 1 2343 9 is_stmt 1 view .LVU828
2343:DMP/driver/eMPL/inv_mpu.c ****           log_i("Gyro Fail Axis = %d\n", i);
 2864              		.loc 1 2343 12 is_stmt 0 view .LVU829
 2865 0186 002D     		cmp	r5, #0
 2866 0188 D3D0     		beq	.L166
2344:DMP/driver/eMPL/inv_mpu.c ****         result |= 1 << i; // Error condition
 2867              		.loc 1 2344 11 is_stmt 1 view .LVU830
 2868 018a 2146     		mov	r1, r4
 2869 018c 4948     		ldr	r0, .L196+44
 2870 018e FFF7FEFF 		bl	printf
 2871              	.LVL208:
 2872 0192 CEE7     		b	.L166
 2873              	.LVL209:
 2874              	.L159:
2350:DMP/driver/eMPL/inv_mpu.c **** 
 2875              		.loc 1 2350 5 view .LVU831
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 104


2352:DMP/driver/eMPL/inv_mpu.c ****       log_i("GYRO:CRITERIA B\r\n");
 2876              		.loc 1 2352 5 view .LVU832
2352:DMP/driver/eMPL/inv_mpu.c ****       log_i("GYRO:CRITERIA B\r\n");
 2877              		.loc 1 2352 8 is_stmt 0 view .LVU833
 2878 0194 15B9     		cbnz	r5, .L193
 2879              	.LVL210:
 2880              	.L169:
2319:DMP/driver/eMPL/inv_mpu.c ****     }
 2881              		.loc 1 2319 22 discriminator 1 view .LVU834
 2882 0196 0026     		movs	r6, #0
 2883 0198 3446     		mov	r4, r6
 2884              	.LVL211:
2319:DMP/driver/eMPL/inv_mpu.c ****     }
 2885              		.loc 1 2319 22 discriminator 1 view .LVU835
 2886 019a 2CE0     		b	.L170
 2887              	.LVL212:
 2888              	.L193:
2353:DMP/driver/eMPL/inv_mpu.c ****       log_i("Max DPS: %7.4f\r\n", gyro_st_al_max / 1.f);
 2889              		.loc 1 2353 7 is_stmt 1 view .LVU836
 2890 019c 4648     		ldr	r0, .L196+48
 2891 019e FFF7FEFF 		bl	puts
 2892              	.LVL213:
2354:DMP/driver/eMPL/inv_mpu.c ****     }
 2893              		.loc 1 2354 7 view .LVU837
 2894 01a2 0022     		movs	r2, #0
 2895 01a4 454B     		ldr	r3, .L196+52
 2896 01a6 4648     		ldr	r0, .L196+56
 2897 01a8 FFF7FEFF 		bl	printf
 2898              	.LVL214:
 2899 01ac F3E7     		b	.L169
 2900              	.LVL215:
 2901              	.L194:
2361:DMP/driver/eMPL/inv_mpu.c ****               bias_st[i] / 1.f, bias_regular[i] / 1.f);
 2902              		.loc 1 2361 9 view .LVU838
2362:DMP/driver/eMPL/inv_mpu.c ****       if (st_shift_cust[i] < gyro_st_al_max) {
 2903              		.loc 1 2362 26 is_stmt 0 view .LVU839
 2904 01ae 07EE903A 		vmov	s15, r3	@ int
 2905 01b2 F8EEE78A 		vcvt.f32.s32	s17, s15
2362:DMP/driver/eMPL/inv_mpu.c ****       if (st_shift_cust[i] < gyro_st_al_max) {
 2906              		.loc 1 2362 49 view .LVU840
 2907 01b6 07EE902A 		vmov	s15, r2	@ int
 2908 01ba B8EEE79A 		vcvt.f32.s32	s18, s15
2361:DMP/driver/eMPL/inv_mpu.c ****               bias_st[i] / 1.f, bias_regular[i] / 1.f);
 2909              		.loc 1 2361 9 view .LVU841
 2910 01be 18EE100A 		vmov	r0, s16
 2911 01c2 FFF7FEFF 		bl	__aeabi_f2d
 2912              	.LVL216:
 2913 01c6 CDE90401 		strd	r0, [sp, #16]
 2914 01ca 19EE100A 		vmov	r0, s18
 2915 01ce FFF7FEFF 		bl	__aeabi_f2d
 2916              	.LVL217:
 2917 01d2 CDE90201 		strd	r0, [sp, #8]
 2918 01d6 18EE900A 		vmov	r0, s17
 2919 01da FFF7FEFF 		bl	__aeabi_f2d
 2920              	.LVL218:
 2921 01de CDE90001 		strd	r0, [sp]
 2922 01e2 DDE90423 		ldrd	r2, [sp, #16]
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 105


 2923 01e6 3748     		ldr	r0, .L196+60
 2924 01e8 FFF7FEFF 		bl	printf
 2925              	.LVL219:
 2926 01ec 15E0     		b	.L171
 2927              	.L174:
2366:DMP/driver/eMPL/inv_mpu.c ****       }
 2928              		.loc 1 2366 9 is_stmt 1 view .LVU842
2366:DMP/driver/eMPL/inv_mpu.c ****       }
 2929              		.loc 1 2366 21 is_stmt 0 view .LVU843
 2930 01ee 0123     		movs	r3, #1
 2931 01f0 A340     		lsls	r3, r3, r4
2366:DMP/driver/eMPL/inv_mpu.c ****       }
 2932              		.loc 1 2366 16 view .LVU844
 2933 01f2 1E43     		orrs	r6, r6, r3
 2934              	.LVL220:
 2935              	.L172:
2357:DMP/driver/eMPL/inv_mpu.c ****       st_shift_cust[i] = bias_st[i] - bias_regular[i];
 2936              		.loc 1 2357 25 is_stmt 1 discriminator 2 view .LVU845
 2937 01f4 0134     		adds	r4, r4, #1
 2938              	.LVL221:
 2939              	.L170:
2357:DMP/driver/eMPL/inv_mpu.c ****       st_shift_cust[i] = bias_st[i] - bias_regular[i];
 2940              		.loc 1 2357 19 discriminator 1 view .LVU846
 2941 01f6 022C     		cmp	r4, #2
 2942 01f8 1DDC     		bgt	.L168
2358:DMP/driver/eMPL/inv_mpu.c **** 
 2943              		.loc 1 2358 7 view .LVU847
2358:DMP/driver/eMPL/inv_mpu.c **** 
 2944              		.loc 1 2358 33 is_stmt 0 view .LVU848
 2945 01fa 5AF82430 		ldr	r3, [r10, r4, lsl #2]
2358:DMP/driver/eMPL/inv_mpu.c **** 
 2946              		.loc 1 2358 51 view .LVU849
 2947 01fe 57F82420 		ldr	r2, [r7, r4, lsl #2]
2358:DMP/driver/eMPL/inv_mpu.c **** 
 2948              		.loc 1 2358 37 view .LVU850
 2949 0202 991A     		subs	r1, r3, r2
 2950 0204 08EE101A 		vmov	s16, r1	@ int
2358:DMP/driver/eMPL/inv_mpu.c **** 
 2951              		.loc 1 2358 24 view .LVU851
 2952 0208 B8EEC88A 		vcvt.f32.s32	s16, s16
 2953 020c 10A9     		add	r1, sp, #64
 2954 020e 01EB8401 		add	r1, r1, r4, lsl #2
 2955 0212 01ED038A 		vstr.32	s16, [r1, #-12]
2360:DMP/driver/eMPL/inv_mpu.c ****         log_i("Bias_shift=%7.4f, st=%7.4f, reg=%7.4f\n", st_shift_cust[i] / 1.f,
 2956              		.loc 1 2360 7 is_stmt 1 view .LVU852
2360:DMP/driver/eMPL/inv_mpu.c ****         log_i("Bias_shift=%7.4f, st=%7.4f, reg=%7.4f\n", st_shift_cust[i] / 1.f,
 2957              		.loc 1 2360 10 is_stmt 0 view .LVU853
 2958 0216 002D     		cmp	r5, #0
 2959 0218 C9D1     		bne	.L194
 2960              	.L171:
2363:DMP/driver/eMPL/inv_mpu.c ****         if (debug)
 2961              		.loc 1 2363 7 is_stmt 1 view .LVU854
2363:DMP/driver/eMPL/inv_mpu.c ****         if (debug)
 2962              		.loc 1 2363 10 is_stmt 0 view .LVU855
 2963 021a DFED2B7A 		vldr.32	s15, .L196+64
 2964 021e B4EEE78A 		vcmpe.f32	s16, s15
 2965 0222 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 106


 2966 0226 E5D5     		bpl	.L172
2364:DMP/driver/eMPL/inv_mpu.c ****           log_i("GYRO FAIL axis:%d greater than 60dps\n", i);
 2967              		.loc 1 2364 9 is_stmt 1 view .LVU856
2364:DMP/driver/eMPL/inv_mpu.c ****           log_i("GYRO FAIL axis:%d greater than 60dps\n", i);
 2968              		.loc 1 2364 12 is_stmt 0 view .LVU857
 2969 0228 002D     		cmp	r5, #0
 2970 022a E0D0     		beq	.L174
2365:DMP/driver/eMPL/inv_mpu.c ****         result |= 1 << i; // Error condition
 2971              		.loc 1 2365 11 is_stmt 1 view .LVU858
 2972 022c 2146     		mov	r1, r4
 2973 022e 2748     		ldr	r0, .L196+68
 2974 0230 FFF7FEFF 		bl	printf
 2975              	.LVL222:
 2976 0234 DBE7     		b	.L174
 2977              	.LVL223:
 2978              	.L168:
2371:DMP/driver/eMPL/inv_mpu.c ****     /* Self Test Pass/Fail Criteria C */
 2979              		.loc 1 2371 3 view .LVU859
2371:DMP/driver/eMPL/inv_mpu.c ****     /* Self Test Pass/Fail Criteria C */
 2980              		.loc 1 2371 6 is_stmt 0 view .LVU860
 2981 0236 002E     		cmp	r6, #0
 2982 0238 7FF4F9AE 		bne	.L150
2373:DMP/driver/eMPL/inv_mpu.c ****     if (debug)
 2983              		.loc 1 2373 5 is_stmt 1 view .LVU861
 2984              	.LVL224:
2374:DMP/driver/eMPL/inv_mpu.c ****       log_i("Gyro:CRITERIA C: bias less than %7.4f\n", gyro_offset_max / 1.f);
 2985              		.loc 1 2374 5 view .LVU862
2374:DMP/driver/eMPL/inv_mpu.c ****       log_i("Gyro:CRITERIA C: bias less than %7.4f\n", gyro_offset_max / 1.f);
 2986              		.loc 1 2374 8 is_stmt 0 view .LVU863
 2987 023c 0DB9     		cbnz	r5, .L195
 2988              	.L176:
2319:DMP/driver/eMPL/inv_mpu.c ****     }
 2989              		.loc 1 2319 22 discriminator 1 view .LVU864
 2990 023e 3446     		mov	r4, r6
 2991              	.LVL225:
2319:DMP/driver/eMPL/inv_mpu.c ****     }
 2992              		.loc 1 2319 22 discriminator 1 view .LVU865
 2993 0240 09E0     		b	.L177
 2994              	.LVL226:
 2995              	.L195:
2375:DMP/driver/eMPL/inv_mpu.c ****     for (i = 0; i < 3; i++) {
 2996              		.loc 1 2375 7 is_stmt 1 view .LVU866
 2997 0242 0022     		movs	r2, #0
 2998 0244 224B     		ldr	r3, .L196+72
 2999 0246 2348     		ldr	r0, .L196+76
 3000 0248 FFF7FEFF 		bl	printf
 3001              	.LVL227:
 3002 024c F7E7     		b	.L176
 3003              	.LVL228:
 3004              	.L180:
2380:DMP/driver/eMPL/inv_mpu.c ****       }
 3005              		.loc 1 2380 9 view .LVU867
2380:DMP/driver/eMPL/inv_mpu.c ****       }
 3006              		.loc 1 2380 21 is_stmt 0 view .LVU868
 3007 024e 0123     		movs	r3, #1
 3008 0250 A340     		lsls	r3, r3, r4
2380:DMP/driver/eMPL/inv_mpu.c ****       }
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 107


 3009              		.loc 1 2380 16 view .LVU869
 3010 0252 1E43     		orrs	r6, r6, r3
 3011              	.LVL229:
 3012              	.L178:
2376:DMP/driver/eMPL/inv_mpu.c ****       if (fabs(bias_regular[i]) > gyro_offset_max) {
 3013              		.loc 1 2376 25 is_stmt 1 discriminator 2 view .LVU870
 3014 0254 0134     		adds	r4, r4, #1
 3015              	.LVL230:
 3016              	.L177:
2376:DMP/driver/eMPL/inv_mpu.c ****       if (fabs(bias_regular[i]) > gyro_offset_max) {
 3017              		.loc 1 2376 19 discriminator 1 view .LVU871
 3018 0256 022C     		cmp	r4, #2
 3019 0258 3FF7E9AE 		bgt	.L150
2377:DMP/driver/eMPL/inv_mpu.c ****         if (debug)
 3020              		.loc 1 2377 7 view .LVU872
2377:DMP/driver/eMPL/inv_mpu.c ****         if (debug)
 3021              		.loc 1 2377 28 is_stmt 0 view .LVU873
 3022 025c 57F824A0 		ldr	r10, [r7, r4, lsl #2]
2377:DMP/driver/eMPL/inv_mpu.c ****         if (debug)
 3023              		.loc 1 2377 11 view .LVU874
 3024 0260 5046     		mov	r0, r10
 3025 0262 FFF7FEFF 		bl	__aeabi_i2d
 3026              	.LVL231:
 3027 0266 21F00049 		bic	r9, r1, #-2147483648
2377:DMP/driver/eMPL/inv_mpu.c ****         if (debug)
 3028              		.loc 1 2377 10 view .LVU875
 3029 026a 0022     		movs	r2, #0
 3030 026c 184B     		ldr	r3, .L196+72
 3031 026e 4946     		mov	r1, r9
 3032 0270 FFF7FEFF 		bl	__aeabi_dcmpgt
 3033              	.LVL232:
 3034 0274 0028     		cmp	r0, #0
 3035 0276 EDD0     		beq	.L178
2378:DMP/driver/eMPL/inv_mpu.c ****           log_i("FAILED: Gyro axis:%d = %ld > 20dps\n", i, bias_regular[i]);
 3036              		.loc 1 2378 9 is_stmt 1 view .LVU876
2378:DMP/driver/eMPL/inv_mpu.c ****           log_i("FAILED: Gyro axis:%d = %ld > 20dps\n", i, bias_regular[i]);
 3037              		.loc 1 2378 12 is_stmt 0 view .LVU877
 3038 0278 002D     		cmp	r5, #0
 3039 027a E8D0     		beq	.L180
2379:DMP/driver/eMPL/inv_mpu.c ****         result |= 1 << i; // Error condition
 3040              		.loc 1 2379 11 is_stmt 1 view .LVU878
 3041 027c 5246     		mov	r2, r10
 3042 027e 2146     		mov	r1, r4
 3043 0280 1548     		ldr	r0, .L196+80
 3044 0282 FFF7FEFF 		bl	printf
 3045              	.LVL233:
 3046 0286 E2E7     		b	.L180
 3047              	.L197:
 3048              		.align	2
 3049              	.L196:
 3050 0288 00000000 		.word	st
 3051 028c 00000000 		.word	.LC4
 3052 0290 00000000 		.word	.LC18
 3053 0294 00000000 		.word	mpu_6500_st_tb
 3054 0298 00008047 		.word	1199570944
 3055 029c 00000343 		.word	1124270080
 3056 02a0 18000000 		.word	.LC19
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 108


 3057 02a4 48000000 		.word	.LC7
 3058 02a8 7C000000 		.word	.LC8
 3059 02ac 0000E03F 		.word	1071644672
 3060 02b0 90000000 		.word	.LC9
 3061 02b4 28000000 		.word	.LC20
 3062 02b8 40000000 		.word	.LC21
 3063 02bc 00004E41 		.word	1095630848
 3064 02c0 54000000 		.word	.LC22
 3065 02c4 FC000000 		.word	.LC14
 3066 02c8 0000704A 		.word	1248854016
 3067 02cc 68000000 		.word	.LC23
 3068 02d0 00003441 		.word	1093926912
 3069 02d4 90000000 		.word	.LC24
 3070 02d8 B8000000 		.word	.LC25
 3071              		.cfi_endproc
 3072              	.LFE209:
 3074              		.section	.text._sys_exit,"ax",%progbits
 3075              		.align	1
 3076              		.global	_sys_exit
 3077              		.syntax unified
 3078              		.thumb
 3079              		.thumb_func
 3081              	_sys_exit:
 3082              	.LVL234:
 3083              	.LFB167:
  43:DMP/driver/eMPL/inv_mpu.c **** 
 3084              		.loc 1 43 23 view -0
 3085              		.cfi_startproc
 3086              		@ args = 0, pretend = 0, frame = 0
 3087              		@ frame_needed = 0, uses_anonymous_args = 0
 3088              		@ link register save eliminated.
  43:DMP/driver/eMPL/inv_mpu.c **** 
 3089              		.loc 1 43 25 view .LVU880
  43:DMP/driver/eMPL/inv_mpu.c **** 
 3090              		.loc 1 43 32 is_stmt 0 view .LVU881
 3091 0000 7047     		bx	lr
 3092              		.cfi_endproc
 3093              	.LFE167:
 3095              		.section	.text.fputc,"ax",%progbits
 3096              		.align	1
 3097              		.global	fputc
 3098              		.syntax unified
 3099              		.thumb
 3100              		.thumb_func
 3102              	fputc:
 3103              	.LVL235:
 3104              	.LFB168:
  45:DMP/driver/eMPL/inv_mpu.c ****   /*发送一个字节数据到串口*/
 3105              		.loc 1 45 28 is_stmt 1 view -0
 3106              		.cfi_startproc
 3107              		@ args = 0, pretend = 0, frame = 8
 3108              		@ frame_needed = 0, uses_anonymous_args = 0
  45:DMP/driver/eMPL/inv_mpu.c ****   /*发送一个字节数据到串口*/
 3109              		.loc 1 45 28 is_stmt 0 view .LVU883
 3110 0000 00B5     		push	{lr}
 3111              	.LCFI26:
 3112              		.cfi_def_cfa_offset 4
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 109


 3113              		.cfi_offset 14, -4
 3114 0002 83B0     		sub	sp, sp, #12
 3115              	.LCFI27:
 3116              		.cfi_def_cfa_offset 16
 3117 0004 0190     		str	r0, [sp, #4]
  47:DMP/driver/eMPL/inv_mpu.c ****   /*等待发送完毕*/
 3118              		.loc 1 47 3 is_stmt 1 view .LVU884
 3119 0006 4FF47A73 		mov	r3, #1000
 3120 000a 0122     		movs	r2, #1
 3121 000c 01A9     		add	r1, sp, #4
 3122              	.LVL236:
  47:DMP/driver/eMPL/inv_mpu.c ****   /*等待发送完毕*/
 3123              		.loc 1 47 3 is_stmt 0 view .LVU885
 3124 000e 0348     		ldr	r0, .L201
 3125              	.LVL237:
  47:DMP/driver/eMPL/inv_mpu.c ****   /*等待发送完毕*/
 3126              		.loc 1 47 3 view .LVU886
 3127 0010 FFF7FEFF 		bl	HAL_UART_Transmit
 3128              	.LVL238:
  50:DMP/driver/eMPL/inv_mpu.c **** }
 3129              		.loc 1 50 3 is_stmt 1 view .LVU887
  51:DMP/driver/eMPL/inv_mpu.c **** 
 3130              		.loc 1 51 1 is_stmt 0 view .LVU888
 3131 0014 0198     		ldr	r0, [sp, #4]
 3132 0016 03B0     		add	sp, sp, #12
 3133              	.LCFI28:
 3134              		.cfi_def_cfa_offset 4
 3135              		@ sp needed
 3136 0018 5DF804FB 		ldr	pc, [sp], #4
 3137              	.L202:
 3138              		.align	2
 3139              	.L201:
 3140 001c 00000000 		.word	huart1
 3141              		.cfi_endproc
 3142              	.LFE168:
 3144              		.section	.rodata.mpu_reg_dump.str1.4,"aMS",%progbits,1
 3145              		.align	2
 3146              	.LC26:
 3147 0000 25233578 		.ascii	"%#5x: %#5x\015\012\000"
 3147      3A202523 
 3147      35780D0A 
 3147      00
 3148              		.section	.text.mpu_reg_dump,"ax",%progbits
 3149              		.align	1
 3150              		.global	mpu_reg_dump
 3151              		.syntax unified
 3152              		.thumb
 3153              		.thumb_func
 3155              	mpu_reg_dump:
 3156              	.LFB170:
 693:DMP/driver/eMPL/inv_mpu.c ****   unsigned char ii;
 3157              		.loc 1 693 24 is_stmt 1 view -0
 3158              		.cfi_startproc
 3159              		@ args = 0, pretend = 0, frame = 8
 3160              		@ frame_needed = 0, uses_anonymous_args = 0
 3161 0000 10B5     		push	{r4, lr}
 3162              	.LCFI29:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 110


 3163              		.cfi_def_cfa_offset 8
 3164              		.cfi_offset 4, -8
 3165              		.cfi_offset 14, -4
 3166 0002 82B0     		sub	sp, sp, #8
 3167              	.LCFI30:
 3168              		.cfi_def_cfa_offset 16
 694:DMP/driver/eMPL/inv_mpu.c ****   unsigned char data;
 3169              		.loc 1 694 3 view .LVU890
 695:DMP/driver/eMPL/inv_mpu.c **** 
 3170              		.loc 1 695 3 view .LVU891
 697:DMP/driver/eMPL/inv_mpu.c ****     if (ii == st.reg->fifo_r_w || ii == st.reg->mem_r_w)
 3171              		.loc 1 697 3 view .LVU892
 3172              	.LVL239:
 697:DMP/driver/eMPL/inv_mpu.c ****     if (ii == st.reg->fifo_r_w || ii == st.reg->mem_r_w)
 3173              		.loc 1 697 11 is_stmt 0 view .LVU893
 3174 0004 0024     		movs	r4, #0
 697:DMP/driver/eMPL/inv_mpu.c ****     if (ii == st.reg->fifo_r_w || ii == st.reg->mem_r_w)
 3175              		.loc 1 697 3 view .LVU894
 3176 0006 01E0     		b	.L204
 3177              	.LVL240:
 3178              	.L205:
 697:DMP/driver/eMPL/inv_mpu.c ****     if (ii == st.reg->fifo_r_w || ii == st.reg->mem_r_w)
 3179              		.loc 1 697 39 is_stmt 1 discriminator 2 view .LVU895
 3180 0008 0134     		adds	r4, r4, #1
 3181              	.LVL241:
 697:DMP/driver/eMPL/inv_mpu.c ****     if (ii == st.reg->fifo_r_w || ii == st.reg->mem_r_w)
 3182              		.loc 1 697 39 is_stmt 0 discriminator 2 view .LVU896
 3183 000a E4B2     		uxtb	r4, r4
 3184              	.LVL242:
 3185              	.L204:
 697:DMP/driver/eMPL/inv_mpu.c ****     if (ii == st.reg->fifo_r_w || ii == st.reg->mem_r_w)
 3186              		.loc 1 697 19 is_stmt 1 discriminator 1 view .LVU897
 697:DMP/driver/eMPL/inv_mpu.c ****     if (ii == st.reg->fifo_r_w || ii == st.reg->mem_r_w)
 3187              		.loc 1 697 23 is_stmt 0 discriminator 1 view .LVU898
 3188 000c 104B     		ldr	r3, .L211
 3189 000e 5868     		ldr	r0, [r3, #4]
 697:DMP/driver/eMPL/inv_mpu.c ****     if (ii == st.reg->fifo_r_w || ii == st.reg->mem_r_w)
 3190              		.loc 1 697 26 discriminator 1 view .LVU899
 3191 0010 0379     		ldrb	r3, [r0, #4]	@ zero_extendqisi2
 697:DMP/driver/eMPL/inv_mpu.c ****     if (ii == st.reg->fifo_r_w || ii == st.reg->mem_r_w)
 3192              		.loc 1 697 19 discriminator 1 view .LVU900
 3193 0012 A342     		cmp	r3, r4
 3194 0014 16D9     		bls	.L210
 698:DMP/driver/eMPL/inv_mpu.c ****       continue;
 3195              		.loc 1 698 5 is_stmt 1 view .LVU901
 698:DMP/driver/eMPL/inv_mpu.c ****       continue;
 3196              		.loc 1 698 17 is_stmt 0 view .LVU902
 3197 0016 0E4B     		ldr	r3, .L211
 3198 0018 1B68     		ldr	r3, [r3]
 698:DMP/driver/eMPL/inv_mpu.c ****       continue;
 3199              		.loc 1 698 21 view .LVU903
 3200 001a 5A7B     		ldrb	r2, [r3, #13]	@ zero_extendqisi2
 698:DMP/driver/eMPL/inv_mpu.c ****       continue;
 3201              		.loc 1 698 8 view .LVU904
 3202 001c A242     		cmp	r2, r4
 3203 001e F3D0     		beq	.L205
 698:DMP/driver/eMPL/inv_mpu.c ****       continue;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 111


 3204              		.loc 1 698 47 discriminator 2 view .LVU905
 3205 0020 1B7E     		ldrb	r3, [r3, #24]	@ zero_extendqisi2
 698:DMP/driver/eMPL/inv_mpu.c ****       continue;
 3206              		.loc 1 698 32 discriminator 2 view .LVU906
 3207 0022 A342     		cmp	r3, r4
 3208 0024 F0D0     		beq	.L205
 700:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 3209              		.loc 1 700 5 is_stmt 1 view .LVU907
 700:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 3210              		.loc 1 700 9 is_stmt 0 view .LVU908
 3211 0026 0DF10703 		add	r3, sp, #7
 3212 002a 0122     		movs	r2, #1
 3213 002c 2146     		mov	r1, r4
 3214 002e 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 3215 0030 FFF7FEFF 		bl	MPU_Read_Len
 3216              	.LVL243:
 700:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 3217              		.loc 1 700 8 view .LVU909
 3218 0034 48B9     		cbnz	r0, .L208
 702:DMP/driver/eMPL/inv_mpu.c ****   }
 3219              		.loc 1 702 5 is_stmt 1 view .LVU910
 3220 0036 9DF80720 		ldrb	r2, [sp, #7]	@ zero_extendqisi2
 3221 003a 2146     		mov	r1, r4
 3222 003c 0548     		ldr	r0, .L211+4
 3223 003e FFF7FEFF 		bl	printf
 3224              	.LVL244:
 3225 0042 E1E7     		b	.L205
 3226              	.L210:
 704:DMP/driver/eMPL/inv_mpu.c **** }
 3227              		.loc 1 704 10 is_stmt 0 view .LVU911
 3228 0044 0020     		movs	r0, #0
 3229              	.L203:
 705:DMP/driver/eMPL/inv_mpu.c **** 
 3230              		.loc 1 705 1 view .LVU912
 3231 0046 02B0     		add	sp, sp, #8
 3232              	.LCFI31:
 3233              		.cfi_remember_state
 3234              		.cfi_def_cfa_offset 8
 3235              		@ sp needed
 3236 0048 10BD     		pop	{r4, pc}
 3237              	.LVL245:
 3238              	.L208:
 3239              	.LCFI32:
 3240              		.cfi_restore_state
 701:DMP/driver/eMPL/inv_mpu.c ****     log_i("%#5x: %#5x\r\n", ii, data);
 3241              		.loc 1 701 14 view .LVU913
 3242 004a 4FF0FF30 		mov	r0, #-1
 3243 004e FAE7     		b	.L203
 3244              	.L212:
 3245              		.align	2
 3246              	.L211:
 3247 0050 00000000 		.word	st
 3248 0054 00000000 		.word	.LC26
 3249              		.cfi_endproc
 3250              	.LFE170:
 3252              		.section	.text.mpu_read_reg,"ax",%progbits
 3253              		.align	1
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 112


 3254              		.global	mpu_read_reg
 3255              		.syntax unified
 3256              		.thumb
 3257              		.thumb_func
 3259              	mpu_read_reg:
 3260              	.LVL246:
 3261              	.LFB171:
 714:DMP/driver/eMPL/inv_mpu.c ****   if (reg == st.reg->fifo_r_w || reg == st.reg->mem_r_w)
 3262              		.loc 1 714 58 is_stmt 1 view -0
 3263              		.cfi_startproc
 3264              		@ args = 0, pretend = 0, frame = 0
 3265              		@ frame_needed = 0, uses_anonymous_args = 0
 714:DMP/driver/eMPL/inv_mpu.c ****   if (reg == st.reg->fifo_r_w || reg == st.reg->mem_r_w)
 3266              		.loc 1 714 58 is_stmt 0 view .LVU915
 3267 0000 0B46     		mov	r3, r1
 715:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3268              		.loc 1 715 3 is_stmt 1 view .LVU916
 715:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3269              		.loc 1 715 16 is_stmt 0 view .LVU917
 3270 0002 0E4A     		ldr	r2, .L222
 3271 0004 1268     		ldr	r2, [r2]
 715:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3272              		.loc 1 715 20 view .LVU918
 3273 0006 517B     		ldrb	r1, [r2, #13]	@ zero_extendqisi2
 3274              	.LVL247:
 715:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3275              		.loc 1 715 6 view .LVU919
 3276 0008 8142     		cmp	r1, r0
 3277 000a 0ED0     		beq	.L215
 715:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3278              		.loc 1 715 47 discriminator 1 view .LVU920
 3279 000c 127E     		ldrb	r2, [r2, #24]	@ zero_extendqisi2
 715:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3280              		.loc 1 715 31 discriminator 1 view .LVU921
 3281 000e 8242     		cmp	r2, r0
 3282 0010 0ED0     		beq	.L216
 714:DMP/driver/eMPL/inv_mpu.c ****   if (reg == st.reg->fifo_r_w || reg == st.reg->mem_r_w)
 3283              		.loc 1 714 58 view .LVU922
 3284 0012 10B5     		push	{r4, lr}
 3285              	.LCFI33:
 3286              		.cfi_def_cfa_offset 8
 3287              		.cfi_offset 4, -8
 3288              		.cfi_offset 14, -4
 717:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3289              		.loc 1 717 3 is_stmt 1 view .LVU923
 717:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3290              		.loc 1 717 16 is_stmt 0 view .LVU924
 3291 0014 094A     		ldr	r2, .L222
 3292 0016 5468     		ldr	r4, [r2, #4]
 717:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3293              		.loc 1 717 19 view .LVU925
 3294 0018 2279     		ldrb	r2, [r4, #4]	@ zero_extendqisi2
 717:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3295              		.loc 1 717 6 view .LVU926
 3296 001a 8242     		cmp	r2, r0
 3297 001c 0BD9     		bls	.L217
 719:DMP/driver/eMPL/inv_mpu.c **** }
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 113


 3298              		.loc 1 719 3 is_stmt 1 view .LVU927
 719:DMP/driver/eMPL/inv_mpu.c **** }
 3299              		.loc 1 719 10 is_stmt 0 view .LVU928
 3300 001e 0122     		movs	r2, #1
 3301 0020 0146     		mov	r1, r0
 3302 0022 2078     		ldrb	r0, [r4]	@ zero_extendqisi2
 3303              	.LVL248:
 719:DMP/driver/eMPL/inv_mpu.c **** }
 3304              		.loc 1 719 10 view .LVU929
 3305 0024 FFF7FEFF 		bl	MPU_Read_Len
 3306              	.LVL249:
 3307              	.L213:
 720:DMP/driver/eMPL/inv_mpu.c **** 
 3308              		.loc 1 720 1 view .LVU930
 3309 0028 10BD     		pop	{r4, pc}
 3310              	.LVL250:
 3311              	.L215:
 3312              	.LCFI34:
 3313              		.cfi_def_cfa_offset 0
 3314              		.cfi_restore 4
 3315              		.cfi_restore 14
 716:DMP/driver/eMPL/inv_mpu.c ****   if (reg >= st.hw->num_reg)
 3316              		.loc 1 716 12 view .LVU931
 3317 002a 4FF0FF30 		mov	r0, #-1
 3318              	.LVL251:
 716:DMP/driver/eMPL/inv_mpu.c ****   if (reg >= st.hw->num_reg)
 3319              		.loc 1 716 12 view .LVU932
 3320 002e 7047     		bx	lr
 3321              	.LVL252:
 3322              	.L216:
 716:DMP/driver/eMPL/inv_mpu.c ****   if (reg >= st.hw->num_reg)
 3323              		.loc 1 716 12 view .LVU933
 3324 0030 4FF0FF30 		mov	r0, #-1
 3325              	.LVL253:
 720:DMP/driver/eMPL/inv_mpu.c **** 
 3326              		.loc 1 720 1 view .LVU934
 3327 0034 7047     		bx	lr
 3328              	.LVL254:
 3329              	.L217:
 3330              	.LCFI35:
 3331              		.cfi_def_cfa_offset 8
 3332              		.cfi_offset 4, -8
 3333              		.cfi_offset 14, -4
 718:DMP/driver/eMPL/inv_mpu.c ****   return i2c_read(st.hw->addr, reg, 1, data);
 3334              		.loc 1 718 12 view .LVU935
 3335 0036 4FF0FF30 		mov	r0, #-1
 3336              	.LVL255:
 718:DMP/driver/eMPL/inv_mpu.c ****   return i2c_read(st.hw->addr, reg, 1, data);
 3337              		.loc 1 718 12 view .LVU936
 3338 003a F5E7     		b	.L213
 3339              	.L223:
 3340              		.align	2
 3341              	.L222:
 3342 003c 00000000 		.word	st
 3343              		.cfi_endproc
 3344              	.LFE171:
 3346              		.section	.text.mpu_get_gyro_reg,"ax",%progbits
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 114


 3347              		.align	1
 3348              		.global	mpu_get_gyro_reg
 3349              		.syntax unified
 3350              		.thumb
 3351              		.thumb_func
 3353              	mpu_get_gyro_reg:
 3354              	.LVL256:
 3355              	.LFB174:
 911:DMP/driver/eMPL/inv_mpu.c ****   unsigned char tmp[6];
 3356              		.loc 1 911 61 is_stmt 1 view -0
 3357              		.cfi_startproc
 3358              		@ args = 0, pretend = 0, frame = 8
 3359              		@ frame_needed = 0, uses_anonymous_args = 0
 912:DMP/driver/eMPL/inv_mpu.c **** 
 3360              		.loc 1 912 3 view .LVU938
 914:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3361              		.loc 1 914 3 view .LVU939
 914:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3362              		.loc 1 914 20 is_stmt 0 view .LVU940
 3363 0000 174B     		ldr	r3, .L232
 3364 0002 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 914:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3365              		.loc 1 914 6 view .LVU941
 3366 0004 13F0700F 		tst	r3, #112
 3367 0008 23D0     		beq	.L226
 911:DMP/driver/eMPL/inv_mpu.c ****   unsigned char tmp[6];
 3368              		.loc 1 911 61 view .LVU942
 3369 000a 10B5     		push	{r4, lr}
 3370              	.LCFI36:
 3371              		.cfi_def_cfa_offset 8
 3372              		.cfi_offset 4, -8
 3373              		.cfi_offset 14, -4
 3374 000c 82B0     		sub	sp, sp, #8
 3375              	.LCFI37:
 3376              		.cfi_def_cfa_offset 16
 3377 000e 0446     		mov	r4, r0
 917:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3378              		.loc 1 917 3 is_stmt 1 view .LVU943
 917:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3379              		.loc 1 917 18 is_stmt 0 view .LVU944
 3380 0010 134B     		ldr	r3, .L232
 3381 0012 5868     		ldr	r0, [r3, #4]
 3382              	.LVL257:
 917:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3383              		.loc 1 917 31 view .LVU945
 3384 0014 1968     		ldr	r1, [r3]
 3385              	.LVL258:
 917:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3386              		.loc 1 917 7 view .LVU946
 3387 0016 6B46     		mov	r3, sp
 3388 0018 0622     		movs	r2, #6
 3389 001a 897B     		ldrb	r1, [r1, #14]	@ zero_extendqisi2
 3390 001c 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 3391 001e FFF7FEFF 		bl	MPU_Read_Len
 3392              	.LVL259:
 917:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3393              		.loc 1 917 6 view .LVU947
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 115


 3394 0022 C8B9     		cbnz	r0, .L227
 919:DMP/driver/eMPL/inv_mpu.c ****   data[1] = (tmp[2] << 8) | tmp[3];
 3395              		.loc 1 919 3 is_stmt 1 view .LVU948
 919:DMP/driver/eMPL/inv_mpu.c ****   data[1] = (tmp[2] << 8) | tmp[3];
 3396              		.loc 1 919 17 is_stmt 0 view .LVU949
 3397 0024 9DF80020 		ldrb	r2, [sp]	@ zero_extendqisi2
 919:DMP/driver/eMPL/inv_mpu.c ****   data[1] = (tmp[2] << 8) | tmp[3];
 3398              		.loc 1 919 32 view .LVU950
 3399 0028 9DF80130 		ldrb	r3, [sp, #1]	@ zero_extendqisi2
 919:DMP/driver/eMPL/inv_mpu.c ****   data[1] = (tmp[2] << 8) | tmp[3];
 3400              		.loc 1 919 27 view .LVU951
 3401 002c 43EA0223 		orr	r3, r3, r2, lsl #8
 919:DMP/driver/eMPL/inv_mpu.c ****   data[1] = (tmp[2] << 8) | tmp[3];
 3402              		.loc 1 919 11 view .LVU952
 3403 0030 2380     		strh	r3, [r4]	@ movhi
 920:DMP/driver/eMPL/inv_mpu.c ****   data[2] = (tmp[4] << 8) | tmp[5];
 3404              		.loc 1 920 3 is_stmt 1 view .LVU953
 920:DMP/driver/eMPL/inv_mpu.c ****   data[2] = (tmp[4] << 8) | tmp[5];
 3405              		.loc 1 920 17 is_stmt 0 view .LVU954
 3406 0032 9DF80220 		ldrb	r2, [sp, #2]	@ zero_extendqisi2
 920:DMP/driver/eMPL/inv_mpu.c ****   data[2] = (tmp[4] << 8) | tmp[5];
 3407              		.loc 1 920 32 view .LVU955
 3408 0036 9DF80330 		ldrb	r3, [sp, #3]	@ zero_extendqisi2
 920:DMP/driver/eMPL/inv_mpu.c ****   data[2] = (tmp[4] << 8) | tmp[5];
 3409              		.loc 1 920 27 view .LVU956
 3410 003a 43EA0223 		orr	r3, r3, r2, lsl #8
 920:DMP/driver/eMPL/inv_mpu.c ****   data[2] = (tmp[4] << 8) | tmp[5];
 3411              		.loc 1 920 11 view .LVU957
 3412 003e 6380     		strh	r3, [r4, #2]	@ movhi
 921:DMP/driver/eMPL/inv_mpu.c ****   if (timestamp)
 3413              		.loc 1 921 3 is_stmt 1 view .LVU958
 921:DMP/driver/eMPL/inv_mpu.c ****   if (timestamp)
 3414              		.loc 1 921 17 is_stmt 0 view .LVU959
 3415 0040 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
 921:DMP/driver/eMPL/inv_mpu.c ****   if (timestamp)
 3416              		.loc 1 921 32 view .LVU960
 3417 0044 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 921:DMP/driver/eMPL/inv_mpu.c ****   if (timestamp)
 3418              		.loc 1 921 27 view .LVU961
 3419 0048 43EA0223 		orr	r3, r3, r2, lsl #8
 921:DMP/driver/eMPL/inv_mpu.c ****   if (timestamp)
 3420              		.loc 1 921 11 view .LVU962
 3421 004c A380     		strh	r3, [r4, #4]	@ movhi
 922:DMP/driver/eMPL/inv_mpu.c ****     get_ms(timestamp);
 3422              		.loc 1 922 3 is_stmt 1 view .LVU963
 3423              	.L224:
 925:DMP/driver/eMPL/inv_mpu.c **** 
 3424              		.loc 1 925 1 is_stmt 0 view .LVU964
 3425 004e 02B0     		add	sp, sp, #8
 3426              	.LCFI38:
 3427              		.cfi_def_cfa_offset 8
 3428              		@ sp needed
 3429 0050 10BD     		pop	{r4, pc}
 3430              	.LVL260:
 3431              	.L226:
 3432              	.LCFI39:
 3433              		.cfi_def_cfa_offset 0
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 116


 3434              		.cfi_restore 4
 3435              		.cfi_restore 14
 915:DMP/driver/eMPL/inv_mpu.c **** 
 3436              		.loc 1 915 12 view .LVU965
 3437 0052 4FF0FF30 		mov	r0, #-1
 3438              	.LVL261:
 925:DMP/driver/eMPL/inv_mpu.c **** 
 3439              		.loc 1 925 1 view .LVU966
 3440 0056 7047     		bx	lr
 3441              	.LVL262:
 3442              	.L227:
 3443              	.LCFI40:
 3444              		.cfi_def_cfa_offset 16
 3445              		.cfi_offset 4, -8
 3446              		.cfi_offset 14, -4
 918:DMP/driver/eMPL/inv_mpu.c ****   data[0] = (tmp[0] << 8) | tmp[1];
 3447              		.loc 1 918 12 view .LVU967
 3448 0058 4FF0FF30 		mov	r0, #-1
 3449 005c F7E7     		b	.L224
 3450              	.L233:
 3451 005e 00BF     		.align	2
 3452              	.L232:
 3453 0060 00000000 		.word	st
 3454              		.cfi_endproc
 3455              	.LFE174:
 3457              		.section	.text.mpu_get_accel_reg,"ax",%progbits
 3458              		.align	1
 3459              		.global	mpu_get_accel_reg
 3460              		.syntax unified
 3461              		.thumb
 3462              		.thumb_func
 3464              	mpu_get_accel_reg:
 3465              	.LVL263:
 3466              	.LFB175:
 933:DMP/driver/eMPL/inv_mpu.c ****   unsigned char tmp[6];
 3467              		.loc 1 933 62 is_stmt 1 view -0
 3468              		.cfi_startproc
 3469              		@ args = 0, pretend = 0, frame = 8
 3470              		@ frame_needed = 0, uses_anonymous_args = 0
 934:DMP/driver/eMPL/inv_mpu.c **** 
 3471              		.loc 1 934 3 view .LVU969
 936:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3472              		.loc 1 936 3 view .LVU970
 936:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3473              		.loc 1 936 20 is_stmt 0 view .LVU971
 3474 0000 174B     		ldr	r3, .L242
 3475 0002 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 936:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3476              		.loc 1 936 6 view .LVU972
 3477 0004 13F0080F 		tst	r3, #8
 3478 0008 23D0     		beq	.L236
 933:DMP/driver/eMPL/inv_mpu.c ****   unsigned char tmp[6];
 3479              		.loc 1 933 62 view .LVU973
 3480 000a 10B5     		push	{r4, lr}
 3481              	.LCFI41:
 3482              		.cfi_def_cfa_offset 8
 3483              		.cfi_offset 4, -8
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 117


 3484              		.cfi_offset 14, -4
 3485 000c 82B0     		sub	sp, sp, #8
 3486              	.LCFI42:
 3487              		.cfi_def_cfa_offset 16
 3488 000e 0446     		mov	r4, r0
 939:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3489              		.loc 1 939 3 is_stmt 1 view .LVU974
 939:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3490              		.loc 1 939 18 is_stmt 0 view .LVU975
 3491 0010 134B     		ldr	r3, .L242
 3492 0012 5868     		ldr	r0, [r3, #4]
 3493              	.LVL264:
 939:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3494              		.loc 1 939 31 view .LVU976
 3495 0014 1968     		ldr	r1, [r3]
 3496              	.LVL265:
 939:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3497              		.loc 1 939 7 view .LVU977
 3498 0016 6B46     		mov	r3, sp
 3499 0018 0622     		movs	r2, #6
 3500 001a C97B     		ldrb	r1, [r1, #15]	@ zero_extendqisi2
 3501 001c 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 3502 001e FFF7FEFF 		bl	MPU_Read_Len
 3503              	.LVL266:
 939:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3504              		.loc 1 939 6 view .LVU978
 3505 0022 C8B9     		cbnz	r0, .L237
 941:DMP/driver/eMPL/inv_mpu.c ****   data[1] = (tmp[2] << 8) | tmp[3];
 3506              		.loc 1 941 3 is_stmt 1 view .LVU979
 941:DMP/driver/eMPL/inv_mpu.c ****   data[1] = (tmp[2] << 8) | tmp[3];
 3507              		.loc 1 941 17 is_stmt 0 view .LVU980
 3508 0024 9DF80020 		ldrb	r2, [sp]	@ zero_extendqisi2
 941:DMP/driver/eMPL/inv_mpu.c ****   data[1] = (tmp[2] << 8) | tmp[3];
 3509              		.loc 1 941 32 view .LVU981
 3510 0028 9DF80130 		ldrb	r3, [sp, #1]	@ zero_extendqisi2
 941:DMP/driver/eMPL/inv_mpu.c ****   data[1] = (tmp[2] << 8) | tmp[3];
 3511              		.loc 1 941 27 view .LVU982
 3512 002c 43EA0223 		orr	r3, r3, r2, lsl #8
 941:DMP/driver/eMPL/inv_mpu.c ****   data[1] = (tmp[2] << 8) | tmp[3];
 3513              		.loc 1 941 11 view .LVU983
 3514 0030 2380     		strh	r3, [r4]	@ movhi
 942:DMP/driver/eMPL/inv_mpu.c ****   data[2] = (tmp[4] << 8) | tmp[5];
 3515              		.loc 1 942 3 is_stmt 1 view .LVU984
 942:DMP/driver/eMPL/inv_mpu.c ****   data[2] = (tmp[4] << 8) | tmp[5];
 3516              		.loc 1 942 17 is_stmt 0 view .LVU985
 3517 0032 9DF80220 		ldrb	r2, [sp, #2]	@ zero_extendqisi2
 942:DMP/driver/eMPL/inv_mpu.c ****   data[2] = (tmp[4] << 8) | tmp[5];
 3518              		.loc 1 942 32 view .LVU986
 3519 0036 9DF80330 		ldrb	r3, [sp, #3]	@ zero_extendqisi2
 942:DMP/driver/eMPL/inv_mpu.c ****   data[2] = (tmp[4] << 8) | tmp[5];
 3520              		.loc 1 942 27 view .LVU987
 3521 003a 43EA0223 		orr	r3, r3, r2, lsl #8
 942:DMP/driver/eMPL/inv_mpu.c ****   data[2] = (tmp[4] << 8) | tmp[5];
 3522              		.loc 1 942 11 view .LVU988
 3523 003e 6380     		strh	r3, [r4, #2]	@ movhi
 943:DMP/driver/eMPL/inv_mpu.c ****   if (timestamp)
 3524              		.loc 1 943 3 is_stmt 1 view .LVU989
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 118


 943:DMP/driver/eMPL/inv_mpu.c ****   if (timestamp)
 3525              		.loc 1 943 17 is_stmt 0 view .LVU990
 3526 0040 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
 943:DMP/driver/eMPL/inv_mpu.c ****   if (timestamp)
 3527              		.loc 1 943 32 view .LVU991
 3528 0044 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 943:DMP/driver/eMPL/inv_mpu.c ****   if (timestamp)
 3529              		.loc 1 943 27 view .LVU992
 3530 0048 43EA0223 		orr	r3, r3, r2, lsl #8
 943:DMP/driver/eMPL/inv_mpu.c ****   if (timestamp)
 3531              		.loc 1 943 11 view .LVU993
 3532 004c A380     		strh	r3, [r4, #4]	@ movhi
 944:DMP/driver/eMPL/inv_mpu.c ****     get_ms(timestamp);
 3533              		.loc 1 944 3 is_stmt 1 view .LVU994
 3534              	.L234:
 947:DMP/driver/eMPL/inv_mpu.c **** 
 3535              		.loc 1 947 1 is_stmt 0 view .LVU995
 3536 004e 02B0     		add	sp, sp, #8
 3537              	.LCFI43:
 3538              		.cfi_def_cfa_offset 8
 3539              		@ sp needed
 3540 0050 10BD     		pop	{r4, pc}
 3541              	.LVL267:
 3542              	.L236:
 3543              	.LCFI44:
 3544              		.cfi_def_cfa_offset 0
 3545              		.cfi_restore 4
 3546              		.cfi_restore 14
 937:DMP/driver/eMPL/inv_mpu.c **** 
 3547              		.loc 1 937 12 view .LVU996
 3548 0052 4FF0FF30 		mov	r0, #-1
 3549              	.LVL268:
 947:DMP/driver/eMPL/inv_mpu.c **** 
 3550              		.loc 1 947 1 view .LVU997
 3551 0056 7047     		bx	lr
 3552              	.LVL269:
 3553              	.L237:
 3554              	.LCFI45:
 3555              		.cfi_def_cfa_offset 16
 3556              		.cfi_offset 4, -8
 3557              		.cfi_offset 14, -4
 940:DMP/driver/eMPL/inv_mpu.c ****   data[0] = (tmp[0] << 8) | tmp[1];
 3558              		.loc 1 940 12 view .LVU998
 3559 0058 4FF0FF30 		mov	r0, #-1
 3560 005c F7E7     		b	.L234
 3561              	.L243:
 3562 005e 00BF     		.align	2
 3563              	.L242:
 3564 0060 00000000 		.word	st
 3565              		.cfi_endproc
 3566              	.LFE175:
 3568              		.section	.text.mpu_get_temperature,"ax",%progbits
 3569              		.align	1
 3570              		.global	mpu_get_temperature
 3571              		.syntax unified
 3572              		.thumb
 3573              		.thumb_func
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 119


 3575              	mpu_get_temperature:
 3576              	.LVL270:
 3577              	.LFB176:
 955:DMP/driver/eMPL/inv_mpu.c ****   unsigned char tmp[2];
 3578              		.loc 1 955 63 is_stmt 1 view -0
 3579              		.cfi_startproc
 3580              		@ args = 0, pretend = 0, frame = 8
 3581              		@ frame_needed = 0, uses_anonymous_args = 0
 956:DMP/driver/eMPL/inv_mpu.c ****   short raw;
 3582              		.loc 1 956 3 view .LVU1000
 957:DMP/driver/eMPL/inv_mpu.c **** 
 3583              		.loc 1 957 3 view .LVU1001
 959:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3584              		.loc 1 959 3 view .LVU1002
 959:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3585              		.loc 1 959 20 is_stmt 0 view .LVU1003
 3586 0000 1D4B     		ldr	r3, .L252
 3587 0002 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 959:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3588              		.loc 1 959 6 view .LVU1004
 3589 0004 93B3     		cbz	r3, .L246
 955:DMP/driver/eMPL/inv_mpu.c ****   unsigned char tmp[2];
 3590              		.loc 1 955 63 view .LVU1005
 3591 0006 10B5     		push	{r4, lr}
 3592              	.LCFI46:
 3593              		.cfi_def_cfa_offset 8
 3594              		.cfi_offset 4, -8
 3595              		.cfi_offset 14, -4
 3596 0008 82B0     		sub	sp, sp, #8
 3597              	.LCFI47:
 3598              		.cfi_def_cfa_offset 16
 3599 000a 0446     		mov	r4, r0
 962:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3600              		.loc 1 962 3 is_stmt 1 view .LVU1006
 962:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3601              		.loc 1 962 18 is_stmt 0 view .LVU1007
 3602 000c 1A4B     		ldr	r3, .L252
 3603 000e 5868     		ldr	r0, [r3, #4]
 3604              	.LVL271:
 962:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3605              		.loc 1 962 31 view .LVU1008
 3606 0010 1968     		ldr	r1, [r3]
 3607              	.LVL272:
 962:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3608              		.loc 1 962 7 view .LVU1009
 3609 0012 01AB     		add	r3, sp, #4
 3610 0014 0222     		movs	r2, #2
 3611 0016 097C     		ldrb	r1, [r1, #16]	@ zero_extendqisi2
 3612 0018 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 3613 001a FFF7FEFF 		bl	MPU_Read_Len
 3614              	.LVL273:
 962:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3615              		.loc 1 962 6 view .LVU1010
 3616 001e 40BB     		cbnz	r0, .L247
 964:DMP/driver/eMPL/inv_mpu.c ****   if (timestamp)
 3617              		.loc 1 964 3 is_stmt 1 view .LVU1011
 964:DMP/driver/eMPL/inv_mpu.c ****   if (timestamp)
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 120


 3618              		.loc 1 964 13 is_stmt 0 view .LVU1012
 3619 0020 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 964:DMP/driver/eMPL/inv_mpu.c ****   if (timestamp)
 3620              		.loc 1 964 17 view .LVU1013
 3621 0024 1B02     		lsls	r3, r3, #8
 964:DMP/driver/eMPL/inv_mpu.c ****   if (timestamp)
 3622              		.loc 1 964 23 view .LVU1014
 3623 0026 1BB2     		sxth	r3, r3
 964:DMP/driver/eMPL/inv_mpu.c ****   if (timestamp)
 3624              		.loc 1 964 28 view .LVU1015
 3625 0028 9DF80520 		ldrb	r2, [sp, #5]	@ zero_extendqisi2
 964:DMP/driver/eMPL/inv_mpu.c ****   if (timestamp)
 3626              		.loc 1 964 7 view .LVU1016
 3627 002c 1343     		orrs	r3, r3, r2
 3628 002e 07EE903A 		vmov	s15, r3	@ int
 3629              	.LVL274:
 965:DMP/driver/eMPL/inv_mpu.c ****     get_ms(timestamp);
 3630              		.loc 1 965 3 is_stmt 1 view .LVU1017
 968:DMP/driver/eMPL/inv_mpu.c ****       (long)((35 + ((raw - (float)st.hw->temp_offset) / st.hw->temp_sens)) *
 3631              		.loc 1 968 3 view .LVU1018
 969:DMP/driver/eMPL/inv_mpu.c ****              65536L);
 3632              		.loc 1 969 37 is_stmt 0 view .LVU1019
 3633 0032 114B     		ldr	r3, .L252
 3634 0034 5B68     		ldr	r3, [r3, #4]
 969:DMP/driver/eMPL/inv_mpu.c ****              65536L);
 3635              		.loc 1 969 40 view .LVU1020
 3636 0036 B3F90820 		ldrsh	r2, [r3, #8]
 3637 003a 07EE102A 		vmov	s14, r2	@ int
 969:DMP/driver/eMPL/inv_mpu.c ****              65536L);
 3638              		.loc 1 969 28 view .LVU1021
 3639 003e B8EEC77A 		vcvt.f32.s32	s14, s14
 969:DMP/driver/eMPL/inv_mpu.c ****              65536L);
 3640              		.loc 1 969 26 view .LVU1022
 3641 0042 F8EEE77A 		vcvt.f32.s32	s15, s15
 3642              	.LVL275:
 969:DMP/driver/eMPL/inv_mpu.c ****              65536L);
 3643              		.loc 1 969 26 view .LVU1023
 3644 0046 77EEC77A 		vsub.f32	s15, s15, s14
 969:DMP/driver/eMPL/inv_mpu.c ****              65536L);
 3645              		.loc 1 969 62 view .LVU1024
 3646 004a DB88     		ldrh	r3, [r3, #6]
 3647 004c 06EE903A 		vmov	s13, r3	@ int
 969:DMP/driver/eMPL/inv_mpu.c ****              65536L);
 3648              		.loc 1 969 55 view .LVU1025
 3649 0050 F8EEE66A 		vcvt.f32.s32	s13, s13
 3650 0054 87EEA67A 		vdiv.f32	s14, s15, s13
 969:DMP/driver/eMPL/inv_mpu.c ****              65536L);
 3651              		.loc 1 969 18 view .LVU1026
 3652 0058 DFED087A 		vldr.32	s15, .L252+4
 3653 005c 77EE277A 		vadd.f32	s15, s14, s15
 969:DMP/driver/eMPL/inv_mpu.c ****              65536L);
 3654              		.loc 1 969 7 view .LVU1027
 3655 0060 FEEEC87A 		vcvt.s32.f32	s15, s15, #16
 968:DMP/driver/eMPL/inv_mpu.c ****       (long)((35 + ((raw - (float)st.hw->temp_offset) / st.hw->temp_sens)) *
 3656              		.loc 1 968 11 view .LVU1028
 3657 0064 C4ED007A 		vstr.32	s15, [r4]	@ int
 971:DMP/driver/eMPL/inv_mpu.c **** }
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 121


 3658              		.loc 1 971 3 is_stmt 1 view .LVU1029
 3659              	.LVL276:
 3660              	.L244:
 972:DMP/driver/eMPL/inv_mpu.c **** 
 3661              		.loc 1 972 1 is_stmt 0 view .LVU1030
 3662 0068 02B0     		add	sp, sp, #8
 3663              	.LCFI48:
 3664              		.cfi_def_cfa_offset 8
 3665              		@ sp needed
 3666 006a 10BD     		pop	{r4, pc}
 3667              	.LVL277:
 3668              	.L246:
 3669              	.LCFI49:
 3670              		.cfi_def_cfa_offset 0
 3671              		.cfi_restore 4
 3672              		.cfi_restore 14
 960:DMP/driver/eMPL/inv_mpu.c **** 
 3673              		.loc 1 960 12 view .LVU1031
 3674 006c 4FF0FF30 		mov	r0, #-1
 3675              	.LVL278:
 972:DMP/driver/eMPL/inv_mpu.c **** 
 3676              		.loc 1 972 1 view .LVU1032
 3677 0070 7047     		bx	lr
 3678              	.LVL279:
 3679              	.L247:
 3680              	.LCFI50:
 3681              		.cfi_def_cfa_offset 16
 3682              		.cfi_offset 4, -8
 3683              		.cfi_offset 14, -4
 963:DMP/driver/eMPL/inv_mpu.c ****   raw = (tmp[0] << 8) | tmp[1];
 3684              		.loc 1 963 12 view .LVU1033
 3685 0072 4FF0FF30 		mov	r0, #-1
 3686 0076 F7E7     		b	.L244
 3687              	.L253:
 3688              		.align	2
 3689              	.L252:
 3690 0078 00000000 		.word	st
 3691 007c 00000C42 		.word	1108082688
 3692              		.cfi_endproc
 3693              	.LFE176:
 3695              		.section	.text.mpu_read_6500_accel_bias,"ax",%progbits
 3696              		.align	1
 3697              		.global	mpu_read_6500_accel_bias
 3698              		.syntax unified
 3699              		.thumb
 3700              		.thumb_func
 3702              	mpu_read_6500_accel_bias:
 3703              	.LVL280:
 3704              	.LFB177:
 982:DMP/driver/eMPL/inv_mpu.c ****   unsigned char data[6];
 3705              		.loc 1 982 48 is_stmt 1 view -0
 3706              		.cfi_startproc
 3707              		@ args = 0, pretend = 0, frame = 8
 3708              		@ frame_needed = 0, uses_anonymous_args = 0
 982:DMP/driver/eMPL/inv_mpu.c ****   unsigned char data[6];
 3709              		.loc 1 982 48 is_stmt 0 view .LVU1035
 3710 0000 10B5     		push	{r4, lr}
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 122


 3711              	.LCFI51:
 3712              		.cfi_def_cfa_offset 8
 3713              		.cfi_offset 4, -8
 3714              		.cfi_offset 14, -4
 3715 0002 82B0     		sub	sp, sp, #8
 3716              	.LCFI52:
 3717              		.cfi_def_cfa_offset 16
 3718 0004 0446     		mov	r4, r0
 983:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_read(st.hw->addr, 0x77, 2, &data[0]))
 3719              		.loc 1 983 3 is_stmt 1 view .LVU1036
 984:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3720              		.loc 1 984 3 view .LVU1037
 984:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3721              		.loc 1 984 18 is_stmt 0 view .LVU1038
 3722 0006 1E4B     		ldr	r3, .L260
 3723 0008 5868     		ldr	r0, [r3, #4]
 3724              	.LVL281:
 984:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3725              		.loc 1 984 7 view .LVU1039
 3726 000a 6B46     		mov	r3, sp
 3727 000c 0222     		movs	r2, #2
 3728 000e 7721     		movs	r1, #119
 3729 0010 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 3730 0012 FFF7FEFF 		bl	MPU_Read_Len
 3731              	.LVL282:
 984:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3732              		.loc 1 984 6 view .LVU1040
 3733 0016 48BB     		cbnz	r0, .L256
 986:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3734              		.loc 1 986 3 is_stmt 1 view .LVU1041
 986:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3735              		.loc 1 986 18 is_stmt 0 view .LVU1042
 3736 0018 194B     		ldr	r3, .L260
 3737 001a 5868     		ldr	r0, [r3, #4]
 986:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3738              		.loc 1 986 7 view .LVU1043
 3739 001c 0DF10203 		add	r3, sp, #2
 3740 0020 0222     		movs	r2, #2
 3741 0022 7A21     		movs	r1, #122
 3742 0024 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 3743 0026 FFF7FEFF 		bl	MPU_Read_Len
 3744              	.LVL283:
 986:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3745              		.loc 1 986 6 view .LVU1044
 3746 002a 10BB     		cbnz	r0, .L257
 988:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3747              		.loc 1 988 3 is_stmt 1 view .LVU1045
 988:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3748              		.loc 1 988 18 is_stmt 0 view .LVU1046
 3749 002c 144B     		ldr	r3, .L260
 3750 002e 5868     		ldr	r0, [r3, #4]
 988:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3751              		.loc 1 988 7 view .LVU1047
 3752 0030 01AB     		add	r3, sp, #4
 3753 0032 0222     		movs	r2, #2
 3754 0034 7D21     		movs	r1, #125
 3755 0036 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 123


 3756 0038 FFF7FEFF 		bl	MPU_Read_Len
 3757              	.LVL284:
 988:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3758              		.loc 1 988 6 view .LVU1048
 3759 003c E0B9     		cbnz	r0, .L258
 990:DMP/driver/eMPL/inv_mpu.c ****   accel_bias[1] = ((long)data[2] << 8) | data[3];
 3760              		.loc 1 990 3 is_stmt 1 view .LVU1049
 990:DMP/driver/eMPL/inv_mpu.c ****   accel_bias[1] = ((long)data[2] << 8) | data[3];
 3761              		.loc 1 990 30 is_stmt 0 view .LVU1050
 3762 003e 9DF80020 		ldrb	r2, [sp]	@ zero_extendqisi2
 990:DMP/driver/eMPL/inv_mpu.c ****   accel_bias[1] = ((long)data[2] << 8) | data[3];
 3763              		.loc 1 990 46 view .LVU1051
 3764 0042 9DF80130 		ldrb	r3, [sp, #1]	@ zero_extendqisi2
 990:DMP/driver/eMPL/inv_mpu.c ****   accel_bias[1] = ((long)data[2] << 8) | data[3];
 3765              		.loc 1 990 40 view .LVU1052
 3766 0046 43EA0223 		orr	r3, r3, r2, lsl #8
 990:DMP/driver/eMPL/inv_mpu.c ****   accel_bias[1] = ((long)data[2] << 8) | data[3];
 3767              		.loc 1 990 17 view .LVU1053
 3768 004a 2360     		str	r3, [r4]
 991:DMP/driver/eMPL/inv_mpu.c ****   accel_bias[2] = ((long)data[4] << 8) | data[5];
 3769              		.loc 1 991 3 is_stmt 1 view .LVU1054
 991:DMP/driver/eMPL/inv_mpu.c ****   accel_bias[2] = ((long)data[4] << 8) | data[5];
 3770              		.loc 1 991 30 is_stmt 0 view .LVU1055
 3771 004c 9DF80220 		ldrb	r2, [sp, #2]	@ zero_extendqisi2
 991:DMP/driver/eMPL/inv_mpu.c ****   accel_bias[2] = ((long)data[4] << 8) | data[5];
 3772              		.loc 1 991 46 view .LVU1056
 3773 0050 9DF80330 		ldrb	r3, [sp, #3]	@ zero_extendqisi2
 991:DMP/driver/eMPL/inv_mpu.c ****   accel_bias[2] = ((long)data[4] << 8) | data[5];
 3774              		.loc 1 991 40 view .LVU1057
 3775 0054 43EA0223 		orr	r3, r3, r2, lsl #8
 991:DMP/driver/eMPL/inv_mpu.c ****   accel_bias[2] = ((long)data[4] << 8) | data[5];
 3776              		.loc 1 991 17 view .LVU1058
 3777 0058 6360     		str	r3, [r4, #4]
 992:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 3778              		.loc 1 992 3 is_stmt 1 view .LVU1059
 992:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 3779              		.loc 1 992 30 is_stmt 0 view .LVU1060
 3780 005a 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
 992:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 3781              		.loc 1 992 46 view .LVU1061
 3782 005e 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 992:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 3783              		.loc 1 992 40 view .LVU1062
 3784 0062 43EA0223 		orr	r3, r3, r2, lsl #8
 992:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 3785              		.loc 1 992 17 view .LVU1063
 3786 0066 A360     		str	r3, [r4, #8]
 993:DMP/driver/eMPL/inv_mpu.c **** }
 3787              		.loc 1 993 3 is_stmt 1 view .LVU1064
 3788              	.L254:
 994:DMP/driver/eMPL/inv_mpu.c **** 
 3789              		.loc 1 994 1 is_stmt 0 view .LVU1065
 3790 0068 02B0     		add	sp, sp, #8
 3791              	.LCFI53:
 3792              		.cfi_remember_state
 3793              		.cfi_def_cfa_offset 8
 3794              		@ sp needed
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 124


 3795 006a 10BD     		pop	{r4, pc}
 3796              	.LVL285:
 3797              	.L256:
 3798              	.LCFI54:
 3799              		.cfi_restore_state
 985:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_read(st.hw->addr, 0x7A, 2, &data[2]))
 3800              		.loc 1 985 12 view .LVU1066
 3801 006c 4FF0FF30 		mov	r0, #-1
 3802 0070 FAE7     		b	.L254
 3803              	.L257:
 987:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_read(st.hw->addr, 0x7D, 2, &data[4]))
 3804              		.loc 1 987 12 view .LVU1067
 3805 0072 4FF0FF30 		mov	r0, #-1
 3806 0076 F7E7     		b	.L254
 3807              	.L258:
 989:DMP/driver/eMPL/inv_mpu.c ****   accel_bias[0] = ((long)data[0] << 8) | data[1];
 3808              		.loc 1 989 12 view .LVU1068
 3809 0078 4FF0FF30 		mov	r0, #-1
 3810 007c F4E7     		b	.L254
 3811              	.L261:
 3812 007e 00BF     		.align	2
 3813              	.L260:
 3814 0080 00000000 		.word	st
 3815              		.cfi_endproc
 3816              	.LFE177:
 3818              		.section	.text.mpu_read_6050_accel_bias,"ax",%progbits
 3819              		.align	1
 3820              		.global	mpu_read_6050_accel_bias
 3821              		.syntax unified
 3822              		.thumb
 3823              		.thumb_func
 3825              	mpu_read_6050_accel_bias:
 3826              	.LVL286:
 3827              	.LFB178:
1004:DMP/driver/eMPL/inv_mpu.c ****   unsigned char data[6];
 3828              		.loc 1 1004 48 is_stmt 1 view -0
 3829              		.cfi_startproc
 3830              		@ args = 0, pretend = 0, frame = 8
 3831              		@ frame_needed = 0, uses_anonymous_args = 0
1004:DMP/driver/eMPL/inv_mpu.c ****   unsigned char data[6];
 3832              		.loc 1 1004 48 is_stmt 0 view .LVU1070
 3833 0000 10B5     		push	{r4, lr}
 3834              	.LCFI55:
 3835              		.cfi_def_cfa_offset 8
 3836              		.cfi_offset 4, -8
 3837              		.cfi_offset 14, -4
 3838 0002 82B0     		sub	sp, sp, #8
 3839              	.LCFI56:
 3840              		.cfi_def_cfa_offset 16
 3841 0004 0446     		mov	r4, r0
1005:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_read(st.hw->addr, 0x06, 2, &data[0]))
 3842              		.loc 1 1005 3 is_stmt 1 view .LVU1071
1006:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3843              		.loc 1 1006 3 view .LVU1072
1006:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3844              		.loc 1 1006 18 is_stmt 0 view .LVU1073
 3845 0006 1E4B     		ldr	r3, .L268
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 125


 3846 0008 5868     		ldr	r0, [r3, #4]
 3847              	.LVL287:
1006:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3848              		.loc 1 1006 7 view .LVU1074
 3849 000a 6B46     		mov	r3, sp
 3850 000c 0222     		movs	r2, #2
 3851 000e 0621     		movs	r1, #6
 3852 0010 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 3853 0012 FFF7FEFF 		bl	MPU_Read_Len
 3854              	.LVL288:
1006:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3855              		.loc 1 1006 6 view .LVU1075
 3856 0016 48BB     		cbnz	r0, .L264
1008:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3857              		.loc 1 1008 3 is_stmt 1 view .LVU1076
1008:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3858              		.loc 1 1008 18 is_stmt 0 view .LVU1077
 3859 0018 194B     		ldr	r3, .L268
 3860 001a 5868     		ldr	r0, [r3, #4]
1008:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3861              		.loc 1 1008 7 view .LVU1078
 3862 001c 0DF10203 		add	r3, sp, #2
 3863 0020 0222     		movs	r2, #2
 3864 0022 0821     		movs	r1, #8
 3865 0024 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 3866 0026 FFF7FEFF 		bl	MPU_Read_Len
 3867              	.LVL289:
1008:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3868              		.loc 1 1008 6 view .LVU1079
 3869 002a 10BB     		cbnz	r0, .L265
1010:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3870              		.loc 1 1010 3 is_stmt 1 view .LVU1080
1010:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3871              		.loc 1 1010 18 is_stmt 0 view .LVU1081
 3872 002c 144B     		ldr	r3, .L268
 3873 002e 5868     		ldr	r0, [r3, #4]
1010:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3874              		.loc 1 1010 7 view .LVU1082
 3875 0030 01AB     		add	r3, sp, #4
 3876 0032 0222     		movs	r2, #2
 3877 0034 0A21     		movs	r1, #10
 3878 0036 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 3879 0038 FFF7FEFF 		bl	MPU_Read_Len
 3880              	.LVL290:
1010:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3881              		.loc 1 1010 6 view .LVU1083
 3882 003c E0B9     		cbnz	r0, .L266
1012:DMP/driver/eMPL/inv_mpu.c ****   accel_bias[1] = ((long)data[2] << 8) | data[3];
 3883              		.loc 1 1012 3 is_stmt 1 view .LVU1084
1012:DMP/driver/eMPL/inv_mpu.c ****   accel_bias[1] = ((long)data[2] << 8) | data[3];
 3884              		.loc 1 1012 30 is_stmt 0 view .LVU1085
 3885 003e 9DF80020 		ldrb	r2, [sp]	@ zero_extendqisi2
1012:DMP/driver/eMPL/inv_mpu.c ****   accel_bias[1] = ((long)data[2] << 8) | data[3];
 3886              		.loc 1 1012 46 view .LVU1086
 3887 0042 9DF80130 		ldrb	r3, [sp, #1]	@ zero_extendqisi2
1012:DMP/driver/eMPL/inv_mpu.c ****   accel_bias[1] = ((long)data[2] << 8) | data[3];
 3888              		.loc 1 1012 40 view .LVU1087
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 126


 3889 0046 43EA0223 		orr	r3, r3, r2, lsl #8
1012:DMP/driver/eMPL/inv_mpu.c ****   accel_bias[1] = ((long)data[2] << 8) | data[3];
 3890              		.loc 1 1012 17 view .LVU1088
 3891 004a 2360     		str	r3, [r4]
1013:DMP/driver/eMPL/inv_mpu.c ****   accel_bias[2] = ((long)data[4] << 8) | data[5];
 3892              		.loc 1 1013 3 is_stmt 1 view .LVU1089
1013:DMP/driver/eMPL/inv_mpu.c ****   accel_bias[2] = ((long)data[4] << 8) | data[5];
 3893              		.loc 1 1013 30 is_stmt 0 view .LVU1090
 3894 004c 9DF80220 		ldrb	r2, [sp, #2]	@ zero_extendqisi2
1013:DMP/driver/eMPL/inv_mpu.c ****   accel_bias[2] = ((long)data[4] << 8) | data[5];
 3895              		.loc 1 1013 46 view .LVU1091
 3896 0050 9DF80330 		ldrb	r3, [sp, #3]	@ zero_extendqisi2
1013:DMP/driver/eMPL/inv_mpu.c ****   accel_bias[2] = ((long)data[4] << 8) | data[5];
 3897              		.loc 1 1013 40 view .LVU1092
 3898 0054 43EA0223 		orr	r3, r3, r2, lsl #8
1013:DMP/driver/eMPL/inv_mpu.c ****   accel_bias[2] = ((long)data[4] << 8) | data[5];
 3899              		.loc 1 1013 17 view .LVU1093
 3900 0058 6360     		str	r3, [r4, #4]
1014:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 3901              		.loc 1 1014 3 is_stmt 1 view .LVU1094
1014:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 3902              		.loc 1 1014 30 is_stmt 0 view .LVU1095
 3903 005a 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
1014:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 3904              		.loc 1 1014 46 view .LVU1096
 3905 005e 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
1014:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 3906              		.loc 1 1014 40 view .LVU1097
 3907 0062 43EA0223 		orr	r3, r3, r2, lsl #8
1014:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 3908              		.loc 1 1014 17 view .LVU1098
 3909 0066 A360     		str	r3, [r4, #8]
1015:DMP/driver/eMPL/inv_mpu.c **** }
 3910              		.loc 1 1015 3 is_stmt 1 view .LVU1099
 3911              	.L262:
1016:DMP/driver/eMPL/inv_mpu.c **** 
 3912              		.loc 1 1016 1 is_stmt 0 view .LVU1100
 3913 0068 02B0     		add	sp, sp, #8
 3914              	.LCFI57:
 3915              		.cfi_remember_state
 3916              		.cfi_def_cfa_offset 8
 3917              		@ sp needed
 3918 006a 10BD     		pop	{r4, pc}
 3919              	.LVL291:
 3920              	.L264:
 3921              	.LCFI58:
 3922              		.cfi_restore_state
1007:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_read(st.hw->addr, 0x08, 2, &data[2]))
 3923              		.loc 1 1007 12 view .LVU1101
 3924 006c 4FF0FF30 		mov	r0, #-1
 3925 0070 FAE7     		b	.L262
 3926              	.L265:
1009:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_read(st.hw->addr, 0x0A, 2, &data[4]))
 3927              		.loc 1 1009 12 view .LVU1102
 3928 0072 4FF0FF30 		mov	r0, #-1
 3929 0076 F7E7     		b	.L262
 3930              	.L266:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 127


1011:DMP/driver/eMPL/inv_mpu.c ****   accel_bias[0] = ((long)data[0] << 8) | data[1];
 3931              		.loc 1 1011 12 view .LVU1103
 3932 0078 4FF0FF30 		mov	r0, #-1
 3933 007c F4E7     		b	.L262
 3934              	.L269:
 3935 007e 00BF     		.align	2
 3936              	.L268:
 3937 0080 00000000 		.word	st
 3938              		.cfi_endproc
 3939              	.LFE178:
 3941              		.section	.text.mpu_read_6500_gyro_bias,"ax",%progbits
 3942              		.align	1
 3943              		.global	mpu_read_6500_gyro_bias
 3944              		.syntax unified
 3945              		.thumb
 3946              		.thumb_func
 3948              	mpu_read_6500_gyro_bias:
 3949              	.LVL292:
 3950              	.LFB179:
1018:DMP/driver/eMPL/inv_mpu.c ****   unsigned char data[6];
 3951              		.loc 1 1018 46 is_stmt 1 view -0
 3952              		.cfi_startproc
 3953              		@ args = 0, pretend = 0, frame = 8
 3954              		@ frame_needed = 0, uses_anonymous_args = 0
1018:DMP/driver/eMPL/inv_mpu.c ****   unsigned char data[6];
 3955              		.loc 1 1018 46 is_stmt 0 view .LVU1105
 3956 0000 10B5     		push	{r4, lr}
 3957              	.LCFI59:
 3958              		.cfi_def_cfa_offset 8
 3959              		.cfi_offset 4, -8
 3960              		.cfi_offset 14, -4
 3961 0002 82B0     		sub	sp, sp, #8
 3962              	.LCFI60:
 3963              		.cfi_def_cfa_offset 16
 3964 0004 0446     		mov	r4, r0
1019:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_read(st.hw->addr, 0x13, 2, &data[0]))
 3965              		.loc 1 1019 3 is_stmt 1 view .LVU1106
1020:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3966              		.loc 1 1020 3 view .LVU1107
1020:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3967              		.loc 1 1020 18 is_stmt 0 view .LVU1108
 3968 0006 1E4B     		ldr	r3, .L276
 3969 0008 5868     		ldr	r0, [r3, #4]
 3970              	.LVL293:
1020:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3971              		.loc 1 1020 7 view .LVU1109
 3972 000a 6B46     		mov	r3, sp
 3973 000c 0222     		movs	r2, #2
 3974 000e 1321     		movs	r1, #19
 3975 0010 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 3976 0012 FFF7FEFF 		bl	MPU_Read_Len
 3977              	.LVL294:
1020:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3978              		.loc 1 1020 6 view .LVU1110
 3979 0016 48BB     		cbnz	r0, .L272
1022:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3980              		.loc 1 1022 3 is_stmt 1 view .LVU1111
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 128


1022:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3981              		.loc 1 1022 18 is_stmt 0 view .LVU1112
 3982 0018 194B     		ldr	r3, .L276
 3983 001a 5868     		ldr	r0, [r3, #4]
1022:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3984              		.loc 1 1022 7 view .LVU1113
 3985 001c 0DF10203 		add	r3, sp, #2
 3986 0020 0222     		movs	r2, #2
 3987 0022 1521     		movs	r1, #21
 3988 0024 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 3989 0026 FFF7FEFF 		bl	MPU_Read_Len
 3990              	.LVL295:
1022:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3991              		.loc 1 1022 6 view .LVU1114
 3992 002a 10BB     		cbnz	r0, .L273
1024:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3993              		.loc 1 1024 3 is_stmt 1 view .LVU1115
1024:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3994              		.loc 1 1024 18 is_stmt 0 view .LVU1116
 3995 002c 144B     		ldr	r3, .L276
 3996 002e 5868     		ldr	r0, [r3, #4]
1024:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 3997              		.loc 1 1024 7 view .LVU1117
 3998 0030 01AB     		add	r3, sp, #4
 3999 0032 0222     		movs	r2, #2
 4000 0034 1721     		movs	r1, #23
 4001 0036 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 4002 0038 FFF7FEFF 		bl	MPU_Read_Len
 4003              	.LVL296:
1024:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4004              		.loc 1 1024 6 view .LVU1118
 4005 003c E0B9     		cbnz	r0, .L274
1026:DMP/driver/eMPL/inv_mpu.c ****   gyro_bias[1] = ((long)data[2] << 8) | data[3];
 4006              		.loc 1 1026 3 is_stmt 1 view .LVU1119
1026:DMP/driver/eMPL/inv_mpu.c ****   gyro_bias[1] = ((long)data[2] << 8) | data[3];
 4007              		.loc 1 1026 29 is_stmt 0 view .LVU1120
 4008 003e 9DF80020 		ldrb	r2, [sp]	@ zero_extendqisi2
1026:DMP/driver/eMPL/inv_mpu.c ****   gyro_bias[1] = ((long)data[2] << 8) | data[3];
 4009              		.loc 1 1026 45 view .LVU1121
 4010 0042 9DF80130 		ldrb	r3, [sp, #1]	@ zero_extendqisi2
1026:DMP/driver/eMPL/inv_mpu.c ****   gyro_bias[1] = ((long)data[2] << 8) | data[3];
 4011              		.loc 1 1026 39 view .LVU1122
 4012 0046 43EA0223 		orr	r3, r3, r2, lsl #8
1026:DMP/driver/eMPL/inv_mpu.c ****   gyro_bias[1] = ((long)data[2] << 8) | data[3];
 4013              		.loc 1 1026 16 view .LVU1123
 4014 004a 2360     		str	r3, [r4]
1027:DMP/driver/eMPL/inv_mpu.c ****   gyro_bias[2] = ((long)data[4] << 8) | data[5];
 4015              		.loc 1 1027 3 is_stmt 1 view .LVU1124
1027:DMP/driver/eMPL/inv_mpu.c ****   gyro_bias[2] = ((long)data[4] << 8) | data[5];
 4016              		.loc 1 1027 29 is_stmt 0 view .LVU1125
 4017 004c 9DF80220 		ldrb	r2, [sp, #2]	@ zero_extendqisi2
1027:DMP/driver/eMPL/inv_mpu.c ****   gyro_bias[2] = ((long)data[4] << 8) | data[5];
 4018              		.loc 1 1027 45 view .LVU1126
 4019 0050 9DF80330 		ldrb	r3, [sp, #3]	@ zero_extendqisi2
1027:DMP/driver/eMPL/inv_mpu.c ****   gyro_bias[2] = ((long)data[4] << 8) | data[5];
 4020              		.loc 1 1027 39 view .LVU1127
 4021 0054 43EA0223 		orr	r3, r3, r2, lsl #8
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 129


1027:DMP/driver/eMPL/inv_mpu.c ****   gyro_bias[2] = ((long)data[4] << 8) | data[5];
 4022              		.loc 1 1027 16 view .LVU1128
 4023 0058 6360     		str	r3, [r4, #4]
1028:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 4024              		.loc 1 1028 3 is_stmt 1 view .LVU1129
1028:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 4025              		.loc 1 1028 29 is_stmt 0 view .LVU1130
 4026 005a 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
1028:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 4027              		.loc 1 1028 45 view .LVU1131
 4028 005e 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
1028:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 4029              		.loc 1 1028 39 view .LVU1132
 4030 0062 43EA0223 		orr	r3, r3, r2, lsl #8
1028:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 4031              		.loc 1 1028 16 view .LVU1133
 4032 0066 A360     		str	r3, [r4, #8]
1029:DMP/driver/eMPL/inv_mpu.c **** }
 4033              		.loc 1 1029 3 is_stmt 1 view .LVU1134
 4034              	.L270:
1030:DMP/driver/eMPL/inv_mpu.c **** 
 4035              		.loc 1 1030 1 is_stmt 0 view .LVU1135
 4036 0068 02B0     		add	sp, sp, #8
 4037              	.LCFI61:
 4038              		.cfi_remember_state
 4039              		.cfi_def_cfa_offset 8
 4040              		@ sp needed
 4041 006a 10BD     		pop	{r4, pc}
 4042              	.LVL297:
 4043              	.L272:
 4044              	.LCFI62:
 4045              		.cfi_restore_state
1021:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_read(st.hw->addr, 0x15, 2, &data[2]))
 4046              		.loc 1 1021 12 view .LVU1136
 4047 006c 4FF0FF30 		mov	r0, #-1
 4048 0070 FAE7     		b	.L270
 4049              	.L273:
1023:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_read(st.hw->addr, 0x17, 2, &data[4]))
 4050              		.loc 1 1023 12 view .LVU1137
 4051 0072 4FF0FF30 		mov	r0, #-1
 4052 0076 F7E7     		b	.L270
 4053              	.L274:
1025:DMP/driver/eMPL/inv_mpu.c ****   gyro_bias[0] = ((long)data[0] << 8) | data[1];
 4054              		.loc 1 1025 12 view .LVU1138
 4055 0078 4FF0FF30 		mov	r0, #-1
 4056 007c F4E7     		b	.L270
 4057              	.L277:
 4058 007e 00BF     		.align	2
 4059              	.L276:
 4060 0080 00000000 		.word	st
 4061              		.cfi_endproc
 4062              	.LFE179:
 4064              		.section	.text.mpu_set_gyro_bias_reg,"ax",%progbits
 4065              		.align	1
 4066              		.global	mpu_set_gyro_bias_reg
 4067              		.syntax unified
 4068              		.thumb
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 130


 4069              		.thumb_func
 4071              	mpu_set_gyro_bias_reg:
 4072              	.LVL298:
 4073              	.LFB180:
1040:DMP/driver/eMPL/inv_mpu.c ****   unsigned char data[6] = {0, 0, 0, 0, 0, 0};
 4074              		.loc 1 1040 44 is_stmt 1 view -0
 4075              		.cfi_startproc
 4076              		@ args = 0, pretend = 0, frame = 8
 4077              		@ frame_needed = 0, uses_anonymous_args = 0
1040:DMP/driver/eMPL/inv_mpu.c ****   unsigned char data[6] = {0, 0, 0, 0, 0, 0};
 4078              		.loc 1 1040 44 is_stmt 0 view .LVU1140
 4079 0000 00B5     		push	{lr}
 4080              	.LCFI63:
 4081              		.cfi_def_cfa_offset 4
 4082              		.cfi_offset 14, -4
 4083 0002 83B0     		sub	sp, sp, #12
 4084              	.LCFI64:
 4085              		.cfi_def_cfa_offset 16
 4086 0004 0246     		mov	r2, r0
1041:DMP/driver/eMPL/inv_mpu.c ****   int i = 0;
 4087              		.loc 1 1041 3 is_stmt 1 view .LVU1141
1041:DMP/driver/eMPL/inv_mpu.c ****   int i = 0;
 4088              		.loc 1 1041 17 is_stmt 0 view .LVU1142
 4089 0006 254B     		ldr	r3, .L286
 4090 0008 93E80300 		ldm	r3, {r0, r1}
 4091              	.LVL299:
1041:DMP/driver/eMPL/inv_mpu.c ****   int i = 0;
 4092              		.loc 1 1041 17 view .LVU1143
 4093 000c 0090     		str	r0, [sp]
 4094 000e ADF80410 		strh	r1, [sp, #4]	@ movhi
1042:DMP/driver/eMPL/inv_mpu.c ****   for (i = 0; i < 3; i++) {
 4095              		.loc 1 1042 3 is_stmt 1 view .LVU1144
 4096              	.LVL300:
1043:DMP/driver/eMPL/inv_mpu.c ****     gyro_bias[i] = (-gyro_bias[i]);
 4097              		.loc 1 1043 3 view .LVU1145
1043:DMP/driver/eMPL/inv_mpu.c ****     gyro_bias[i] = (-gyro_bias[i]);
 4098              		.loc 1 1043 10 is_stmt 0 view .LVU1146
 4099 0012 0023     		movs	r3, #0
1043:DMP/driver/eMPL/inv_mpu.c ****     gyro_bias[i] = (-gyro_bias[i]);
 4100              		.loc 1 1043 3 view .LVU1147
 4101 0014 05E0     		b	.L279
 4102              	.LVL301:
 4103              	.L280:
1044:DMP/driver/eMPL/inv_mpu.c ****   }
 4104              		.loc 1 1044 5 is_stmt 1 discriminator 3 view .LVU1148
1044:DMP/driver/eMPL/inv_mpu.c ****   }
 4105              		.loc 1 1044 31 is_stmt 0 discriminator 3 view .LVU1149
 4106 0016 52F82310 		ldr	r1, [r2, r3, lsl #2]
1044:DMP/driver/eMPL/inv_mpu.c ****   }
 4107              		.loc 1 1044 21 discriminator 3 view .LVU1150
 4108 001a 4942     		rsbs	r1, r1, #0
1044:DMP/driver/eMPL/inv_mpu.c ****   }
 4109              		.loc 1 1044 18 discriminator 3 view .LVU1151
 4110 001c 42F82310 		str	r1, [r2, r3, lsl #2]
1043:DMP/driver/eMPL/inv_mpu.c ****     gyro_bias[i] = (-gyro_bias[i]);
 4111              		.loc 1 1043 23 is_stmt 1 discriminator 3 view .LVU1152
 4112 0020 0133     		adds	r3, r3, #1
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 131


 4113              	.LVL302:
 4114              	.L279:
1043:DMP/driver/eMPL/inv_mpu.c ****     gyro_bias[i] = (-gyro_bias[i]);
 4115              		.loc 1 1043 17 discriminator 1 view .LVU1153
 4116 0022 022B     		cmp	r3, #2
 4117 0024 F7DD     		ble	.L280
1046:DMP/driver/eMPL/inv_mpu.c ****   data[1] = (gyro_bias[0]) & 0xff;
 4118              		.loc 1 1046 3 view .LVU1154
1046:DMP/driver/eMPL/inv_mpu.c ****   data[1] = (gyro_bias[0]) & 0xff;
 4119              		.loc 1 1046 23 is_stmt 0 view .LVU1155
 4120 0026 1368     		ldr	r3, [r2]
 4121              	.LVL303:
1046:DMP/driver/eMPL/inv_mpu.c ****   data[1] = (gyro_bias[0]) & 0xff;
 4122              		.loc 1 1046 27 view .LVU1156
 4123 0028 1912     		asrs	r1, r3, #8
1046:DMP/driver/eMPL/inv_mpu.c ****   data[1] = (gyro_bias[0]) & 0xff;
 4124              		.loc 1 1046 11 view .LVU1157
 4125 002a 8DF80010 		strb	r1, [sp]
1047:DMP/driver/eMPL/inv_mpu.c ****   data[2] = (gyro_bias[1] >> 8) & 0xff;
 4126              		.loc 1 1047 3 is_stmt 1 view .LVU1158
1047:DMP/driver/eMPL/inv_mpu.c ****   data[2] = (gyro_bias[1] >> 8) & 0xff;
 4127              		.loc 1 1047 11 is_stmt 0 view .LVU1159
 4128 002e 8DF80130 		strb	r3, [sp, #1]
1048:DMP/driver/eMPL/inv_mpu.c ****   data[3] = (gyro_bias[1]) & 0xff;
 4129              		.loc 1 1048 3 is_stmt 1 view .LVU1160
1048:DMP/driver/eMPL/inv_mpu.c ****   data[3] = (gyro_bias[1]) & 0xff;
 4130              		.loc 1 1048 23 is_stmt 0 view .LVU1161
 4131 0032 5368     		ldr	r3, [r2, #4]
1048:DMP/driver/eMPL/inv_mpu.c ****   data[3] = (gyro_bias[1]) & 0xff;
 4132              		.loc 1 1048 27 view .LVU1162
 4133 0034 1912     		asrs	r1, r3, #8
1048:DMP/driver/eMPL/inv_mpu.c ****   data[3] = (gyro_bias[1]) & 0xff;
 4134              		.loc 1 1048 11 view .LVU1163
 4135 0036 8DF80210 		strb	r1, [sp, #2]
1049:DMP/driver/eMPL/inv_mpu.c ****   data[4] = (gyro_bias[2] >> 8) & 0xff;
 4136              		.loc 1 1049 3 is_stmt 1 view .LVU1164
1049:DMP/driver/eMPL/inv_mpu.c ****   data[4] = (gyro_bias[2] >> 8) & 0xff;
 4137              		.loc 1 1049 11 is_stmt 0 view .LVU1165
 4138 003a 8DF80330 		strb	r3, [sp, #3]
1050:DMP/driver/eMPL/inv_mpu.c ****   data[5] = (gyro_bias[2]) & 0xff;
 4139              		.loc 1 1050 3 is_stmt 1 view .LVU1166
1050:DMP/driver/eMPL/inv_mpu.c ****   data[5] = (gyro_bias[2]) & 0xff;
 4140              		.loc 1 1050 23 is_stmt 0 view .LVU1167
 4141 003e 9368     		ldr	r3, [r2, #8]
1050:DMP/driver/eMPL/inv_mpu.c ****   data[5] = (gyro_bias[2]) & 0xff;
 4142              		.loc 1 1050 27 view .LVU1168
 4143 0040 1A12     		asrs	r2, r3, #8
 4144              	.LVL304:
1050:DMP/driver/eMPL/inv_mpu.c ****   data[5] = (gyro_bias[2]) & 0xff;
 4145              		.loc 1 1050 11 view .LVU1169
 4146 0042 8DF80420 		strb	r2, [sp, #4]
1051:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, 0x13, 2, &data[0]))
 4147              		.loc 1 1051 3 is_stmt 1 view .LVU1170
1051:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, 0x13, 2, &data[0]))
 4148              		.loc 1 1051 11 is_stmt 0 view .LVU1171
 4149 0046 8DF80530 		strb	r3, [sp, #5]
1052:DMP/driver/eMPL/inv_mpu.c ****     return -1;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 132


 4150              		.loc 1 1052 3 is_stmt 1 view .LVU1172
1052:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4151              		.loc 1 1052 19 is_stmt 0 view .LVU1173
 4152 004a 154B     		ldr	r3, .L286+4
 4153 004c 5868     		ldr	r0, [r3, #4]
1052:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4154              		.loc 1 1052 7 view .LVU1174
 4155 004e 6B46     		mov	r3, sp
 4156 0050 0222     		movs	r2, #2
 4157 0052 1321     		movs	r1, #19
 4158 0054 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 4159 0056 FFF7FEFF 		bl	MPU_Write_Len
 4160              	.LVL305:
1052:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4161              		.loc 1 1052 6 view .LVU1175
 4162 005a A8B9     		cbnz	r0, .L282
1054:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4163              		.loc 1 1054 3 is_stmt 1 view .LVU1176
1054:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4164              		.loc 1 1054 19 is_stmt 0 view .LVU1177
 4165 005c 104B     		ldr	r3, .L286+4
 4166 005e 5868     		ldr	r0, [r3, #4]
1054:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4167              		.loc 1 1054 7 view .LVU1178
 4168 0060 0DF10203 		add	r3, sp, #2
 4169 0064 0222     		movs	r2, #2
 4170 0066 1521     		movs	r1, #21
 4171 0068 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 4172 006a FFF7FEFF 		bl	MPU_Write_Len
 4173              	.LVL306:
1054:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4174              		.loc 1 1054 6 view .LVU1179
 4175 006e 70B9     		cbnz	r0, .L283
1056:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4176              		.loc 1 1056 3 is_stmt 1 view .LVU1180
1056:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4177              		.loc 1 1056 19 is_stmt 0 view .LVU1181
 4178 0070 0B4B     		ldr	r3, .L286+4
 4179 0072 5868     		ldr	r0, [r3, #4]
1056:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4180              		.loc 1 1056 7 view .LVU1182
 4181 0074 01AB     		add	r3, sp, #4
 4182 0076 0222     		movs	r2, #2
 4183 0078 1721     		movs	r1, #23
 4184 007a 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 4185 007c FFF7FEFF 		bl	MPU_Write_Len
 4186              	.LVL307:
1056:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4187              		.loc 1 1056 6 view .LVU1183
 4188 0080 40B9     		cbnz	r0, .L284
 4189              	.L278:
1059:DMP/driver/eMPL/inv_mpu.c **** 
 4190              		.loc 1 1059 1 view .LVU1184
 4191 0082 03B0     		add	sp, sp, #12
 4192              	.LCFI65:
 4193              		.cfi_remember_state
 4194              		.cfi_def_cfa_offset 4
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 133


 4195              		@ sp needed
 4196 0084 5DF804FB 		ldr	pc, [sp], #4
 4197              	.L282:
 4198              	.LCFI66:
 4199              		.cfi_restore_state
1053:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, 0x15, 2, &data[2]))
 4200              		.loc 1 1053 12 view .LVU1185
 4201 0088 4FF0FF30 		mov	r0, #-1
 4202 008c F9E7     		b	.L278
 4203              	.L283:
1055:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, 0x17, 2, &data[4]))
 4204              		.loc 1 1055 12 view .LVU1186
 4205 008e 4FF0FF30 		mov	r0, #-1
 4206 0092 F6E7     		b	.L278
 4207              	.L284:
1057:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 4208              		.loc 1 1057 12 view .LVU1187
 4209 0094 4FF0FF30 		mov	r0, #-1
 4210 0098 F3E7     		b	.L278
 4211              	.L287:
 4212 009a 00BF     		.align	2
 4213              	.L286:
 4214 009c 00000000 		.word	.LANCHOR0
 4215 00a0 00000000 		.word	st
 4216              		.cfi_endproc
 4217              	.LFE180:
 4219              		.section	.text.mpu_set_accel_bias_6050_reg,"ax",%progbits
 4220              		.align	1
 4221              		.global	mpu_set_accel_bias_6050_reg
 4222              		.syntax unified
 4223              		.thumb
 4224              		.thumb_func
 4226              	mpu_set_accel_bias_6050_reg:
 4227              	.LVL308:
 4228              	.LFB181:
1069:DMP/driver/eMPL/inv_mpu.c ****   unsigned char data[6] = {0, 0, 0, 0, 0, 0};
 4229              		.loc 1 1069 57 is_stmt 1 view -0
 4230              		.cfi_startproc
 4231              		@ args = 0, pretend = 0, frame = 24
 4232              		@ frame_needed = 0, uses_anonymous_args = 0
1069:DMP/driver/eMPL/inv_mpu.c ****   unsigned char data[6] = {0, 0, 0, 0, 0, 0};
 4233              		.loc 1 1069 57 is_stmt 0 view .LVU1189
 4234 0000 30B5     		push	{r4, r5, lr}
 4235              	.LCFI67:
 4236              		.cfi_def_cfa_offset 12
 4237              		.cfi_offset 4, -12
 4238              		.cfi_offset 5, -8
 4239              		.cfi_offset 14, -4
 4240 0002 87B0     		sub	sp, sp, #28
 4241              	.LCFI68:
 4242              		.cfi_def_cfa_offset 40
 4243 0004 0446     		mov	r4, r0
1070:DMP/driver/eMPL/inv_mpu.c ****   long accel_reg_bias[3] = {0, 0, 0};
 4244              		.loc 1 1070 3 is_stmt 1 view .LVU1190
1070:DMP/driver/eMPL/inv_mpu.c ****   long accel_reg_bias[3] = {0, 0, 0};
 4245              		.loc 1 1070 17 is_stmt 0 view .LVU1191
 4246 0006 2E4B     		ldr	r3, .L296
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 134


 4247 0008 93E80300 		ldm	r3, {r0, r1}
 4248              	.LVL309:
1070:DMP/driver/eMPL/inv_mpu.c ****   long accel_reg_bias[3] = {0, 0, 0};
 4249              		.loc 1 1070 17 view .LVU1192
 4250 000c 0490     		str	r0, [sp, #16]
 4251 000e ADF81410 		strh	r1, [sp, #20]	@ movhi
1071:DMP/driver/eMPL/inv_mpu.c **** 
 4252              		.loc 1 1071 3 is_stmt 1 view .LVU1193
1071:DMP/driver/eMPL/inv_mpu.c **** 
 4253              		.loc 1 1071 8 is_stmt 0 view .LVU1194
 4254 0012 0023     		movs	r3, #0
 4255 0014 0193     		str	r3, [sp, #4]
 4256 0016 0293     		str	r3, [sp, #8]
 4257 0018 0393     		str	r3, [sp, #12]
1073:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4258              		.loc 1 1073 3 is_stmt 1 view .LVU1195
1073:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4259              		.loc 1 1073 7 is_stmt 0 view .LVU1196
 4260 001a 01A8     		add	r0, sp, #4
 4261 001c FFF7FEFF 		bl	mpu_read_6050_accel_bias
 4262              	.LVL310:
1073:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4263              		.loc 1 1073 6 view .LVU1197
 4264 0020 0028     		cmp	r0, #0
 4265 0022 40D1     		bne	.L290
 4266 0024 0546     		mov	r5, r0
1076:DMP/driver/eMPL/inv_mpu.c ****   accel_reg_bias[1] -= (accel_bias[1] & ~1);
 4267              		.loc 1 1076 3 is_stmt 1 view .LVU1198
1076:DMP/driver/eMPL/inv_mpu.c ****   accel_reg_bias[1] -= (accel_bias[1] & ~1);
 4268              		.loc 1 1076 35 is_stmt 0 view .LVU1199
 4269 0026 2368     		ldr	r3, [r4]
1076:DMP/driver/eMPL/inv_mpu.c ****   accel_reg_bias[1] -= (accel_bias[1] & ~1);
 4270              		.loc 1 1076 39 view .LVU1200
 4271 0028 23F00103 		bic	r3, r3, #1
1076:DMP/driver/eMPL/inv_mpu.c ****   accel_reg_bias[1] -= (accel_bias[1] & ~1);
 4272              		.loc 1 1076 21 view .LVU1201
 4273 002c 0199     		ldr	r1, [sp, #4]
 4274 002e C91A     		subs	r1, r1, r3
 4275 0030 0191     		str	r1, [sp, #4]
1077:DMP/driver/eMPL/inv_mpu.c ****   accel_reg_bias[2] -= (accel_bias[2] & ~1);
 4276              		.loc 1 1077 3 is_stmt 1 view .LVU1202
1077:DMP/driver/eMPL/inv_mpu.c ****   accel_reg_bias[2] -= (accel_bias[2] & ~1);
 4277              		.loc 1 1077 35 is_stmt 0 view .LVU1203
 4278 0032 6368     		ldr	r3, [r4, #4]
1077:DMP/driver/eMPL/inv_mpu.c ****   accel_reg_bias[2] -= (accel_bias[2] & ~1);
 4279              		.loc 1 1077 39 view .LVU1204
 4280 0034 23F00103 		bic	r3, r3, #1
1077:DMP/driver/eMPL/inv_mpu.c ****   accel_reg_bias[2] -= (accel_bias[2] & ~1);
 4281              		.loc 1 1077 21 view .LVU1205
 4282 0038 029A     		ldr	r2, [sp, #8]
 4283 003a D21A     		subs	r2, r2, r3
 4284 003c 0292     		str	r2, [sp, #8]
1078:DMP/driver/eMPL/inv_mpu.c **** 
 4285              		.loc 1 1078 3 is_stmt 1 view .LVU1206
1078:DMP/driver/eMPL/inv_mpu.c **** 
 4286              		.loc 1 1078 35 is_stmt 0 view .LVU1207
 4287 003e A068     		ldr	r0, [r4, #8]
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 135


1078:DMP/driver/eMPL/inv_mpu.c **** 
 4288              		.loc 1 1078 39 view .LVU1208
 4289 0040 20F00100 		bic	r0, r0, #1
1078:DMP/driver/eMPL/inv_mpu.c **** 
 4290              		.loc 1 1078 21 view .LVU1209
 4291 0044 039B     		ldr	r3, [sp, #12]
 4292 0046 1B1A     		subs	r3, r3, r0
 4293 0048 0393     		str	r3, [sp, #12]
1080:DMP/driver/eMPL/inv_mpu.c ****   data[1] = (accel_reg_bias[0]) & 0xff;
 4294              		.loc 1 1080 3 is_stmt 1 view .LVU1210
1080:DMP/driver/eMPL/inv_mpu.c ****   data[1] = (accel_reg_bias[0]) & 0xff;
 4295              		.loc 1 1080 32 is_stmt 0 view .LVU1211
 4296 004a 0812     		asrs	r0, r1, #8
1080:DMP/driver/eMPL/inv_mpu.c ****   data[1] = (accel_reg_bias[0]) & 0xff;
 4297              		.loc 1 1080 11 view .LVU1212
 4298 004c 8DF81000 		strb	r0, [sp, #16]
1081:DMP/driver/eMPL/inv_mpu.c ****   data[2] = (accel_reg_bias[1] >> 8) & 0xff;
 4299              		.loc 1 1081 3 is_stmt 1 view .LVU1213
1081:DMP/driver/eMPL/inv_mpu.c ****   data[2] = (accel_reg_bias[1] >> 8) & 0xff;
 4300              		.loc 1 1081 11 is_stmt 0 view .LVU1214
 4301 0050 8DF81110 		strb	r1, [sp, #17]
1082:DMP/driver/eMPL/inv_mpu.c ****   data[3] = (accel_reg_bias[1]) & 0xff;
 4302              		.loc 1 1082 3 is_stmt 1 view .LVU1215
1082:DMP/driver/eMPL/inv_mpu.c ****   data[3] = (accel_reg_bias[1]) & 0xff;
 4303              		.loc 1 1082 32 is_stmt 0 view .LVU1216
 4304 0054 1112     		asrs	r1, r2, #8
1082:DMP/driver/eMPL/inv_mpu.c ****   data[3] = (accel_reg_bias[1]) & 0xff;
 4305              		.loc 1 1082 11 view .LVU1217
 4306 0056 8DF81210 		strb	r1, [sp, #18]
1083:DMP/driver/eMPL/inv_mpu.c ****   data[4] = (accel_reg_bias[2] >> 8) & 0xff;
 4307              		.loc 1 1083 3 is_stmt 1 view .LVU1218
1083:DMP/driver/eMPL/inv_mpu.c ****   data[4] = (accel_reg_bias[2] >> 8) & 0xff;
 4308              		.loc 1 1083 11 is_stmt 0 view .LVU1219
 4309 005a 8DF81320 		strb	r2, [sp, #19]
1084:DMP/driver/eMPL/inv_mpu.c ****   data[5] = (accel_reg_bias[2]) & 0xff;
 4310              		.loc 1 1084 3 is_stmt 1 view .LVU1220
1084:DMP/driver/eMPL/inv_mpu.c ****   data[5] = (accel_reg_bias[2]) & 0xff;
 4311              		.loc 1 1084 32 is_stmt 0 view .LVU1221
 4312 005e 1A12     		asrs	r2, r3, #8
1084:DMP/driver/eMPL/inv_mpu.c ****   data[5] = (accel_reg_bias[2]) & 0xff;
 4313              		.loc 1 1084 11 view .LVU1222
 4314 0060 8DF81420 		strb	r2, [sp, #20]
1085:DMP/driver/eMPL/inv_mpu.c **** 
 4315              		.loc 1 1085 3 is_stmt 1 view .LVU1223
1085:DMP/driver/eMPL/inv_mpu.c **** 
 4316              		.loc 1 1085 11 is_stmt 0 view .LVU1224
 4317 0064 8DF81530 		strb	r3, [sp, #21]
1087:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4318              		.loc 1 1087 3 is_stmt 1 view .LVU1225
1087:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4319              		.loc 1 1087 19 is_stmt 0 view .LVU1226
 4320 0068 164B     		ldr	r3, .L296+4
 4321 006a 5868     		ldr	r0, [r3, #4]
1087:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4322              		.loc 1 1087 7 view .LVU1227
 4323 006c 04AB     		add	r3, sp, #16
 4324 006e 0222     		movs	r2, #2
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 136


 4325 0070 0621     		movs	r1, #6
 4326 0072 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 4327 0074 FFF7FEFF 		bl	MPU_Write_Len
 4328              	.LVL311:
1087:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4329              		.loc 1 1087 6 view .LVU1228
 4330 0078 C0B9     		cbnz	r0, .L291
1089:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4331              		.loc 1 1089 3 is_stmt 1 view .LVU1229
1089:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4332              		.loc 1 1089 19 is_stmt 0 view .LVU1230
 4333 007a 124B     		ldr	r3, .L296+4
 4334 007c 5868     		ldr	r0, [r3, #4]
1089:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4335              		.loc 1 1089 7 view .LVU1231
 4336 007e 0DF11203 		add	r3, sp, #18
 4337 0082 0222     		movs	r2, #2
 4338 0084 0821     		movs	r1, #8
 4339 0086 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 4340 0088 FFF7FEFF 		bl	MPU_Write_Len
 4341              	.LVL312:
1089:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4342              		.loc 1 1089 6 view .LVU1232
 4343 008c 88B9     		cbnz	r0, .L292
1091:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4344              		.loc 1 1091 3 is_stmt 1 view .LVU1233
1091:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4345              		.loc 1 1091 19 is_stmt 0 view .LVU1234
 4346 008e 0D4B     		ldr	r3, .L296+4
 4347 0090 5868     		ldr	r0, [r3, #4]
1091:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4348              		.loc 1 1091 7 view .LVU1235
 4349 0092 05AB     		add	r3, sp, #20
 4350 0094 0222     		movs	r2, #2
 4351 0096 0A21     		movs	r1, #10
 4352 0098 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 4353 009a FFF7FEFF 		bl	MPU_Write_Len
 4354              	.LVL313:
1091:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4355              		.loc 1 1091 6 view .LVU1236
 4356 009e 58B9     		cbnz	r0, .L295
 4357              	.L288:
1095:DMP/driver/eMPL/inv_mpu.c **** 
 4358              		.loc 1 1095 1 view .LVU1237
 4359 00a0 2846     		mov	r0, r5
 4360 00a2 07B0     		add	sp, sp, #28
 4361              	.LCFI69:
 4362              		.cfi_remember_state
 4363              		.cfi_def_cfa_offset 12
 4364              		@ sp needed
 4365 00a4 30BD     		pop	{r4, r5, pc}
 4366              	.LVL314:
 4367              	.L290:
 4368              	.LCFI70:
 4369              		.cfi_restore_state
1074:DMP/driver/eMPL/inv_mpu.c **** 
 4370              		.loc 1 1074 12 view .LVU1238
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 137


 4371 00a6 4FF0FF35 		mov	r5, #-1
 4372 00aa F9E7     		b	.L288
 4373              	.L291:
1088:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, 0x08, 2, &data[2]))
 4374              		.loc 1 1088 12 view .LVU1239
 4375 00ac 4FF0FF35 		mov	r5, #-1
 4376 00b0 F6E7     		b	.L288
 4377              	.L292:
1090:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, 0x0A, 2, &data[4]))
 4378              		.loc 1 1090 12 view .LVU1240
 4379 00b2 4FF0FF35 		mov	r5, #-1
 4380 00b6 F3E7     		b	.L288
 4381              	.L295:
1092:DMP/driver/eMPL/inv_mpu.c **** 
 4382              		.loc 1 1092 12 view .LVU1241
 4383 00b8 4FF0FF35 		mov	r5, #-1
 4384 00bc F0E7     		b	.L288
 4385              	.L297:
 4386 00be 00BF     		.align	2
 4387              	.L296:
 4388 00c0 00000000 		.word	.LANCHOR0
 4389 00c4 00000000 		.word	st
 4390              		.cfi_endproc
 4391              	.LFE181:
 4393              		.section	.text.mpu_set_accel_bias_6500_reg,"ax",%progbits
 4394              		.align	1
 4395              		.global	mpu_set_accel_bias_6500_reg
 4396              		.syntax unified
 4397              		.thumb
 4398              		.thumb_func
 4400              	mpu_set_accel_bias_6500_reg:
 4401              	.LVL315:
 4402              	.LFB182:
1105:DMP/driver/eMPL/inv_mpu.c ****   unsigned char data[6] = {0, 0, 0, 0, 0, 0};
 4403              		.loc 1 1105 57 is_stmt 1 view -0
 4404              		.cfi_startproc
 4405              		@ args = 0, pretend = 0, frame = 24
 4406              		@ frame_needed = 0, uses_anonymous_args = 0
1105:DMP/driver/eMPL/inv_mpu.c ****   unsigned char data[6] = {0, 0, 0, 0, 0, 0};
 4407              		.loc 1 1105 57 is_stmt 0 view .LVU1243
 4408 0000 30B5     		push	{r4, r5, lr}
 4409              	.LCFI71:
 4410              		.cfi_def_cfa_offset 12
 4411              		.cfi_offset 4, -12
 4412              		.cfi_offset 5, -8
 4413              		.cfi_offset 14, -4
 4414 0002 87B0     		sub	sp, sp, #28
 4415              	.LCFI72:
 4416              		.cfi_def_cfa_offset 40
 4417 0004 0446     		mov	r4, r0
1106:DMP/driver/eMPL/inv_mpu.c ****   long accel_reg_bias[3] = {0, 0, 0};
 4418              		.loc 1 1106 3 is_stmt 1 view .LVU1244
1106:DMP/driver/eMPL/inv_mpu.c ****   long accel_reg_bias[3] = {0, 0, 0};
 4419              		.loc 1 1106 17 is_stmt 0 view .LVU1245
 4420 0006 2E4B     		ldr	r3, .L306
 4421 0008 93E80300 		ldm	r3, {r0, r1}
 4422              	.LVL316:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 138


1106:DMP/driver/eMPL/inv_mpu.c ****   long accel_reg_bias[3] = {0, 0, 0};
 4423              		.loc 1 1106 17 view .LVU1246
 4424 000c 0490     		str	r0, [sp, #16]
 4425 000e ADF81410 		strh	r1, [sp, #20]	@ movhi
1107:DMP/driver/eMPL/inv_mpu.c **** 
 4426              		.loc 1 1107 3 is_stmt 1 view .LVU1247
1107:DMP/driver/eMPL/inv_mpu.c **** 
 4427              		.loc 1 1107 8 is_stmt 0 view .LVU1248
 4428 0012 0023     		movs	r3, #0
 4429 0014 0193     		str	r3, [sp, #4]
 4430 0016 0293     		str	r3, [sp, #8]
 4431 0018 0393     		str	r3, [sp, #12]
1109:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4432              		.loc 1 1109 3 is_stmt 1 view .LVU1249
1109:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4433              		.loc 1 1109 7 is_stmt 0 view .LVU1250
 4434 001a 01A8     		add	r0, sp, #4
 4435 001c FFF7FEFF 		bl	mpu_read_6500_accel_bias
 4436              	.LVL317:
1109:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4437              		.loc 1 1109 6 view .LVU1251
 4438 0020 0028     		cmp	r0, #0
 4439 0022 40D1     		bne	.L300
 4440 0024 0546     		mov	r5, r0
1113:DMP/driver/eMPL/inv_mpu.c ****   accel_reg_bias[1] -= (accel_bias[1] & ~1);
 4441              		.loc 1 1113 3 is_stmt 1 view .LVU1252
1113:DMP/driver/eMPL/inv_mpu.c ****   accel_reg_bias[1] -= (accel_bias[1] & ~1);
 4442              		.loc 1 1113 35 is_stmt 0 view .LVU1253
 4443 0026 2368     		ldr	r3, [r4]
1113:DMP/driver/eMPL/inv_mpu.c ****   accel_reg_bias[1] -= (accel_bias[1] & ~1);
 4444              		.loc 1 1113 39 view .LVU1254
 4445 0028 23F00103 		bic	r3, r3, #1
1113:DMP/driver/eMPL/inv_mpu.c ****   accel_reg_bias[1] -= (accel_bias[1] & ~1);
 4446              		.loc 1 1113 21 view .LVU1255
 4447 002c 0199     		ldr	r1, [sp, #4]
 4448 002e C91A     		subs	r1, r1, r3
 4449 0030 0191     		str	r1, [sp, #4]
1114:DMP/driver/eMPL/inv_mpu.c ****   accel_reg_bias[2] -= (accel_bias[2] & ~1);
 4450              		.loc 1 1114 3 is_stmt 1 view .LVU1256
1114:DMP/driver/eMPL/inv_mpu.c ****   accel_reg_bias[2] -= (accel_bias[2] & ~1);
 4451              		.loc 1 1114 35 is_stmt 0 view .LVU1257
 4452 0032 6368     		ldr	r3, [r4, #4]
1114:DMP/driver/eMPL/inv_mpu.c ****   accel_reg_bias[2] -= (accel_bias[2] & ~1);
 4453              		.loc 1 1114 39 view .LVU1258
 4454 0034 23F00103 		bic	r3, r3, #1
1114:DMP/driver/eMPL/inv_mpu.c ****   accel_reg_bias[2] -= (accel_bias[2] & ~1);
 4455              		.loc 1 1114 21 view .LVU1259
 4456 0038 029A     		ldr	r2, [sp, #8]
 4457 003a D21A     		subs	r2, r2, r3
 4458 003c 0292     		str	r2, [sp, #8]
1115:DMP/driver/eMPL/inv_mpu.c **** 
 4459              		.loc 1 1115 3 is_stmt 1 view .LVU1260
1115:DMP/driver/eMPL/inv_mpu.c **** 
 4460              		.loc 1 1115 35 is_stmt 0 view .LVU1261
 4461 003e A068     		ldr	r0, [r4, #8]
1115:DMP/driver/eMPL/inv_mpu.c **** 
 4462              		.loc 1 1115 39 view .LVU1262
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 139


 4463 0040 20F00100 		bic	r0, r0, #1
1115:DMP/driver/eMPL/inv_mpu.c **** 
 4464              		.loc 1 1115 21 view .LVU1263
 4465 0044 039B     		ldr	r3, [sp, #12]
 4466 0046 1B1A     		subs	r3, r3, r0
 4467 0048 0393     		str	r3, [sp, #12]
1117:DMP/driver/eMPL/inv_mpu.c ****   data[1] = (accel_reg_bias[0]) & 0xff;
 4468              		.loc 1 1117 3 is_stmt 1 view .LVU1264
1117:DMP/driver/eMPL/inv_mpu.c ****   data[1] = (accel_reg_bias[0]) & 0xff;
 4469              		.loc 1 1117 32 is_stmt 0 view .LVU1265
 4470 004a 0812     		asrs	r0, r1, #8
1117:DMP/driver/eMPL/inv_mpu.c ****   data[1] = (accel_reg_bias[0]) & 0xff;
 4471              		.loc 1 1117 11 view .LVU1266
 4472 004c 8DF81000 		strb	r0, [sp, #16]
1118:DMP/driver/eMPL/inv_mpu.c ****   data[2] = (accel_reg_bias[1] >> 8) & 0xff;
 4473              		.loc 1 1118 3 is_stmt 1 view .LVU1267
1118:DMP/driver/eMPL/inv_mpu.c ****   data[2] = (accel_reg_bias[1] >> 8) & 0xff;
 4474              		.loc 1 1118 11 is_stmt 0 view .LVU1268
 4475 0050 8DF81110 		strb	r1, [sp, #17]
1119:DMP/driver/eMPL/inv_mpu.c ****   data[3] = (accel_reg_bias[1]) & 0xff;
 4476              		.loc 1 1119 3 is_stmt 1 view .LVU1269
1119:DMP/driver/eMPL/inv_mpu.c ****   data[3] = (accel_reg_bias[1]) & 0xff;
 4477              		.loc 1 1119 32 is_stmt 0 view .LVU1270
 4478 0054 1112     		asrs	r1, r2, #8
1119:DMP/driver/eMPL/inv_mpu.c ****   data[3] = (accel_reg_bias[1]) & 0xff;
 4479              		.loc 1 1119 11 view .LVU1271
 4480 0056 8DF81210 		strb	r1, [sp, #18]
1120:DMP/driver/eMPL/inv_mpu.c ****   data[4] = (accel_reg_bias[2] >> 8) & 0xff;
 4481              		.loc 1 1120 3 is_stmt 1 view .LVU1272
1120:DMP/driver/eMPL/inv_mpu.c ****   data[4] = (accel_reg_bias[2] >> 8) & 0xff;
 4482              		.loc 1 1120 11 is_stmt 0 view .LVU1273
 4483 005a 8DF81320 		strb	r2, [sp, #19]
1121:DMP/driver/eMPL/inv_mpu.c ****   data[5] = (accel_reg_bias[2]) & 0xff;
 4484              		.loc 1 1121 3 is_stmt 1 view .LVU1274
1121:DMP/driver/eMPL/inv_mpu.c ****   data[5] = (accel_reg_bias[2]) & 0xff;
 4485              		.loc 1 1121 32 is_stmt 0 view .LVU1275
 4486 005e 1A12     		asrs	r2, r3, #8
1121:DMP/driver/eMPL/inv_mpu.c ****   data[5] = (accel_reg_bias[2]) & 0xff;
 4487              		.loc 1 1121 11 view .LVU1276
 4488 0060 8DF81420 		strb	r2, [sp, #20]
1122:DMP/driver/eMPL/inv_mpu.c **** 
 4489              		.loc 1 1122 3 is_stmt 1 view .LVU1277
1122:DMP/driver/eMPL/inv_mpu.c **** 
 4490              		.loc 1 1122 11 is_stmt 0 view .LVU1278
 4491 0064 8DF81530 		strb	r3, [sp, #21]
1124:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4492              		.loc 1 1124 3 is_stmt 1 view .LVU1279
1124:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4493              		.loc 1 1124 19 is_stmt 0 view .LVU1280
 4494 0068 164B     		ldr	r3, .L306+4
 4495 006a 5868     		ldr	r0, [r3, #4]
1124:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4496              		.loc 1 1124 7 view .LVU1281
 4497 006c 04AB     		add	r3, sp, #16
 4498 006e 0222     		movs	r2, #2
 4499 0070 7721     		movs	r1, #119
 4500 0072 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 140


 4501 0074 FFF7FEFF 		bl	MPU_Write_Len
 4502              	.LVL318:
1124:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4503              		.loc 1 1124 6 view .LVU1282
 4504 0078 C0B9     		cbnz	r0, .L301
1126:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4505              		.loc 1 1126 3 is_stmt 1 view .LVU1283
1126:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4506              		.loc 1 1126 19 is_stmt 0 view .LVU1284
 4507 007a 124B     		ldr	r3, .L306+4
 4508 007c 5868     		ldr	r0, [r3, #4]
1126:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4509              		.loc 1 1126 7 view .LVU1285
 4510 007e 0DF11203 		add	r3, sp, #18
 4511 0082 0222     		movs	r2, #2
 4512 0084 7A21     		movs	r1, #122
 4513 0086 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 4514 0088 FFF7FEFF 		bl	MPU_Write_Len
 4515              	.LVL319:
1126:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4516              		.loc 1 1126 6 view .LVU1286
 4517 008c 88B9     		cbnz	r0, .L302
1128:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4518              		.loc 1 1128 3 is_stmt 1 view .LVU1287
1128:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4519              		.loc 1 1128 19 is_stmt 0 view .LVU1288
 4520 008e 0D4B     		ldr	r3, .L306+4
 4521 0090 5868     		ldr	r0, [r3, #4]
1128:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4522              		.loc 1 1128 7 view .LVU1289
 4523 0092 05AB     		add	r3, sp, #20
 4524 0094 0222     		movs	r2, #2
 4525 0096 7D21     		movs	r1, #125
 4526 0098 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 4527 009a FFF7FEFF 		bl	MPU_Write_Len
 4528              	.LVL320:
1128:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4529              		.loc 1 1128 6 view .LVU1290
 4530 009e 58B9     		cbnz	r0, .L305
 4531              	.L298:
1132:DMP/driver/eMPL/inv_mpu.c **** 
 4532              		.loc 1 1132 1 view .LVU1291
 4533 00a0 2846     		mov	r0, r5
 4534 00a2 07B0     		add	sp, sp, #28
 4535              	.LCFI73:
 4536              		.cfi_remember_state
 4537              		.cfi_def_cfa_offset 12
 4538              		@ sp needed
 4539 00a4 30BD     		pop	{r4, r5, pc}
 4540              	.LVL321:
 4541              	.L300:
 4542              	.LCFI74:
 4543              		.cfi_restore_state
1110:DMP/driver/eMPL/inv_mpu.c **** 
 4544              		.loc 1 1110 12 view .LVU1292
 4545 00a6 4FF0FF35 		mov	r5, #-1
 4546 00aa F9E7     		b	.L298
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 141


 4547              	.L301:
1125:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, 0x7A, 2, &data[2]))
 4548              		.loc 1 1125 12 view .LVU1293
 4549 00ac 4FF0FF35 		mov	r5, #-1
 4550 00b0 F6E7     		b	.L298
 4551              	.L302:
1127:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, 0x7D, 2, &data[4]))
 4552              		.loc 1 1127 12 view .LVU1294
 4553 00b2 4FF0FF35 		mov	r5, #-1
 4554 00b6 F3E7     		b	.L298
 4555              	.L305:
1129:DMP/driver/eMPL/inv_mpu.c **** 
 4556              		.loc 1 1129 12 view .LVU1295
 4557 00b8 4FF0FF35 		mov	r5, #-1
 4558 00bc F0E7     		b	.L298
 4559              	.L307:
 4560 00be 00BF     		.align	2
 4561              	.L306:
 4562 00c0 00000000 		.word	.LANCHOR0
 4563 00c4 00000000 		.word	st
 4564              		.cfi_endproc
 4565              	.LFE182:
 4567              		.section	.text.mpu_reset_fifo,"ax",%progbits
 4568              		.align	1
 4569              		.global	mpu_reset_fifo
 4570              		.syntax unified
 4571              		.thumb
 4572              		.thumb_func
 4574              	mpu_reset_fifo:
 4575              	.LFB183:
1138:DMP/driver/eMPL/inv_mpu.c ****   unsigned char data;
 4576              		.loc 1 1138 26 is_stmt 1 view -0
 4577              		.cfi_startproc
 4578              		@ args = 0, pretend = 0, frame = 8
 4579              		@ frame_needed = 0, uses_anonymous_args = 0
1139:DMP/driver/eMPL/inv_mpu.c **** 
 4580              		.loc 1 1139 3 view .LVU1297
1141:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4581              		.loc 1 1141 3 view .LVU1298
1141:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4582              		.loc 1 1141 20 is_stmt 0 view .LVU1299
 4583 0000 7C4B     		ldr	r3, .L335
 4584 0002 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
1141:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4585              		.loc 1 1141 6 view .LVU1300
 4586 0004 002B     		cmp	r3, #0
 4587 0006 00F0D480 		beq	.L319
1138:DMP/driver/eMPL/inv_mpu.c ****   unsigned char data;
 4588              		.loc 1 1138 26 view .LVU1301
 4589 000a 00B5     		push	{lr}
 4590              	.LCFI75:
 4591              		.cfi_def_cfa_offset 4
 4592              		.cfi_offset 14, -4
 4593 000c 83B0     		sub	sp, sp, #12
 4594              	.LCFI76:
 4595              		.cfi_def_cfa_offset 16
1144:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->int_enable, 1, &data))
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 142


 4596              		.loc 1 1144 3 is_stmt 1 view .LVU1302
1144:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->int_enable, 1, &data))
 4597              		.loc 1 1144 8 is_stmt 0 view .LVU1303
 4598 000e 0023     		movs	r3, #0
 4599 0010 8DF80730 		strb	r3, [sp, #7]
1145:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4600              		.loc 1 1145 3 is_stmt 1 view .LVU1304
1145:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4601              		.loc 1 1145 19 is_stmt 0 view .LVU1305
 4602 0014 774B     		ldr	r3, .L335
 4603 0016 5868     		ldr	r0, [r3, #4]
1145:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4604              		.loc 1 1145 32 view .LVU1306
 4605 0018 1968     		ldr	r1, [r3]
1145:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4606              		.loc 1 1145 7 view .LVU1307
 4607 001a 0DF10703 		add	r3, sp, #7
 4608 001e 0122     		movs	r2, #1
 4609 0020 497C     		ldrb	r1, [r1, #17]	@ zero_extendqisi2
 4610 0022 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 4611 0024 FFF7FEFF 		bl	MPU_Write_Len
 4612              	.LVL322:
1145:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4613              		.loc 1 1145 6 view .LVU1308
 4614 0028 0028     		cmp	r0, #0
 4615 002a 40F0C580 		bne	.L320
1147:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4616              		.loc 1 1147 3 is_stmt 1 view .LVU1309
1147:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4617              		.loc 1 1147 19 is_stmt 0 view .LVU1310
 4618 002e 714B     		ldr	r3, .L335
 4619 0030 5868     		ldr	r0, [r3, #4]
1147:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4620              		.loc 1 1147 32 view .LVU1311
 4621 0032 1968     		ldr	r1, [r3]
1147:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4622              		.loc 1 1147 7 view .LVU1312
 4623 0034 0DF10703 		add	r3, sp, #7
 4624 0038 0122     		movs	r2, #1
 4625 003a 4979     		ldrb	r1, [r1, #5]	@ zero_extendqisi2
 4626 003c 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 4627 003e FFF7FEFF 		bl	MPU_Write_Len
 4628              	.LVL323:
1147:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4629              		.loc 1 1147 6 view .LVU1313
 4630 0042 0028     		cmp	r0, #0
 4631 0044 40F0BB80 		bne	.L321
1149:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4632              		.loc 1 1149 3 is_stmt 1 view .LVU1314
1149:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4633              		.loc 1 1149 19 is_stmt 0 view .LVU1315
 4634 0048 6A4B     		ldr	r3, .L335
 4635 004a 5868     		ldr	r0, [r3, #4]
1149:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4636              		.loc 1 1149 32 view .LVU1316
 4637 004c 1968     		ldr	r1, [r3]
1149:DMP/driver/eMPL/inv_mpu.c ****     return -1;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 143


 4638              		.loc 1 1149 7 view .LVU1317
 4639 004e 0DF10703 		add	r3, sp, #7
 4640 0052 0122     		movs	r2, #1
 4641 0054 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 4642 0056 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 4643 0058 FFF7FEFF 		bl	MPU_Write_Len
 4644              	.LVL324:
1149:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 4645              		.loc 1 1149 6 view .LVU1318
 4646 005c 0028     		cmp	r0, #0
 4647 005e 40F0B180 		bne	.L322
1152:DMP/driver/eMPL/inv_mpu.c ****     data = BIT_FIFO_RST | BIT_DMP_RST;
 4648              		.loc 1 1152 3 is_stmt 1 view .LVU1319
1152:DMP/driver/eMPL/inv_mpu.c ****     data = BIT_FIFO_RST | BIT_DMP_RST;
 4649              		.loc 1 1152 18 is_stmt 0 view .LVU1320
 4650 0062 644B     		ldr	r3, .L335
 4651 0064 93F82430 		ldrb	r3, [r3, #36]	@ zero_extendqisi2
1152:DMP/driver/eMPL/inv_mpu.c ****     data = BIT_FIFO_RST | BIT_DMP_RST;
 4652              		.loc 1 1152 6 view .LVU1321
 4653 0068 002B     		cmp	r3, #0
 4654 006a 52D0     		beq	.L310
1153:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &data))
 4655              		.loc 1 1153 5 is_stmt 1 view .LVU1322
1153:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &data))
 4656              		.loc 1 1153 10 is_stmt 0 view .LVU1323
 4657 006c 0C23     		movs	r3, #12
 4658 006e 8DF80730 		strb	r3, [sp, #7]
1154:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 4659              		.loc 1 1154 5 is_stmt 1 view .LVU1324
1154:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 4660              		.loc 1 1154 21 is_stmt 0 view .LVU1325
 4661 0072 604B     		ldr	r3, .L335
 4662 0074 5868     		ldr	r0, [r3, #4]
1154:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 4663              		.loc 1 1154 34 view .LVU1326
 4664 0076 1968     		ldr	r1, [r3]
1154:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 4665              		.loc 1 1154 9 view .LVU1327
 4666 0078 0DF10703 		add	r3, sp, #7
 4667 007c 0122     		movs	r2, #1
 4668 007e 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 4669 0080 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 4670 0082 FFF7FEFF 		bl	MPU_Write_Len
 4671              	.LVL325:
1154:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 4672              		.loc 1 1154 8 view .LVU1328
 4673 0086 0028     		cmp	r0, #0
 4674 0088 40F09F80 		bne	.L323
1156:DMP/driver/eMPL/inv_mpu.c ****     data = BIT_DMP_EN | BIT_FIFO_EN;
 4675              		.loc 1 1156 5 is_stmt 1 view .LVU1329
 4676 008c 3220     		movs	r0, #50
 4677 008e FFF7FEFF 		bl	HAL_Delay
 4678              	.LVL326:
1157:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.sensors & INV_XYZ_COMPASS)
 4679              		.loc 1 1157 5 view .LVU1330
1157:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.sensors & INV_XYZ_COMPASS)
 4680              		.loc 1 1157 10 is_stmt 0 view .LVU1331
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 144


 4681 0092 C023     		movs	r3, #192
 4682 0094 8DF80730 		strb	r3, [sp, #7]
1158:DMP/driver/eMPL/inv_mpu.c ****       data |= BIT_AUX_IF_EN;
 4683              		.loc 1 1158 5 is_stmt 1 view .LVU1332
1158:DMP/driver/eMPL/inv_mpu.c ****       data |= BIT_AUX_IF_EN;
 4684              		.loc 1 1158 20 is_stmt 0 view .LVU1333
 4685 0098 564B     		ldr	r3, .L335
 4686 009a 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
1158:DMP/driver/eMPL/inv_mpu.c ****       data |= BIT_AUX_IF_EN;
 4687              		.loc 1 1158 8 view .LVU1334
 4688 009c 13F0010F 		tst	r3, #1
 4689 00a0 02D0     		beq	.L311
1159:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &data))
 4690              		.loc 1 1159 7 is_stmt 1 view .LVU1335
1159:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &data))
 4691              		.loc 1 1159 12 is_stmt 0 view .LVU1336
 4692 00a2 E023     		movs	r3, #224
 4693 00a4 8DF80730 		strb	r3, [sp, #7]
 4694              	.L311:
1160:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 4695              		.loc 1 1160 5 is_stmt 1 view .LVU1337
1160:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 4696              		.loc 1 1160 21 is_stmt 0 view .LVU1338
 4697 00a8 524B     		ldr	r3, .L335
 4698 00aa 5868     		ldr	r0, [r3, #4]
1160:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 4699              		.loc 1 1160 34 view .LVU1339
 4700 00ac 1968     		ldr	r1, [r3]
1160:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 4701              		.loc 1 1160 9 view .LVU1340
 4702 00ae 0DF10703 		add	r3, sp, #7
 4703 00b2 0122     		movs	r2, #1
 4704 00b4 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 4705 00b6 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 4706 00b8 FFF7FEFF 		bl	MPU_Write_Len
 4707              	.LVL327:
1160:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 4708              		.loc 1 1160 8 view .LVU1341
 4709 00bc 0028     		cmp	r0, #0
 4710 00be 40F08780 		bne	.L324
1162:DMP/driver/eMPL/inv_mpu.c ****       data = BIT_DMP_INT_EN;
 4711              		.loc 1 1162 5 is_stmt 1 view .LVU1342
1162:DMP/driver/eMPL/inv_mpu.c ****       data = BIT_DMP_INT_EN;
 4712              		.loc 1 1162 20 is_stmt 0 view .LVU1343
 4713 00c2 4C4B     		ldr	r3, .L335
 4714 00c4 5B7C     		ldrb	r3, [r3, #17]	@ zero_extendqisi2
1162:DMP/driver/eMPL/inv_mpu.c ****       data = BIT_DMP_INT_EN;
 4715              		.loc 1 1162 8 view .LVU1344
 4716 00c6 03B3     		cbz	r3, .L312
1163:DMP/driver/eMPL/inv_mpu.c ****     else
 4717              		.loc 1 1163 7 is_stmt 1 view .LVU1345
1163:DMP/driver/eMPL/inv_mpu.c ****     else
 4718              		.loc 1 1163 12 is_stmt 0 view .LVU1346
 4719 00c8 0223     		movs	r3, #2
 4720 00ca 8DF80730 		strb	r3, [sp, #7]
 4721              	.L313:
1166:DMP/driver/eMPL/inv_mpu.c ****       return -1;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 145


 4722              		.loc 1 1166 5 is_stmt 1 view .LVU1347
1166:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 4723              		.loc 1 1166 21 is_stmt 0 view .LVU1348
 4724 00ce 494B     		ldr	r3, .L335
 4725 00d0 5868     		ldr	r0, [r3, #4]
1166:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 4726              		.loc 1 1166 34 view .LVU1349
 4727 00d2 1968     		ldr	r1, [r3]
1166:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 4728              		.loc 1 1166 9 view .LVU1350
 4729 00d4 0DF10703 		add	r3, sp, #7
 4730 00d8 0122     		movs	r2, #1
 4731 00da 497C     		ldrb	r1, [r1, #17]	@ zero_extendqisi2
 4732 00dc 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 4733 00de FFF7FEFF 		bl	MPU_Write_Len
 4734              	.LVL328:
1166:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 4735              		.loc 1 1166 8 view .LVU1351
 4736 00e2 0028     		cmp	r0, #0
 4737 00e4 77D1     		bne	.L325
1168:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->fifo_en, 1, &data))
 4738              		.loc 1 1168 5 is_stmt 1 view .LVU1352
1168:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->fifo_en, 1, &data))
 4739              		.loc 1 1168 10 is_stmt 0 view .LVU1353
 4740 00e6 0023     		movs	r3, #0
 4741 00e8 8DF80730 		strb	r3, [sp, #7]
1169:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 4742              		.loc 1 1169 5 is_stmt 1 view .LVU1354
1169:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 4743              		.loc 1 1169 21 is_stmt 0 view .LVU1355
 4744 00ec 414B     		ldr	r3, .L335
 4745 00ee 5868     		ldr	r0, [r3, #4]
1169:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 4746              		.loc 1 1169 34 view .LVU1356
 4747 00f0 1968     		ldr	r1, [r3]
1169:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 4748              		.loc 1 1169 9 view .LVU1357
 4749 00f2 0DF10703 		add	r3, sp, #7
 4750 00f6 0122     		movs	r2, #1
 4751 00f8 4979     		ldrb	r1, [r1, #5]	@ zero_extendqisi2
 4752 00fa 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 4753 00fc FFF7FEFF 		bl	MPU_Write_Len
 4754              	.LVL329:
1169:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 4755              		.loc 1 1169 8 view .LVU1358
 4756 0100 0028     		cmp	r0, #0
 4757 0102 6BD1     		bne	.L326
 4758              	.L308:
1192:DMP/driver/eMPL/inv_mpu.c **** 
 4759              		.loc 1 1192 1 view .LVU1359
 4760 0104 03B0     		add	sp, sp, #12
 4761              	.LCFI77:
 4762              		.cfi_remember_state
 4763              		.cfi_def_cfa_offset 4
 4764              		@ sp needed
 4765 0106 5DF804FB 		ldr	pc, [sp], #4
 4766              	.L312:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 146


 4767              	.LCFI78:
 4768              		.cfi_restore_state
1165:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->int_enable, 1, &data))
 4769              		.loc 1 1165 7 is_stmt 1 view .LVU1360
1165:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->int_enable, 1, &data))
 4770              		.loc 1 1165 12 is_stmt 0 view .LVU1361
 4771 010a 0023     		movs	r3, #0
 4772 010c 8DF80730 		strb	r3, [sp, #7]
 4773 0110 DDE7     		b	.L313
 4774              	.L310:
1172:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &data))
 4775              		.loc 1 1172 5 is_stmt 1 view .LVU1362
1172:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &data))
 4776              		.loc 1 1172 10 is_stmt 0 view .LVU1363
 4777 0112 0423     		movs	r3, #4
 4778 0114 8DF80730 		strb	r3, [sp, #7]
1173:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 4779              		.loc 1 1173 5 is_stmt 1 view .LVU1364
1173:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 4780              		.loc 1 1173 21 is_stmt 0 view .LVU1365
 4781 0118 364B     		ldr	r3, .L335
 4782 011a 5868     		ldr	r0, [r3, #4]
1173:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 4783              		.loc 1 1173 34 view .LVU1366
 4784 011c 1968     		ldr	r1, [r3]
1173:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 4785              		.loc 1 1173 9 view .LVU1367
 4786 011e 0DF10703 		add	r3, sp, #7
 4787 0122 0122     		movs	r2, #1
 4788 0124 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 4789 0126 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 4790 0128 FFF7FEFF 		bl	MPU_Write_Len
 4791              	.LVL330:
1173:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 4792              		.loc 1 1173 8 view .LVU1368
 4793 012c 0028     		cmp	r0, #0
 4794 012e 58D1     		bne	.L327
1175:DMP/driver/eMPL/inv_mpu.c ****       data = BIT_FIFO_EN;
 4795              		.loc 1 1175 5 is_stmt 1 view .LVU1369
1175:DMP/driver/eMPL/inv_mpu.c ****       data = BIT_FIFO_EN;
 4796              		.loc 1 1175 20 is_stmt 0 view .LVU1370
 4797 0130 304B     		ldr	r3, .L335
 4798 0132 9B7C     		ldrb	r3, [r3, #18]	@ zero_extendqisi2
1175:DMP/driver/eMPL/inv_mpu.c ****       data = BIT_FIFO_EN;
 4799              		.loc 1 1175 8 view .LVU1371
 4800 0134 23B9     		cbnz	r3, .L314
1175:DMP/driver/eMPL/inv_mpu.c ****       data = BIT_FIFO_EN;
 4801              		.loc 1 1175 49 discriminator 1 view .LVU1372
 4802 0136 2F4B     		ldr	r3, .L335
 4803 0138 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
1175:DMP/driver/eMPL/inv_mpu.c ****       data = BIT_FIFO_EN;
 4804              		.loc 1 1175 33 discriminator 1 view .LVU1373
 4805 013a 13F0010F 		tst	r3, #1
 4806 013e 30D1     		bne	.L315
 4807              	.L314:
1176:DMP/driver/eMPL/inv_mpu.c ****     else
 4808              		.loc 1 1176 7 is_stmt 1 view .LVU1374
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 147


1176:DMP/driver/eMPL/inv_mpu.c ****     else
 4809              		.loc 1 1176 12 is_stmt 0 view .LVU1375
 4810 0140 4023     		movs	r3, #64
 4811 0142 8DF80730 		strb	r3, [sp, #7]
 4812              	.L316:
1179:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 4813              		.loc 1 1179 5 is_stmt 1 view .LVU1376
1179:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 4814              		.loc 1 1179 21 is_stmt 0 view .LVU1377
 4815 0146 2B4B     		ldr	r3, .L335
 4816 0148 5868     		ldr	r0, [r3, #4]
1179:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 4817              		.loc 1 1179 34 view .LVU1378
 4818 014a 1968     		ldr	r1, [r3]
1179:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 4819              		.loc 1 1179 9 view .LVU1379
 4820 014c 0DF10703 		add	r3, sp, #7
 4821 0150 0122     		movs	r2, #1
 4822 0152 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 4823 0154 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 4824 0156 FFF7FEFF 		bl	MPU_Write_Len
 4825              	.LVL331:
1179:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 4826              		.loc 1 1179 8 view .LVU1380
 4827 015a 0028     		cmp	r0, #0
 4828 015c 44D1     		bne	.L328
1181:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.int_enable)
 4829              		.loc 1 1181 5 is_stmt 1 view .LVU1381
 4830 015e 3220     		movs	r0, #50
 4831 0160 FFF7FEFF 		bl	HAL_Delay
 4832              	.LVL332:
1182:DMP/driver/eMPL/inv_mpu.c ****       data = BIT_DATA_RDY_EN;
 4833              		.loc 1 1182 5 view .LVU1382
1182:DMP/driver/eMPL/inv_mpu.c ****       data = BIT_DATA_RDY_EN;
 4834              		.loc 1 1182 20 is_stmt 0 view .LVU1383
 4835 0164 234B     		ldr	r3, .L335
 4836 0166 5B7C     		ldrb	r3, [r3, #17]	@ zero_extendqisi2
1182:DMP/driver/eMPL/inv_mpu.c ****       data = BIT_DATA_RDY_EN;
 4837              		.loc 1 1182 8 view .LVU1384
 4838 0168 FBB1     		cbz	r3, .L317
1183:DMP/driver/eMPL/inv_mpu.c ****     else
 4839              		.loc 1 1183 7 is_stmt 1 view .LVU1385
1183:DMP/driver/eMPL/inv_mpu.c ****     else
 4840              		.loc 1 1183 12 is_stmt 0 view .LVU1386
 4841 016a 0123     		movs	r3, #1
 4842 016c 8DF80730 		strb	r3, [sp, #7]
 4843              	.L318:
1186:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 4844              		.loc 1 1186 5 is_stmt 1 view .LVU1387
1186:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 4845              		.loc 1 1186 21 is_stmt 0 view .LVU1388
 4846 0170 204B     		ldr	r3, .L335
 4847 0172 5868     		ldr	r0, [r3, #4]
1186:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 4848              		.loc 1 1186 34 view .LVU1389
 4849 0174 1968     		ldr	r1, [r3]
1186:DMP/driver/eMPL/inv_mpu.c ****       return -1;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 148


 4850              		.loc 1 1186 9 view .LVU1390
 4851 0176 0DF10703 		add	r3, sp, #7
 4852 017a 0122     		movs	r2, #1
 4853 017c 497C     		ldrb	r1, [r1, #17]	@ zero_extendqisi2
 4854 017e 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 4855 0180 FFF7FEFF 		bl	MPU_Write_Len
 4856              	.LVL333:
1186:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 4857              		.loc 1 1186 8 view .LVU1391
 4858 0184 98BB     		cbnz	r0, .L329
1188:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 4859              		.loc 1 1188 5 is_stmt 1 view .LVU1392
1188:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 4860              		.loc 1 1188 21 is_stmt 0 view .LVU1393
 4861 0186 1B4B     		ldr	r3, .L335
 4862 0188 5868     		ldr	r0, [r3, #4]
1188:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 4863              		.loc 1 1188 34 view .LVU1394
 4864 018a 53F8101B 		ldr	r1, [r3], #16
1188:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 4865              		.loc 1 1188 9 view .LVU1395
 4866 018e 0122     		movs	r2, #1
 4867 0190 4979     		ldrb	r1, [r1, #5]	@ zero_extendqisi2
 4868 0192 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 4869 0194 FFF7FEFF 		bl	MPU_Write_Len
 4870              	.LVL334:
1188:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 4871              		.loc 1 1188 8 view .LVU1396
 4872 0198 0028     		cmp	r0, #0
 4873 019a B3D0     		beq	.L308
1189:DMP/driver/eMPL/inv_mpu.c ****   }
 4874              		.loc 1 1189 14 view .LVU1397
 4875 019c 4FF0FF30 		mov	r0, #-1
 4876 01a0 B0E7     		b	.L308
 4877              	.L315:
1178:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &data))
 4878              		.loc 1 1178 7 is_stmt 1 view .LVU1398
1178:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &data))
 4879              		.loc 1 1178 12 is_stmt 0 view .LVU1399
 4880 01a2 6023     		movs	r3, #96
 4881 01a4 8DF80730 		strb	r3, [sp, #7]
 4882 01a8 CDE7     		b	.L316
 4883              	.L317:
1185:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->int_enable, 1, &data))
 4884              		.loc 1 1185 7 is_stmt 1 view .LVU1400
1185:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->int_enable, 1, &data))
 4885              		.loc 1 1185 12 is_stmt 0 view .LVU1401
 4886 01aa 0023     		movs	r3, #0
 4887 01ac 8DF80730 		strb	r3, [sp, #7]
 4888 01b0 DEE7     		b	.L318
 4889              	.L319:
 4890              	.LCFI79:
 4891              		.cfi_def_cfa_offset 0
 4892              		.cfi_restore 14
1142:DMP/driver/eMPL/inv_mpu.c **** 
 4893              		.loc 1 1142 12 view .LVU1402
 4894 01b2 4FF0FF30 		mov	r0, #-1
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 149


1192:DMP/driver/eMPL/inv_mpu.c **** 
 4895              		.loc 1 1192 1 view .LVU1403
 4896 01b6 7047     		bx	lr
 4897              	.L320:
 4898              	.LCFI80:
 4899              		.cfi_def_cfa_offset 16
 4900              		.cfi_offset 14, -4
1146:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->fifo_en, 1, &data))
 4901              		.loc 1 1146 12 view .LVU1404
 4902 01b8 4FF0FF30 		mov	r0, #-1
 4903 01bc A2E7     		b	.L308
 4904              	.L321:
1148:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &data))
 4905              		.loc 1 1148 12 view .LVU1405
 4906 01be 4FF0FF30 		mov	r0, #-1
 4907 01c2 9FE7     		b	.L308
 4908              	.L322:
1150:DMP/driver/eMPL/inv_mpu.c **** 
 4909              		.loc 1 1150 12 view .LVU1406
 4910 01c4 4FF0FF30 		mov	r0, #-1
 4911 01c8 9CE7     		b	.L308
 4912              	.L323:
1155:DMP/driver/eMPL/inv_mpu.c ****     delay_ms(50);
 4913              		.loc 1 1155 14 view .LVU1407
 4914 01ca 4FF0FF30 		mov	r0, #-1
 4915 01ce 99E7     		b	.L308
 4916              	.L324:
1161:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.int_enable)
 4917              		.loc 1 1161 14 view .LVU1408
 4918 01d0 4FF0FF30 		mov	r0, #-1
 4919 01d4 96E7     		b	.L308
 4920              	.L325:
1167:DMP/driver/eMPL/inv_mpu.c ****     data = 0;
 4921              		.loc 1 1167 14 view .LVU1409
 4922 01d6 4FF0FF30 		mov	r0, #-1
 4923 01da 93E7     		b	.L308
 4924              	.L326:
1170:DMP/driver/eMPL/inv_mpu.c ****   } else {
 4925              		.loc 1 1170 14 view .LVU1410
 4926 01dc 4FF0FF30 		mov	r0, #-1
 4927 01e0 90E7     		b	.L308
 4928              	.L327:
1174:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.bypass_mode || !(st.chip_cfg.sensors & INV_XYZ_COMPASS))
 4929              		.loc 1 1174 14 view .LVU1411
 4930 01e2 4FF0FF30 		mov	r0, #-1
 4931 01e6 8DE7     		b	.L308
 4932              	.L328:
1180:DMP/driver/eMPL/inv_mpu.c ****     delay_ms(50);
 4933              		.loc 1 1180 14 view .LVU1412
 4934 01e8 4FF0FF30 		mov	r0, #-1
 4935 01ec 8AE7     		b	.L308
 4936              	.L329:
1187:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->fifo_en, 1, &st.chip_cfg.fifo_enable))
 4937              		.loc 1 1187 14 view .LVU1413
 4938 01ee 4FF0FF30 		mov	r0, #-1
 4939 01f2 87E7     		b	.L308
 4940              	.L336:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 150


 4941              		.align	2
 4942              	.L335:
 4943 01f4 00000000 		.word	st
 4944              		.cfi_endproc
 4945              	.LFE183:
 4947              		.section	.text.mpu_get_gyro_fsr,"ax",%progbits
 4948              		.align	1
 4949              		.global	mpu_get_gyro_fsr
 4950              		.syntax unified
 4951              		.thumb
 4952              		.thumb_func
 4954              	mpu_get_gyro_fsr:
 4955              	.LVL335:
 4956              	.LFB184:
1199:DMP/driver/eMPL/inv_mpu.c ****   switch (st.chip_cfg.gyro_fsr) {
 4957              		.loc 1 1199 43 is_stmt 1 view -0
 4958              		.cfi_startproc
 4959              		@ args = 0, pretend = 0, frame = 0
 4960              		@ frame_needed = 0, uses_anonymous_args = 0
 4961              		@ link register save eliminated.
1200:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_250DPS:
 4962              		.loc 1 1200 3 view .LVU1415
1200:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_250DPS:
 4963              		.loc 1 1200 22 is_stmt 0 view .LVU1416
 4964 0000 0D4B     		ldr	r3, .L345
 4965 0002 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
1200:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_250DPS:
 4966              		.loc 1 1200 3 view .LVU1417
 4967 0004 032B     		cmp	r3, #3
 4968 0006 13D8     		bhi	.L338
 4969 0008 DFE803F0 		tbb	[pc, r3]
 4970              	.L340:
 4971 000c 02       		.byte	(.L343-.L340)/2
 4972 000d 06       		.byte	(.L342-.L340)/2
 4973 000e 0A       		.byte	(.L341-.L340)/2
 4974 000f 0E       		.byte	(.L339-.L340)/2
 4975              		.p2align 1
 4976              	.L343:
1202:DMP/driver/eMPL/inv_mpu.c ****     break;
 4977              		.loc 1 1202 5 is_stmt 1 view .LVU1418
1202:DMP/driver/eMPL/inv_mpu.c ****     break;
 4978              		.loc 1 1202 12 is_stmt 0 view .LVU1419
 4979 0010 FA23     		movs	r3, #250
 4980 0012 0380     		strh	r3, [r0]	@ movhi
1203:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_500DPS:
 4981              		.loc 1 1203 5 is_stmt 1 view .LVU1420
 4982              	.L344:
1217:DMP/driver/eMPL/inv_mpu.c **** }
 4983              		.loc 1 1217 3 view .LVU1421
1218:DMP/driver/eMPL/inv_mpu.c **** 
 4984              		.loc 1 1218 1 is_stmt 0 view .LVU1422
 4985 0014 0020     		movs	r0, #0
 4986              	.LVL336:
1218:DMP/driver/eMPL/inv_mpu.c **** 
 4987              		.loc 1 1218 1 view .LVU1423
 4988 0016 7047     		bx	lr
 4989              	.LVL337:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 151


 4990              	.L342:
1205:DMP/driver/eMPL/inv_mpu.c ****     break;
 4991              		.loc 1 1205 5 is_stmt 1 view .LVU1424
1205:DMP/driver/eMPL/inv_mpu.c ****     break;
 4992              		.loc 1 1205 12 is_stmt 0 view .LVU1425
 4993 0018 4FF4FA73 		mov	r3, #500
 4994 001c 0380     		strh	r3, [r0]	@ movhi
1206:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_1000DPS:
 4995              		.loc 1 1206 5 is_stmt 1 view .LVU1426
 4996 001e F9E7     		b	.L344
 4997              	.L341:
1208:DMP/driver/eMPL/inv_mpu.c ****     break;
 4998              		.loc 1 1208 5 view .LVU1427
1208:DMP/driver/eMPL/inv_mpu.c ****     break;
 4999              		.loc 1 1208 12 is_stmt 0 view .LVU1428
 5000 0020 4FF47A73 		mov	r3, #1000
 5001 0024 0380     		strh	r3, [r0]	@ movhi
1209:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_2000DPS:
 5002              		.loc 1 1209 5 is_stmt 1 view .LVU1429
 5003 0026 F5E7     		b	.L344
 5004              	.L339:
1211:DMP/driver/eMPL/inv_mpu.c ****     break;
 5005              		.loc 1 1211 5 view .LVU1430
1211:DMP/driver/eMPL/inv_mpu.c ****     break;
 5006              		.loc 1 1211 12 is_stmt 0 view .LVU1431
 5007 0028 4FF4FA63 		mov	r3, #2000
 5008 002c 0380     		strh	r3, [r0]	@ movhi
1212:DMP/driver/eMPL/inv_mpu.c ****   default:
 5009              		.loc 1 1212 5 is_stmt 1 view .LVU1432
 5010 002e F1E7     		b	.L344
 5011              	.L338:
1214:DMP/driver/eMPL/inv_mpu.c ****     break;
 5012              		.loc 1 1214 5 view .LVU1433
1214:DMP/driver/eMPL/inv_mpu.c ****     break;
 5013              		.loc 1 1214 12 is_stmt 0 view .LVU1434
 5014 0030 0023     		movs	r3, #0
 5015 0032 0380     		strh	r3, [r0]	@ movhi
1215:DMP/driver/eMPL/inv_mpu.c ****   }
 5016              		.loc 1 1215 5 is_stmt 1 view .LVU1435
 5017 0034 EEE7     		b	.L344
 5018              	.L346:
 5019 0036 00BF     		.align	2
 5020              	.L345:
 5021 0038 00000000 		.word	st
 5022              		.cfi_endproc
 5023              	.LFE184:
 5025              		.section	.text.mpu_set_gyro_fsr,"ax",%progbits
 5026              		.align	1
 5027              		.global	mpu_set_gyro_fsr
 5028              		.syntax unified
 5029              		.thumb
 5030              		.thumb_func
 5032              	mpu_set_gyro_fsr:
 5033              	.LVL338:
 5034              	.LFB185:
1225:DMP/driver/eMPL/inv_mpu.c ****   unsigned char data;
 5035              		.loc 1 1225 42 view -0
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 152


 5036              		.cfi_startproc
 5037              		@ args = 0, pretend = 0, frame = 8
 5038              		@ frame_needed = 0, uses_anonymous_args = 0
1226:DMP/driver/eMPL/inv_mpu.c **** 
 5039              		.loc 1 1226 3 view .LVU1437
1228:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 5040              		.loc 1 1228 3 view .LVU1438
1228:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 5041              		.loc 1 1228 20 is_stmt 0 view .LVU1439
 5042 0000 244B     		ldr	r3, .L364
 5043 0002 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
1228:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 5044              		.loc 1 1228 6 view .LVU1440
 5045 0004 002B     		cmp	r3, #0
 5046 0006 3CD0     		beq	.L355
1225:DMP/driver/eMPL/inv_mpu.c ****   unsigned char data;
 5047              		.loc 1 1225 42 view .LVU1441
 5048 0008 00B5     		push	{lr}
 5049              	.LCFI81:
 5050              		.cfi_def_cfa_offset 4
 5051              		.cfi_offset 14, -4
 5052 000a 83B0     		sub	sp, sp, #12
 5053              	.LCFI82:
 5054              		.cfi_def_cfa_offset 16
1231:DMP/driver/eMPL/inv_mpu.c ****   case 250:
 5055              		.loc 1 1231 3 is_stmt 1 view .LVU1442
 5056 000c B0F57A7F 		cmp	r0, #1000
 5057 0010 33D0     		beq	.L349
 5058 0012 0BD8     		bhi	.L350
 5059 0014 FA28     		cmp	r0, #250
 5060 0016 13D0     		beq	.L351
 5061 0018 B0F5FA7F 		cmp	r0, #500
 5062 001c 03D1     		bne	.L362
1236:DMP/driver/eMPL/inv_mpu.c ****     break;
 5063              		.loc 1 1236 5 view .LVU1443
1236:DMP/driver/eMPL/inv_mpu.c ****     break;
 5064              		.loc 1 1236 10 is_stmt 0 view .LVU1444
 5065 001e 0823     		movs	r3, #8
 5066 0020 8DF80730 		strb	r3, [sp, #7]
1237:DMP/driver/eMPL/inv_mpu.c ****   case 1000:
 5067              		.loc 1 1237 5 is_stmt 1 view .LVU1445
 5068 0024 0FE0     		b	.L354
 5069              	.L362:
1231:DMP/driver/eMPL/inv_mpu.c ****   case 250:
 5070              		.loc 1 1231 3 is_stmt 0 view .LVU1446
 5071 0026 4FF0FF30 		mov	r0, #-1
 5072              	.LVL339:
1231:DMP/driver/eMPL/inv_mpu.c ****   case 250:
 5073              		.loc 1 1231 3 view .LVU1447
 5074 002a 23E0     		b	.L347
 5075              	.LVL340:
 5076              	.L350:
1231:DMP/driver/eMPL/inv_mpu.c ****   case 250:
 5077              		.loc 1 1231 3 view .LVU1448
 5078 002c B0F5FA6F 		cmp	r0, #2000
 5079 0030 03D1     		bne	.L363
1242:DMP/driver/eMPL/inv_mpu.c ****     break;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 153


 5080              		.loc 1 1242 5 is_stmt 1 view .LVU1449
1242:DMP/driver/eMPL/inv_mpu.c ****     break;
 5081              		.loc 1 1242 10 is_stmt 0 view .LVU1450
 5082 0032 1823     		movs	r3, #24
 5083 0034 8DF80730 		strb	r3, [sp, #7]
1243:DMP/driver/eMPL/inv_mpu.c ****   default:
 5084              		.loc 1 1243 5 is_stmt 1 view .LVU1451
 5085 0038 05E0     		b	.L354
 5086              	.L363:
1231:DMP/driver/eMPL/inv_mpu.c ****   case 250:
 5087              		.loc 1 1231 3 is_stmt 0 view .LVU1452
 5088 003a 4FF0FF30 		mov	r0, #-1
 5089              	.LVL341:
1231:DMP/driver/eMPL/inv_mpu.c ****   case 250:
 5090              		.loc 1 1231 3 view .LVU1453
 5091 003e 19E0     		b	.L347
 5092              	.LVL342:
 5093              	.L351:
1233:DMP/driver/eMPL/inv_mpu.c ****     break;
 5094              		.loc 1 1233 5 is_stmt 1 view .LVU1454
1233:DMP/driver/eMPL/inv_mpu.c ****     break;
 5095              		.loc 1 1233 10 is_stmt 0 view .LVU1455
 5096 0040 0023     		movs	r3, #0
 5097 0042 8DF80730 		strb	r3, [sp, #7]
1234:DMP/driver/eMPL/inv_mpu.c ****   case 500:
 5098              		.loc 1 1234 5 is_stmt 1 view .LVU1456
 5099              	.L354:
1248:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 5100              		.loc 1 1248 3 view .LVU1457
1248:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 5101              		.loc 1 1248 18 is_stmt 0 view .LVU1458
 5102 0046 134B     		ldr	r3, .L364
 5103 0048 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
1248:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 5104              		.loc 1 1248 28 view .LVU1459
 5105 004a 9DF80720 		ldrb	r2, [sp, #7]	@ zero_extendqisi2
1248:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 5106              		.loc 1 1248 6 view .LVU1460
 5107 004e B3EBD20F 		cmp	r3, r2, lsr #3
 5108 0052 19D0     		beq	.L356
1250:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 5109              		.loc 1 1250 3 is_stmt 1 view .LVU1461
1250:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 5110              		.loc 1 1250 19 is_stmt 0 view .LVU1462
 5111 0054 0F4B     		ldr	r3, .L364
 5112 0056 5868     		ldr	r0, [r3, #4]
 5113              	.LVL343:
1250:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 5114              		.loc 1 1250 32 view .LVU1463
 5115 0058 1968     		ldr	r1, [r3]
1250:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 5116              		.loc 1 1250 7 view .LVU1464
 5117 005a 0DF10703 		add	r3, sp, #7
 5118 005e 0122     		movs	r2, #1
 5119 0060 8979     		ldrb	r1, [r1, #6]	@ zero_extendqisi2
 5120 0062 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 5121 0064 FFF7FEFF 		bl	MPU_Write_Len
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 154


 5122              	.LVL344:
1250:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 5123              		.loc 1 1250 6 view .LVU1465
 5124 0068 80B9     		cbnz	r0, .L357
1252:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 5125              		.loc 1 1252 3 is_stmt 1 view .LVU1466
1252:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 5126              		.loc 1 1252 24 is_stmt 0 view .LVU1467
 5127 006a 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 5128 006e DB08     		lsrs	r3, r3, #3
 5129 0070 084A     		ldr	r2, .L364
 5130 0072 1372     		strb	r3, [r2, #8]
1253:DMP/driver/eMPL/inv_mpu.c **** }
 5131              		.loc 1 1253 3 is_stmt 1 view .LVU1468
 5132              	.L347:
1254:DMP/driver/eMPL/inv_mpu.c **** 
 5133              		.loc 1 1254 1 is_stmt 0 view .LVU1469
 5134 0074 03B0     		add	sp, sp, #12
 5135              	.LCFI83:
 5136              		.cfi_remember_state
 5137              		.cfi_def_cfa_offset 4
 5138              		@ sp needed
 5139 0076 5DF804FB 		ldr	pc, [sp], #4
 5140              	.LVL345:
 5141              	.L349:
 5142              	.LCFI84:
 5143              		.cfi_restore_state
1239:DMP/driver/eMPL/inv_mpu.c ****     break;
 5144              		.loc 1 1239 5 is_stmt 1 view .LVU1470
1239:DMP/driver/eMPL/inv_mpu.c ****     break;
 5145              		.loc 1 1239 10 is_stmt 0 view .LVU1471
 5146 007a 1023     		movs	r3, #16
 5147 007c 8DF80730 		strb	r3, [sp, #7]
1240:DMP/driver/eMPL/inv_mpu.c ****   case 2000:
 5148              		.loc 1 1240 5 is_stmt 1 view .LVU1472
 5149 0080 E1E7     		b	.L354
 5150              	.L355:
 5151              	.LCFI85:
 5152              		.cfi_def_cfa_offset 0
 5153              		.cfi_restore 14
1229:DMP/driver/eMPL/inv_mpu.c **** 
 5154              		.loc 1 1229 12 is_stmt 0 view .LVU1473
 5155 0082 4FF0FF30 		mov	r0, #-1
 5156              	.LVL346:
1254:DMP/driver/eMPL/inv_mpu.c **** 
 5157              		.loc 1 1254 1 view .LVU1474
 5158 0086 7047     		bx	lr
 5159              	.LVL347:
 5160              	.L356:
 5161              	.LCFI86:
 5162              		.cfi_def_cfa_offset 16
 5163              		.cfi_offset 14, -4
1249:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->gyro_cfg, 1, &data))
 5164              		.loc 1 1249 12 view .LVU1475
 5165 0088 0020     		movs	r0, #0
 5166              	.LVL348:
1249:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->gyro_cfg, 1, &data))
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 155


 5167              		.loc 1 1249 12 view .LVU1476
 5168 008a F3E7     		b	.L347
 5169              	.L357:
1251:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.gyro_fsr = data >> 3;
 5170              		.loc 1 1251 12 view .LVU1477
 5171 008c 4FF0FF30 		mov	r0, #-1
 5172 0090 F0E7     		b	.L347
 5173              	.L365:
 5174 0092 00BF     		.align	2
 5175              	.L364:
 5176 0094 00000000 		.word	st
 5177              		.cfi_endproc
 5178              	.LFE185:
 5180              		.section	.text.mpu_get_accel_fsr,"ax",%progbits
 5181              		.align	1
 5182              		.global	mpu_get_accel_fsr
 5183              		.syntax unified
 5184              		.thumb
 5185              		.thumb_func
 5187              	mpu_get_accel_fsr:
 5188              	.LVL349:
 5189              	.LFB186:
1261:DMP/driver/eMPL/inv_mpu.c ****   switch (st.chip_cfg.accel_fsr) {
 5190              		.loc 1 1261 43 is_stmt 1 view -0
 5191              		.cfi_startproc
 5192              		@ args = 0, pretend = 0, frame = 0
 5193              		@ frame_needed = 0, uses_anonymous_args = 0
 5194              		@ link register save eliminated.
1262:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_2G:
 5195              		.loc 1 1262 3 view .LVU1479
1262:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_2G:
 5196              		.loc 1 1262 22 is_stmt 0 view .LVU1480
 5197 0000 0F4B     		ldr	r3, .L376
 5198 0002 5B7A     		ldrb	r3, [r3, #9]	@ zero_extendqisi2
1262:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_2G:
 5199              		.loc 1 1262 3 view .LVU1481
 5200 0004 032B     		cmp	r3, #3
 5201 0006 16D8     		bhi	.L374
 5202 0008 DFE803F0 		tbb	[pc, r3]
 5203              	.L369:
 5204 000c 02       		.byte	(.L372-.L369)/2
 5205 000d 0C       		.byte	(.L371-.L369)/2
 5206 000e 0F       		.byte	(.L370-.L369)/2
 5207 000f 12       		.byte	(.L368-.L369)/2
 5208              		.p2align 1
 5209              	.L372:
1264:DMP/driver/eMPL/inv_mpu.c ****     break;
 5210              		.loc 1 1264 5 is_stmt 1 view .LVU1482
1264:DMP/driver/eMPL/inv_mpu.c ****     break;
 5211              		.loc 1 1264 12 is_stmt 0 view .LVU1483
 5212 0010 0223     		movs	r3, #2
 5213 0012 0370     		strb	r3, [r0]
1265:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_4G:
 5214              		.loc 1 1265 5 is_stmt 1 view .LVU1484
 5215              	.L373:
1278:DMP/driver/eMPL/inv_mpu.c ****     fsr[0] <<= 1;
 5216              		.loc 1 1278 3 view .LVU1485
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 156


1278:DMP/driver/eMPL/inv_mpu.c ****     fsr[0] <<= 1;
 5217              		.loc 1 1278 18 is_stmt 0 view .LVU1486
 5218 0014 0A4B     		ldr	r3, .L376
 5219 0016 DB7C     		ldrb	r3, [r3, #19]	@ zero_extendqisi2
1278:DMP/driver/eMPL/inv_mpu.c ****     fsr[0] <<= 1;
 5220              		.loc 1 1278 6 view .LVU1487
 5221 0018 83B1     		cbz	r3, .L375
1279:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 5222              		.loc 1 1279 5 is_stmt 1 view .LVU1488
1279:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 5223              		.loc 1 1279 8 is_stmt 0 view .LVU1489
 5224 001a 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
1279:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 5225              		.loc 1 1279 12 view .LVU1490
 5226 001c 5B00     		lsls	r3, r3, #1
 5227 001e 0370     		strb	r3, [r0]
1280:DMP/driver/eMPL/inv_mpu.c **** }
 5228              		.loc 1 1280 10 view .LVU1491
 5229 0020 0020     		movs	r0, #0
 5230              	.LVL350:
1280:DMP/driver/eMPL/inv_mpu.c **** }
 5231              		.loc 1 1280 10 view .LVU1492
 5232 0022 7047     		bx	lr
 5233              	.LVL351:
 5234              	.L371:
1267:DMP/driver/eMPL/inv_mpu.c ****     break;
 5235              		.loc 1 1267 5 is_stmt 1 view .LVU1493
1267:DMP/driver/eMPL/inv_mpu.c ****     break;
 5236              		.loc 1 1267 12 is_stmt 0 view .LVU1494
 5237 0024 0423     		movs	r3, #4
 5238 0026 0370     		strb	r3, [r0]
1268:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_8G:
 5239              		.loc 1 1268 5 is_stmt 1 view .LVU1495
 5240 0028 F4E7     		b	.L373
 5241              	.L370:
1270:DMP/driver/eMPL/inv_mpu.c ****     break;
 5242              		.loc 1 1270 5 view .LVU1496
1270:DMP/driver/eMPL/inv_mpu.c ****     break;
 5243              		.loc 1 1270 12 is_stmt 0 view .LVU1497
 5244 002a 0823     		movs	r3, #8
 5245 002c 0370     		strb	r3, [r0]
1271:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_16G:
 5246              		.loc 1 1271 5 is_stmt 1 view .LVU1498
 5247 002e F1E7     		b	.L373
 5248              	.L368:
1273:DMP/driver/eMPL/inv_mpu.c ****     break;
 5249              		.loc 1 1273 5 view .LVU1499
1273:DMP/driver/eMPL/inv_mpu.c ****     break;
 5250              		.loc 1 1273 12 is_stmt 0 view .LVU1500
 5251 0030 1023     		movs	r3, #16
 5252 0032 0370     		strb	r3, [r0]
1274:DMP/driver/eMPL/inv_mpu.c ****   default:
 5253              		.loc 1 1274 5 is_stmt 1 view .LVU1501
 5254 0034 EEE7     		b	.L373
 5255              	.L374:
1262:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_2G:
 5256              		.loc 1 1262 3 is_stmt 0 view .LVU1502
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 157


 5257 0036 4FF0FF30 		mov	r0, #-1
 5258              	.LVL352:
1262:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_2G:
 5259              		.loc 1 1262 3 view .LVU1503
 5260 003a 7047     		bx	lr
 5261              	.LVL353:
 5262              	.L375:
1280:DMP/driver/eMPL/inv_mpu.c **** }
 5263              		.loc 1 1280 10 view .LVU1504
 5264 003c 0020     		movs	r0, #0
 5265              	.LVL354:
1281:DMP/driver/eMPL/inv_mpu.c **** 
 5266              		.loc 1 1281 1 view .LVU1505
 5267 003e 7047     		bx	lr
 5268              	.L377:
 5269              		.align	2
 5270              	.L376:
 5271 0040 00000000 		.word	st
 5272              		.cfi_endproc
 5273              	.LFE186:
 5275              		.section	.text.mpu_set_accel_fsr,"ax",%progbits
 5276              		.align	1
 5277              		.global	mpu_set_accel_fsr
 5278              		.syntax unified
 5279              		.thumb
 5280              		.thumb_func
 5282              	mpu_set_accel_fsr:
 5283              	.LVL355:
 5284              	.LFB187:
1288:DMP/driver/eMPL/inv_mpu.c ****   unsigned char data;
 5285              		.loc 1 1288 42 is_stmt 1 view -0
 5286              		.cfi_startproc
 5287              		@ args = 0, pretend = 0, frame = 8
 5288              		@ frame_needed = 0, uses_anonymous_args = 0
1289:DMP/driver/eMPL/inv_mpu.c **** 
 5289              		.loc 1 1289 3 view .LVU1507
1291:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 5290              		.loc 1 1291 3 view .LVU1508
1291:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 5291              		.loc 1 1291 20 is_stmt 0 view .LVU1509
 5292 0000 234B     		ldr	r3, .L394
 5293 0002 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
1291:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 5294              		.loc 1 1291 6 view .LVU1510
 5295 0004 002B     		cmp	r3, #0
 5296 0006 35D0     		beq	.L386
1288:DMP/driver/eMPL/inv_mpu.c ****   unsigned char data;
 5297              		.loc 1 1288 42 view .LVU1511
 5298 0008 00B5     		push	{lr}
 5299              	.LCFI87:
 5300              		.cfi_def_cfa_offset 4
 5301              		.cfi_offset 14, -4
 5302 000a 83B0     		sub	sp, sp, #12
 5303              	.LCFI88:
 5304              		.cfi_def_cfa_offset 16
1294:DMP/driver/eMPL/inv_mpu.c ****   case 2:
 5305              		.loc 1 1294 3 is_stmt 1 view .LVU1512
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 158


 5306 000c 0238     		subs	r0, r0, #2
 5307              	.LVL356:
1294:DMP/driver/eMPL/inv_mpu.c ****   case 2:
 5308              		.loc 1 1294 3 is_stmt 0 view .LVU1513
 5309 000e 0E28     		cmp	r0, #14
 5310 0010 33D8     		bhi	.L387
 5311 0012 DFE800F0 		tbb	[pc, r0]
 5312              	.L381:
 5313 0016 08       		.byte	(.L384-.L381)/2
 5314 0017 32       		.byte	(.L387-.L381)/2
 5315 0018 23       		.byte	(.L383-.L381)/2
 5316 0019 32       		.byte	(.L387-.L381)/2
 5317 001a 32       		.byte	(.L387-.L381)/2
 5318 001b 32       		.byte	(.L387-.L381)/2
 5319 001c 27       		.byte	(.L382-.L381)/2
 5320 001d 32       		.byte	(.L387-.L381)/2
 5321 001e 32       		.byte	(.L387-.L381)/2
 5322 001f 32       		.byte	(.L387-.L381)/2
 5323 0020 32       		.byte	(.L387-.L381)/2
 5324 0021 32       		.byte	(.L387-.L381)/2
 5325 0022 32       		.byte	(.L387-.L381)/2
 5326 0023 32       		.byte	(.L387-.L381)/2
 5327 0024 2B       		.byte	(.L380-.L381)/2
 5328 0025 00       		.p2align 1
 5329              	.L384:
1296:DMP/driver/eMPL/inv_mpu.c ****     break;
 5330              		.loc 1 1296 5 is_stmt 1 view .LVU1514
1296:DMP/driver/eMPL/inv_mpu.c ****     break;
 5331              		.loc 1 1296 10 is_stmt 0 view .LVU1515
 5332 0026 0023     		movs	r3, #0
 5333 0028 8DF80730 		strb	r3, [sp, #7]
1297:DMP/driver/eMPL/inv_mpu.c ****   case 4:
 5334              		.loc 1 1297 5 is_stmt 1 view .LVU1516
 5335              	.L385:
1311:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 5336              		.loc 1 1311 3 view .LVU1517
1311:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 5337              		.loc 1 1311 18 is_stmt 0 view .LVU1518
 5338 002c 184B     		ldr	r3, .L394
 5339 002e 5B7A     		ldrb	r3, [r3, #9]	@ zero_extendqisi2
1311:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 5340              		.loc 1 1311 29 view .LVU1519
 5341 0030 9DF80720 		ldrb	r2, [sp, #7]	@ zero_extendqisi2
1311:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 5342              		.loc 1 1311 6 view .LVU1520
 5343 0034 B3EBD20F 		cmp	r3, r2, lsr #3
 5344 0038 24D0     		beq	.L388
1313:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 5345              		.loc 1 1313 3 is_stmt 1 view .LVU1521
1313:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 5346              		.loc 1 1313 19 is_stmt 0 view .LVU1522
 5347 003a 154B     		ldr	r3, .L394
 5348 003c 5868     		ldr	r0, [r3, #4]
1313:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 5349              		.loc 1 1313 32 view .LVU1523
 5350 003e 1968     		ldr	r1, [r3]
1313:DMP/driver/eMPL/inv_mpu.c ****     return -1;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 159


 5351              		.loc 1 1313 7 view .LVU1524
 5352 0040 0DF10703 		add	r3, sp, #7
 5353 0044 0122     		movs	r2, #1
 5354 0046 C979     		ldrb	r1, [r1, #7]	@ zero_extendqisi2
 5355 0048 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 5356 004a FFF7FEFF 		bl	MPU_Write_Len
 5357              	.LVL357:
1313:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 5358              		.loc 1 1313 6 view .LVU1525
 5359 004e D8B9     		cbnz	r0, .L389
1315:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 5360              		.loc 1 1315 3 is_stmt 1 view .LVU1526
1315:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 5361              		.loc 1 1315 25 is_stmt 0 view .LVU1527
 5362 0050 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 5363 0054 DB08     		lsrs	r3, r3, #3
 5364 0056 0E4A     		ldr	r2, .L394
 5365 0058 5372     		strb	r3, [r2, #9]
1316:DMP/driver/eMPL/inv_mpu.c **** }
 5366              		.loc 1 1316 3 is_stmt 1 view .LVU1528
1316:DMP/driver/eMPL/inv_mpu.c **** }
 5367              		.loc 1 1316 10 is_stmt 0 view .LVU1529
 5368 005a 10E0     		b	.L378
 5369              	.L383:
1299:DMP/driver/eMPL/inv_mpu.c ****     break;
 5370              		.loc 1 1299 5 is_stmt 1 view .LVU1530
1299:DMP/driver/eMPL/inv_mpu.c ****     break;
 5371              		.loc 1 1299 10 is_stmt 0 view .LVU1531
 5372 005c 0823     		movs	r3, #8
 5373 005e 8DF80730 		strb	r3, [sp, #7]
1300:DMP/driver/eMPL/inv_mpu.c ****   case 8:
 5374              		.loc 1 1300 5 is_stmt 1 view .LVU1532
 5375 0062 E3E7     		b	.L385
 5376              	.L382:
1302:DMP/driver/eMPL/inv_mpu.c ****     break;
 5377              		.loc 1 1302 5 view .LVU1533
1302:DMP/driver/eMPL/inv_mpu.c ****     break;
 5378              		.loc 1 1302 10 is_stmt 0 view .LVU1534
 5379 0064 1023     		movs	r3, #16
 5380 0066 8DF80730 		strb	r3, [sp, #7]
1303:DMP/driver/eMPL/inv_mpu.c ****   case 16:
 5381              		.loc 1 1303 5 is_stmt 1 view .LVU1535
 5382 006a DFE7     		b	.L385
 5383              	.L380:
1305:DMP/driver/eMPL/inv_mpu.c ****     break;
 5384              		.loc 1 1305 5 view .LVU1536
1305:DMP/driver/eMPL/inv_mpu.c ****     break;
 5385              		.loc 1 1305 10 is_stmt 0 view .LVU1537
 5386 006c 1823     		movs	r3, #24
 5387 006e 8DF80730 		strb	r3, [sp, #7]
1306:DMP/driver/eMPL/inv_mpu.c ****   default:
 5388              		.loc 1 1306 5 is_stmt 1 view .LVU1538
 5389 0072 DBE7     		b	.L385
 5390              	.LVL358:
 5391              	.L386:
 5392              	.LCFI89:
 5393              		.cfi_def_cfa_offset 0
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 160


 5394              		.cfi_restore 14
1292:DMP/driver/eMPL/inv_mpu.c **** 
 5395              		.loc 1 1292 12 is_stmt 0 view .LVU1539
 5396 0074 4FF0FF30 		mov	r0, #-1
 5397              	.LVL359:
1317:DMP/driver/eMPL/inv_mpu.c **** 
 5398              		.loc 1 1317 1 view .LVU1540
 5399 0078 7047     		bx	lr
 5400              	.L387:
 5401              	.LCFI90:
 5402              		.cfi_def_cfa_offset 16
 5403              		.cfi_offset 14, -4
1294:DMP/driver/eMPL/inv_mpu.c ****   case 2:
 5404              		.loc 1 1294 3 view .LVU1541
 5405 007a 4FF0FF30 		mov	r0, #-1
 5406              	.L378:
1317:DMP/driver/eMPL/inv_mpu.c **** 
 5407              		.loc 1 1317 1 view .LVU1542
 5408 007e 03B0     		add	sp, sp, #12
 5409              	.LCFI91:
 5410              		.cfi_remember_state
 5411              		.cfi_def_cfa_offset 4
 5412              		@ sp needed
 5413 0080 5DF804FB 		ldr	pc, [sp], #4
 5414              	.L388:
 5415              	.LCFI92:
 5416              		.cfi_restore_state
1312:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->accel_cfg, 1, &data))
 5417              		.loc 1 1312 12 view .LVU1543
 5418 0084 0020     		movs	r0, #0
 5419 0086 FAE7     		b	.L378
 5420              	.L389:
1314:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.accel_fsr = data >> 3;
 5421              		.loc 1 1314 12 view .LVU1544
 5422 0088 4FF0FF30 		mov	r0, #-1
 5423 008c F7E7     		b	.L378
 5424              	.L395:
 5425 008e 00BF     		.align	2
 5426              	.L394:
 5427 0090 00000000 		.word	st
 5428              		.cfi_endproc
 5429              	.LFE187:
 5431              		.section	.text.mpu_get_lpf,"ax",%progbits
 5432              		.align	1
 5433              		.global	mpu_get_lpf
 5434              		.syntax unified
 5435              		.thumb
 5436              		.thumb_func
 5438              	mpu_get_lpf:
 5439              	.LVL360:
 5440              	.LFB188:
1324:DMP/driver/eMPL/inv_mpu.c ****   switch (st.chip_cfg.lpf) {
 5441              		.loc 1 1324 38 is_stmt 1 view -0
 5442              		.cfi_startproc
 5443              		@ args = 0, pretend = 0, frame = 0
 5444              		@ frame_needed = 0, uses_anonymous_args = 0
 5445              		@ link register save eliminated.
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 161


1325:DMP/driver/eMPL/inv_mpu.c ****   case INV_FILTER_188HZ:
 5446              		.loc 1 1325 3 view .LVU1546
1325:DMP/driver/eMPL/inv_mpu.c ****   case INV_FILTER_188HZ:
 5447              		.loc 1 1325 22 is_stmt 0 view .LVU1547
 5448 0000 0F4B     		ldr	r3, .L406
 5449 0002 DB7A     		ldrb	r3, [r3, #11]	@ zero_extendqisi2
1325:DMP/driver/eMPL/inv_mpu.c ****   case INV_FILTER_188HZ:
 5450              		.loc 1 1325 3 view .LVU1548
 5451 0004 013B     		subs	r3, r3, #1
 5452 0006 052B     		cmp	r3, #5
 5453 0008 17D8     		bhi	.L397
 5454 000a DFE803F0 		tbb	[pc, r3]
 5455              	.L399:
 5456 000e 03       		.byte	(.L404-.L399)/2
 5457 000f 07       		.byte	(.L403-.L399)/2
 5458 0010 0A       		.byte	(.L402-.L399)/2
 5459 0011 0D       		.byte	(.L401-.L399)/2
 5460 0012 10       		.byte	(.L400-.L399)/2
 5461 0013 13       		.byte	(.L398-.L399)/2
 5462              		.p2align 1
 5463              	.L404:
1327:DMP/driver/eMPL/inv_mpu.c ****     break;
 5464              		.loc 1 1327 5 is_stmt 1 view .LVU1549
1327:DMP/driver/eMPL/inv_mpu.c ****     break;
 5465              		.loc 1 1327 12 is_stmt 0 view .LVU1550
 5466 0014 BC23     		movs	r3, #188
 5467 0016 0380     		strh	r3, [r0]	@ movhi
1328:DMP/driver/eMPL/inv_mpu.c ****   case INV_FILTER_98HZ:
 5468              		.loc 1 1328 5 is_stmt 1 view .LVU1551
 5469              	.L405:
1350:DMP/driver/eMPL/inv_mpu.c **** }
 5470              		.loc 1 1350 3 view .LVU1552
1351:DMP/driver/eMPL/inv_mpu.c **** 
 5471              		.loc 1 1351 1 is_stmt 0 view .LVU1553
 5472 0018 0020     		movs	r0, #0
 5473              	.LVL361:
1351:DMP/driver/eMPL/inv_mpu.c **** 
 5474              		.loc 1 1351 1 view .LVU1554
 5475 001a 7047     		bx	lr
 5476              	.LVL362:
 5477              	.L403:
1330:DMP/driver/eMPL/inv_mpu.c ****     break;
 5478              		.loc 1 1330 5 is_stmt 1 view .LVU1555
1330:DMP/driver/eMPL/inv_mpu.c ****     break;
 5479              		.loc 1 1330 12 is_stmt 0 view .LVU1556
 5480 001c 6223     		movs	r3, #98
 5481 001e 0380     		strh	r3, [r0]	@ movhi
1331:DMP/driver/eMPL/inv_mpu.c ****   case INV_FILTER_42HZ:
 5482              		.loc 1 1331 5 is_stmt 1 view .LVU1557
 5483 0020 FAE7     		b	.L405
 5484              	.L402:
1333:DMP/driver/eMPL/inv_mpu.c ****     break;
 5485              		.loc 1 1333 5 view .LVU1558
1333:DMP/driver/eMPL/inv_mpu.c ****     break;
 5486              		.loc 1 1333 12 is_stmt 0 view .LVU1559
 5487 0022 2A23     		movs	r3, #42
 5488 0024 0380     		strh	r3, [r0]	@ movhi
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 162


1334:DMP/driver/eMPL/inv_mpu.c ****   case INV_FILTER_20HZ:
 5489              		.loc 1 1334 5 is_stmt 1 view .LVU1560
 5490 0026 F7E7     		b	.L405
 5491              	.L401:
1336:DMP/driver/eMPL/inv_mpu.c ****     break;
 5492              		.loc 1 1336 5 view .LVU1561
1336:DMP/driver/eMPL/inv_mpu.c ****     break;
 5493              		.loc 1 1336 12 is_stmt 0 view .LVU1562
 5494 0028 1423     		movs	r3, #20
 5495 002a 0380     		strh	r3, [r0]	@ movhi
1337:DMP/driver/eMPL/inv_mpu.c ****   case INV_FILTER_10HZ:
 5496              		.loc 1 1337 5 is_stmt 1 view .LVU1563
 5497 002c F4E7     		b	.L405
 5498              	.L400:
1339:DMP/driver/eMPL/inv_mpu.c ****     break;
 5499              		.loc 1 1339 5 view .LVU1564
1339:DMP/driver/eMPL/inv_mpu.c ****     break;
 5500              		.loc 1 1339 12 is_stmt 0 view .LVU1565
 5501 002e 0A23     		movs	r3, #10
 5502 0030 0380     		strh	r3, [r0]	@ movhi
1340:DMP/driver/eMPL/inv_mpu.c ****   case INV_FILTER_5HZ:
 5503              		.loc 1 1340 5 is_stmt 1 view .LVU1566
 5504 0032 F1E7     		b	.L405
 5505              	.L398:
1342:DMP/driver/eMPL/inv_mpu.c ****     break;
 5506              		.loc 1 1342 5 view .LVU1567
1342:DMP/driver/eMPL/inv_mpu.c ****     break;
 5507              		.loc 1 1342 12 is_stmt 0 view .LVU1568
 5508 0034 0523     		movs	r3, #5
 5509 0036 0380     		strh	r3, [r0]	@ movhi
1343:DMP/driver/eMPL/inv_mpu.c ****   case INV_FILTER_256HZ_NOLPF2:
 5510              		.loc 1 1343 5 is_stmt 1 view .LVU1569
 5511 0038 EEE7     		b	.L405
 5512              	.L397:
1347:DMP/driver/eMPL/inv_mpu.c ****     break;
 5513              		.loc 1 1347 5 view .LVU1570
1347:DMP/driver/eMPL/inv_mpu.c ****     break;
 5514              		.loc 1 1347 12 is_stmt 0 view .LVU1571
 5515 003a 0023     		movs	r3, #0
 5516 003c 0380     		strh	r3, [r0]	@ movhi
1348:DMP/driver/eMPL/inv_mpu.c ****   }
 5517              		.loc 1 1348 5 is_stmt 1 view .LVU1572
 5518 003e EBE7     		b	.L405
 5519              	.L407:
 5520              		.align	2
 5521              	.L406:
 5522 0040 00000000 		.word	st
 5523              		.cfi_endproc
 5524              	.LFE188:
 5526              		.section	.text.mpu_set_lpf,"ax",%progbits
 5527              		.align	1
 5528              		.global	mpu_set_lpf
 5529              		.syntax unified
 5530              		.thumb
 5531              		.thumb_func
 5533              	mpu_set_lpf:
 5534              	.LVL363:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 163


 5535              	.LFB189:
1359:DMP/driver/eMPL/inv_mpu.c ****   unsigned char data;
 5536              		.loc 1 1359 37 view -0
 5537              		.cfi_startproc
 5538              		@ args = 0, pretend = 0, frame = 8
 5539              		@ frame_needed = 0, uses_anonymous_args = 0
1360:DMP/driver/eMPL/inv_mpu.c **** 
 5540              		.loc 1 1360 3 view .LVU1574
1362:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 5541              		.loc 1 1362 3 view .LVU1575
1362:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 5542              		.loc 1 1362 20 is_stmt 0 view .LVU1576
 5543 0000 234B     		ldr	r3, .L423
 5544 0002 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
1362:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 5545              		.loc 1 1362 6 view .LVU1577
 5546 0004 002B     		cmp	r3, #0
 5547 0006 3AD0     		beq	.L416
1359:DMP/driver/eMPL/inv_mpu.c ****   unsigned char data;
 5548              		.loc 1 1359 37 view .LVU1578
 5549 0008 00B5     		push	{lr}
 5550              	.LCFI93:
 5551              		.cfi_def_cfa_offset 4
 5552              		.cfi_offset 14, -4
 5553 000a 83B0     		sub	sp, sp, #12
 5554              	.LCFI94:
 5555              		.cfi_def_cfa_offset 16
1365:DMP/driver/eMPL/inv_mpu.c ****     data = INV_FILTER_188HZ;
 5556              		.loc 1 1365 3 is_stmt 1 view .LVU1579
1365:DMP/driver/eMPL/inv_mpu.c ****     data = INV_FILTER_188HZ;
 5557              		.loc 1 1365 6 is_stmt 0 view .LVU1580
 5558 000c BB28     		cmp	r0, #187
 5559 000e 1AD9     		bls	.L410
1366:DMP/driver/eMPL/inv_mpu.c ****   else if (lpf >= 98)
 5560              		.loc 1 1366 5 is_stmt 1 view .LVU1581
1366:DMP/driver/eMPL/inv_mpu.c ****   else if (lpf >= 98)
 5561              		.loc 1 1366 10 is_stmt 0 view .LVU1582
 5562 0010 0123     		movs	r3, #1
 5563 0012 8DF80730 		strb	r3, [sp, #7]
 5564              	.L411:
1378:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 5565              		.loc 1 1378 3 is_stmt 1 view .LVU1583
1378:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 5566              		.loc 1 1378 18 is_stmt 0 view .LVU1584
 5567 0016 1E4B     		ldr	r3, .L423
 5568 0018 DA7A     		ldrb	r2, [r3, #11]	@ zero_extendqisi2
1378:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 5569              		.loc 1 1378 23 view .LVU1585
 5570 001a 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
1378:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 5571              		.loc 1 1378 6 view .LVU1586
 5572 001e 9A42     		cmp	r2, r3
 5573 0020 30D0     		beq	.L417
1380:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 5574              		.loc 1 1380 3 is_stmt 1 view .LVU1587
1380:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 5575              		.loc 1 1380 19 is_stmt 0 view .LVU1588
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 164


 5576 0022 1B4B     		ldr	r3, .L423
 5577 0024 5868     		ldr	r0, [r3, #4]
 5578              	.LVL364:
1380:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 5579              		.loc 1 1380 32 view .LVU1589
 5580 0026 1968     		ldr	r1, [r3]
1380:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 5581              		.loc 1 1380 7 view .LVU1590
 5582 0028 0DF10703 		add	r3, sp, #7
 5583 002c 0122     		movs	r2, #1
 5584 002e 8978     		ldrb	r1, [r1, #2]	@ zero_extendqisi2
 5585 0030 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 5586 0032 FFF7FEFF 		bl	MPU_Write_Len
 5587              	.LVL365:
1380:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 5588              		.loc 1 1380 6 view .LVU1591
 5589 0036 38BB     		cbnz	r0, .L418
1382:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 5590              		.loc 1 1382 3 is_stmt 1 view .LVU1592
1382:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 5591              		.loc 1 1382 19 is_stmt 0 view .LVU1593
 5592 0038 9DF80720 		ldrb	r2, [sp, #7]	@ zero_extendqisi2
 5593 003c 144B     		ldr	r3, .L423
 5594 003e DA72     		strb	r2, [r3, #11]
1383:DMP/driver/eMPL/inv_mpu.c **** }
 5595              		.loc 1 1383 3 is_stmt 1 view .LVU1594
 5596              	.L408:
1384:DMP/driver/eMPL/inv_mpu.c **** 
 5597              		.loc 1 1384 1 is_stmt 0 view .LVU1595
 5598 0040 03B0     		add	sp, sp, #12
 5599              	.LCFI95:
 5600              		.cfi_remember_state
 5601              		.cfi_def_cfa_offset 4
 5602              		@ sp needed
 5603 0042 5DF804FB 		ldr	pc, [sp], #4
 5604              	.LVL366:
 5605              	.L410:
 5606              	.LCFI96:
 5607              		.cfi_restore_state
1367:DMP/driver/eMPL/inv_mpu.c ****     data = INV_FILTER_98HZ;
 5608              		.loc 1 1367 8 is_stmt 1 view .LVU1596
1367:DMP/driver/eMPL/inv_mpu.c ****     data = INV_FILTER_98HZ;
 5609              		.loc 1 1367 11 is_stmt 0 view .LVU1597
 5610 0046 6128     		cmp	r0, #97
 5611 0048 03D9     		bls	.L412
1368:DMP/driver/eMPL/inv_mpu.c ****   else if (lpf >= 42)
 5612              		.loc 1 1368 5 is_stmt 1 view .LVU1598
1368:DMP/driver/eMPL/inv_mpu.c ****   else if (lpf >= 42)
 5613              		.loc 1 1368 10 is_stmt 0 view .LVU1599
 5614 004a 0223     		movs	r3, #2
 5615 004c 8DF80730 		strb	r3, [sp, #7]
 5616 0050 E1E7     		b	.L411
 5617              	.L412:
1369:DMP/driver/eMPL/inv_mpu.c ****     data = INV_FILTER_42HZ;
 5618              		.loc 1 1369 8 is_stmt 1 view .LVU1600
1369:DMP/driver/eMPL/inv_mpu.c ****     data = INV_FILTER_42HZ;
 5619              		.loc 1 1369 11 is_stmt 0 view .LVU1601
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 165


 5620 0052 2928     		cmp	r0, #41
 5621 0054 03D9     		bls	.L413
1370:DMP/driver/eMPL/inv_mpu.c ****   else if (lpf >= 20)
 5622              		.loc 1 1370 5 is_stmt 1 view .LVU1602
1370:DMP/driver/eMPL/inv_mpu.c ****   else if (lpf >= 20)
 5623              		.loc 1 1370 10 is_stmt 0 view .LVU1603
 5624 0056 0323     		movs	r3, #3
 5625 0058 8DF80730 		strb	r3, [sp, #7]
 5626 005c DBE7     		b	.L411
 5627              	.L413:
1371:DMP/driver/eMPL/inv_mpu.c ****     data = INV_FILTER_20HZ;
 5628              		.loc 1 1371 8 is_stmt 1 view .LVU1604
1371:DMP/driver/eMPL/inv_mpu.c ****     data = INV_FILTER_20HZ;
 5629              		.loc 1 1371 11 is_stmt 0 view .LVU1605
 5630 005e 1328     		cmp	r0, #19
 5631 0060 03D9     		bls	.L414
1372:DMP/driver/eMPL/inv_mpu.c ****   else if (lpf >= 10)
 5632              		.loc 1 1372 5 is_stmt 1 view .LVU1606
1372:DMP/driver/eMPL/inv_mpu.c ****   else if (lpf >= 10)
 5633              		.loc 1 1372 10 is_stmt 0 view .LVU1607
 5634 0062 0423     		movs	r3, #4
 5635 0064 8DF80730 		strb	r3, [sp, #7]
 5636 0068 D5E7     		b	.L411
 5637              	.L414:
1373:DMP/driver/eMPL/inv_mpu.c ****     data = INV_FILTER_10HZ;
 5638              		.loc 1 1373 8 is_stmt 1 view .LVU1608
1373:DMP/driver/eMPL/inv_mpu.c ****     data = INV_FILTER_10HZ;
 5639              		.loc 1 1373 11 is_stmt 0 view .LVU1609
 5640 006a 0928     		cmp	r0, #9
 5641 006c 03D9     		bls	.L415
1374:DMP/driver/eMPL/inv_mpu.c ****   else
 5642              		.loc 1 1374 5 is_stmt 1 view .LVU1610
1374:DMP/driver/eMPL/inv_mpu.c ****   else
 5643              		.loc 1 1374 10 is_stmt 0 view .LVU1611
 5644 006e 0523     		movs	r3, #5
 5645 0070 8DF80730 		strb	r3, [sp, #7]
 5646 0074 CFE7     		b	.L411
 5647              	.L415:
1376:DMP/driver/eMPL/inv_mpu.c **** 
 5648              		.loc 1 1376 5 is_stmt 1 view .LVU1612
1376:DMP/driver/eMPL/inv_mpu.c **** 
 5649              		.loc 1 1376 10 is_stmt 0 view .LVU1613
 5650 0076 0623     		movs	r3, #6
 5651 0078 8DF80730 		strb	r3, [sp, #7]
 5652 007c CBE7     		b	.L411
 5653              	.L416:
 5654              	.LCFI97:
 5655              		.cfi_def_cfa_offset 0
 5656              		.cfi_restore 14
1363:DMP/driver/eMPL/inv_mpu.c **** 
 5657              		.loc 1 1363 12 view .LVU1614
 5658 007e 4FF0FF30 		mov	r0, #-1
 5659              	.LVL367:
1384:DMP/driver/eMPL/inv_mpu.c **** 
 5660              		.loc 1 1384 1 view .LVU1615
 5661 0082 7047     		bx	lr
 5662              	.LVL368:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 166


 5663              	.L417:
 5664              	.LCFI98:
 5665              		.cfi_def_cfa_offset 16
 5666              		.cfi_offset 14, -4
1379:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->lpf, 1, &data))
 5667              		.loc 1 1379 12 view .LVU1616
 5668 0084 0020     		movs	r0, #0
 5669              	.LVL369:
1379:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->lpf, 1, &data))
 5670              		.loc 1 1379 12 view .LVU1617
 5671 0086 DBE7     		b	.L408
 5672              	.L418:
1381:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.lpf = data;
 5673              		.loc 1 1381 12 view .LVU1618
 5674 0088 4FF0FF30 		mov	r0, #-1
 5675 008c D8E7     		b	.L408
 5676              	.L424:
 5677 008e 00BF     		.align	2
 5678              	.L423:
 5679 0090 00000000 		.word	st
 5680              		.cfi_endproc
 5681              	.LFE189:
 5683              		.section	.text.mpu_get_sample_rate,"ax",%progbits
 5684              		.align	1
 5685              		.global	mpu_get_sample_rate
 5686              		.syntax unified
 5687              		.thumb
 5688              		.thumb_func
 5690              	mpu_get_sample_rate:
 5691              	.LVL370:
 5692              	.LFB190:
1391:DMP/driver/eMPL/inv_mpu.c ****   if (st.chip_cfg.dmp_on)
 5693              		.loc 1 1391 47 is_stmt 1 view -0
 5694              		.cfi_startproc
 5695              		@ args = 0, pretend = 0, frame = 0
 5696              		@ frame_needed = 0, uses_anonymous_args = 0
 5697              		@ link register save eliminated.
1392:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 5698              		.loc 1 1392 3 view .LVU1620
1392:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 5699              		.loc 1 1392 18 is_stmt 0 view .LVU1621
 5700 0000 054B     		ldr	r3, .L428
 5701 0002 93F82430 		ldrb	r3, [r3, #36]	@ zero_extendqisi2
1392:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 5702              		.loc 1 1392 6 view .LVU1622
 5703 0006 23B9     		cbnz	r3, .L427
1395:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 5704              		.loc 1 1395 5 is_stmt 1 view .LVU1623
1395:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 5705              		.loc 1 1395 26 is_stmt 0 view .LVU1624
 5706 0008 034B     		ldr	r3, .L428
 5707 000a DB89     		ldrh	r3, [r3, #14]
1395:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 5708              		.loc 1 1395 13 view .LVU1625
 5709 000c 0380     		strh	r3, [r0]	@ movhi
1396:DMP/driver/eMPL/inv_mpu.c **** }
 5710              		.loc 1 1396 3 is_stmt 1 view .LVU1626
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 167


1396:DMP/driver/eMPL/inv_mpu.c **** }
 5711              		.loc 1 1396 10 is_stmt 0 view .LVU1627
 5712 000e 0020     		movs	r0, #0
 5713              	.LVL371:
1396:DMP/driver/eMPL/inv_mpu.c **** }
 5714              		.loc 1 1396 10 view .LVU1628
 5715 0010 7047     		bx	lr
 5716              	.LVL372:
 5717              	.L427:
1393:DMP/driver/eMPL/inv_mpu.c ****   else
 5718              		.loc 1 1393 12 view .LVU1629
 5719 0012 4FF0FF30 		mov	r0, #-1
 5720              	.LVL373:
1397:DMP/driver/eMPL/inv_mpu.c **** 
 5721              		.loc 1 1397 1 view .LVU1630
 5722 0016 7047     		bx	lr
 5723              	.L429:
 5724              		.align	2
 5725              	.L428:
 5726 0018 00000000 		.word	st
 5727              		.cfi_endproc
 5728              	.LFE190:
 5730              		.section	.text.mpu_get_compass_sample_rate,"ax",%progbits
 5731              		.align	1
 5732              		.global	mpu_get_compass_sample_rate
 5733              		.syntax unified
 5734              		.thumb
 5735              		.thumb_func
 5737              	mpu_get_compass_sample_rate:
 5738              	.LVL374:
 5739              	.LFB192:
1452:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
 5740              		.loc 1 1452 55 is_stmt 1 view -0
 5741              		.cfi_startproc
 5742              		@ args = 0, pretend = 0, frame = 0
 5743              		@ frame_needed = 0, uses_anonymous_args = 0
 5744              		@ link register save eliminated.
1454:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 5745              		.loc 1 1454 3 view .LVU1632
1454:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 5746              		.loc 1 1454 24 is_stmt 0 view .LVU1633
 5747 0000 024B     		ldr	r3, .L431
 5748 0002 1B8D     		ldrh	r3, [r3, #40]
1454:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 5749              		.loc 1 1454 11 view .LVU1634
 5750 0004 0380     		strh	r3, [r0]	@ movhi
1455:DMP/driver/eMPL/inv_mpu.c **** #else
 5751              		.loc 1 1455 3 is_stmt 1 view .LVU1635
1460:DMP/driver/eMPL/inv_mpu.c **** 
 5752              		.loc 1 1460 1 is_stmt 0 view .LVU1636
 5753 0006 0020     		movs	r0, #0
 5754              	.LVL375:
1460:DMP/driver/eMPL/inv_mpu.c **** 
 5755              		.loc 1 1460 1 view .LVU1637
 5756 0008 7047     		bx	lr
 5757              	.L432:
 5758 000a 00BF     		.align	2
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 168


 5759              	.L431:
 5760 000c 00000000 		.word	st
 5761              		.cfi_endproc
 5762              	.LFE192:
 5764              		.section	.text.mpu_set_compass_sample_rate,"ax",%progbits
 5765              		.align	1
 5766              		.global	mpu_set_compass_sample_rate
 5767              		.syntax unified
 5768              		.thumb
 5769              		.thumb_func
 5771              	mpu_set_compass_sample_rate:
 5772              	.LVL376:
 5773              	.LFB193:
1473:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
 5774              		.loc 1 1473 54 is_stmt 1 view -0
 5775              		.cfi_startproc
 5776              		@ args = 0, pretend = 0, frame = 8
 5777              		@ frame_needed = 0, uses_anonymous_args = 0
1475:DMP/driver/eMPL/inv_mpu.c ****   if (!rate || rate > st.chip_cfg.sample_rate || rate > MAX_COMPASS_SAMPLE_RATE)
 5778              		.loc 1 1475 3 view .LVU1639
1476:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 5779              		.loc 1 1476 3 view .LVU1640
1476:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 5780              		.loc 1 1476 6 is_stmt 0 view .LVU1641
 5781 0000 18B3     		cbz	r0, .L435
1476:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 5782              		.loc 1 1476 34 discriminator 1 view .LVU1642
 5783 0002 184B     		ldr	r3, .L443
 5784 0004 DB89     		ldrh	r3, [r3, #14]
1476:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 5785              		.loc 1 1476 13 discriminator 1 view .LVU1643
 5786 0006 8342     		cmp	r3, r0
 5787 0008 22D3     		bcc	.L436
1476:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 5788              		.loc 1 1476 47 discriminator 2 view .LVU1644
 5789 000a 6428     		cmp	r0, #100
 5790 000c 23D8     		bhi	.L437
1473:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
 5791              		.loc 1 1473 54 view .LVU1645
 5792 000e 00B5     		push	{lr}
 5793              	.LCFI99:
 5794              		.cfi_def_cfa_offset 4
 5795              		.cfi_offset 14, -4
 5796 0010 83B0     		sub	sp, sp, #12
 5797              	.LCFI100:
 5798              		.cfi_def_cfa_offset 16
1479:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->s4_ctrl, 1, &div))
 5799              		.loc 1 1479 3 is_stmt 1 view .LVU1646
1479:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->s4_ctrl, 1, &div))
 5800              		.loc 1 1479 40 is_stmt 0 view .LVU1647
 5801 0012 B3FBF0F3 		udiv	r3, r3, r0
 5802 0016 013B     		subs	r3, r3, #1
1479:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->s4_ctrl, 1, &div))
 5803              		.loc 1 1479 7 view .LVU1648
 5804 0018 8DF80730 		strb	r3, [sp, #7]
1480:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 5805              		.loc 1 1480 3 is_stmt 1 view .LVU1649
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 169


1480:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 5806              		.loc 1 1480 19 is_stmt 0 view .LVU1650
 5807 001c 114B     		ldr	r3, .L443
 5808 001e 5868     		ldr	r0, [r3, #4]
 5809              	.LVL377:
1480:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 5810              		.loc 1 1480 32 view .LVU1651
 5811 0020 1968     		ldr	r1, [r3]
1480:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 5812              		.loc 1 1480 7 view .LVU1652
 5813 0022 0DF10703 		add	r3, sp, #7
 5814 0026 0122     		movs	r2, #1
 5815 0028 91F82410 		ldrb	r1, [r1, #36]	@ zero_extendqisi2
 5816 002c 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 5817 002e FFF7FEFF 		bl	MPU_Write_Len
 5818              	.LVL378:
1480:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 5819              		.loc 1 1480 6 view .LVU1653
 5820 0032 98B9     		cbnz	r0, .L438
1482:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 5821              		.loc 1 1482 3 is_stmt 1 view .LVU1654
1482:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 5822              		.loc 1 1482 48 is_stmt 0 view .LVU1655
 5823 0034 0B49     		ldr	r1, .L443
 5824 0036 CB89     		ldrh	r3, [r1, #14]
1482:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 5825              		.loc 1 1482 68 view .LVU1656
 5826 0038 9DF80720 		ldrb	r2, [sp, #7]	@ zero_extendqisi2
 5827 003c 0132     		adds	r2, r2, #1
1482:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 5828              		.loc 1 1482 61 view .LVU1657
 5829 003e 93FBF2F3 		sdiv	r3, r3, r2
1482:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 5830              		.loc 1 1482 35 view .LVU1658
 5831 0042 0B85     		strh	r3, [r1, #40]	@ movhi
1483:DMP/driver/eMPL/inv_mpu.c **** #else
 5832              		.loc 1 1483 3 is_stmt 1 view .LVU1659
 5833              	.L433:
1487:DMP/driver/eMPL/inv_mpu.c **** 
 5834              		.loc 1 1487 1 is_stmt 0 view .LVU1660
 5835 0044 03B0     		add	sp, sp, #12
 5836              	.LCFI101:
 5837              		.cfi_def_cfa_offset 4
 5838              		@ sp needed
 5839 0046 5DF804FB 		ldr	pc, [sp], #4
 5840              	.LVL379:
 5841              	.L435:
 5842              	.LCFI102:
 5843              		.cfi_def_cfa_offset 0
 5844              		.cfi_restore 14
1477:DMP/driver/eMPL/inv_mpu.c **** 
 5845              		.loc 1 1477 12 view .LVU1661
 5846 004a 4FF0FF30 		mov	r0, #-1
 5847              	.LVL380:
1477:DMP/driver/eMPL/inv_mpu.c **** 
 5848              		.loc 1 1477 12 view .LVU1662
 5849 004e 7047     		bx	lr
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 170


 5850              	.LVL381:
 5851              	.L436:
1477:DMP/driver/eMPL/inv_mpu.c **** 
 5852              		.loc 1 1477 12 view .LVU1663
 5853 0050 4FF0FF30 		mov	r0, #-1
 5854              	.LVL382:
1477:DMP/driver/eMPL/inv_mpu.c **** 
 5855              		.loc 1 1477 12 view .LVU1664
 5856 0054 7047     		bx	lr
 5857              	.LVL383:
 5858              	.L437:
1477:DMP/driver/eMPL/inv_mpu.c **** 
 5859              		.loc 1 1477 12 view .LVU1665
 5860 0056 4FF0FF30 		mov	r0, #-1
 5861              	.LVL384:
1487:DMP/driver/eMPL/inv_mpu.c **** 
 5862              		.loc 1 1487 1 view .LVU1666
 5863 005a 7047     		bx	lr
 5864              	.L438:
 5865              	.LCFI103:
 5866              		.cfi_def_cfa_offset 16
 5867              		.cfi_offset 14, -4
1481:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.compass_sample_rate = st.chip_cfg.sample_rate / (div + 1);
 5868              		.loc 1 1481 12 view .LVU1667
 5869 005c 4FF0FF30 		mov	r0, #-1
 5870 0060 F0E7     		b	.L433
 5871              	.L444:
 5872 0062 00BF     		.align	2
 5873              	.L443:
 5874 0064 00000000 		.word	st
 5875              		.cfi_endproc
 5876              	.LFE193:
 5878              		.section	.text.mpu_get_gyro_sens,"ax",%progbits
 5879              		.align	1
 5880              		.global	mpu_get_gyro_sens
 5881              		.syntax unified
 5882              		.thumb
 5883              		.thumb_func
 5885              	mpu_get_gyro_sens:
 5886              	.LVL385:
 5887              	.LFB194:
1494:DMP/driver/eMPL/inv_mpu.c ****   switch (st.chip_cfg.gyro_fsr) {
 5888              		.loc 1 1494 36 is_stmt 1 view -0
 5889              		.cfi_startproc
 5890              		@ args = 0, pretend = 0, frame = 0
 5891              		@ frame_needed = 0, uses_anonymous_args = 0
 5892              		@ link register save eliminated.
1495:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_250DPS:
 5893              		.loc 1 1495 3 view .LVU1669
1495:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_250DPS:
 5894              		.loc 1 1495 22 is_stmt 0 view .LVU1670
 5895 0000 0D4B     		ldr	r3, .L453
 5896 0002 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
1495:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_250DPS:
 5897              		.loc 1 1495 3 view .LVU1671
 5898 0004 032B     		cmp	r3, #3
 5899 0006 13D8     		bhi	.L452
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 171


 5900 0008 DFE803F0 		tbb	[pc, r3]
 5901              	.L448:
 5902 000c 02       		.byte	(.L451-.L448)/2
 5903 000d 06       		.byte	(.L450-.L448)/2
 5904 000e 0A       		.byte	(.L449-.L448)/2
 5905 000f 0E       		.byte	(.L447-.L448)/2
 5906              		.p2align 1
 5907              	.L451:
1497:DMP/driver/eMPL/inv_mpu.c ****     break;
 5908              		.loc 1 1497 5 is_stmt 1 view .LVU1672
1497:DMP/driver/eMPL/inv_mpu.c ****     break;
 5909              		.loc 1 1497 13 is_stmt 0 view .LVU1673
 5910 0010 0A4B     		ldr	r3, .L453+4
 5911 0012 0360     		str	r3, [r0]	@ float
1498:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_500DPS:
 5912              		.loc 1 1498 5 is_stmt 1 view .LVU1674
1511:DMP/driver/eMPL/inv_mpu.c **** }
 5913              		.loc 1 1511 10 is_stmt 0 view .LVU1675
 5914 0014 0020     		movs	r0, #0
 5915              	.LVL386:
1498:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_500DPS:
 5916              		.loc 1 1498 5 view .LVU1676
 5917 0016 7047     		bx	lr
 5918              	.LVL387:
 5919              	.L450:
1500:DMP/driver/eMPL/inv_mpu.c ****     break;
 5920              		.loc 1 1500 5 is_stmt 1 view .LVU1677
1500:DMP/driver/eMPL/inv_mpu.c ****     break;
 5921              		.loc 1 1500 13 is_stmt 0 view .LVU1678
 5922 0018 094B     		ldr	r3, .L453+8
 5923 001a 0360     		str	r3, [r0]	@ float
1501:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_1000DPS:
 5924              		.loc 1 1501 5 is_stmt 1 view .LVU1679
1511:DMP/driver/eMPL/inv_mpu.c **** }
 5925              		.loc 1 1511 10 is_stmt 0 view .LVU1680
 5926 001c 0020     		movs	r0, #0
 5927              	.LVL388:
1501:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_1000DPS:
 5928              		.loc 1 1501 5 view .LVU1681
 5929 001e 7047     		bx	lr
 5930              	.LVL389:
 5931              	.L449:
1503:DMP/driver/eMPL/inv_mpu.c ****     break;
 5932              		.loc 1 1503 5 is_stmt 1 view .LVU1682
1503:DMP/driver/eMPL/inv_mpu.c ****     break;
 5933              		.loc 1 1503 13 is_stmt 0 view .LVU1683
 5934 0020 084B     		ldr	r3, .L453+12
 5935 0022 0360     		str	r3, [r0]	@ float
1504:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_2000DPS:
 5936              		.loc 1 1504 5 is_stmt 1 view .LVU1684
1511:DMP/driver/eMPL/inv_mpu.c **** }
 5937              		.loc 1 1511 10 is_stmt 0 view .LVU1685
 5938 0024 0020     		movs	r0, #0
 5939              	.LVL390:
1504:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_2000DPS:
 5940              		.loc 1 1504 5 view .LVU1686
 5941 0026 7047     		bx	lr
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 172


 5942              	.LVL391:
 5943              	.L447:
1506:DMP/driver/eMPL/inv_mpu.c ****     break;
 5944              		.loc 1 1506 5 is_stmt 1 view .LVU1687
1506:DMP/driver/eMPL/inv_mpu.c ****     break;
 5945              		.loc 1 1506 13 is_stmt 0 view .LVU1688
 5946 0028 074B     		ldr	r3, .L453+16
 5947 002a 0360     		str	r3, [r0]	@ float
1507:DMP/driver/eMPL/inv_mpu.c ****   default:
 5948              		.loc 1 1507 5 is_stmt 1 view .LVU1689
1511:DMP/driver/eMPL/inv_mpu.c **** }
 5949              		.loc 1 1511 10 is_stmt 0 view .LVU1690
 5950 002c 0020     		movs	r0, #0
 5951              	.LVL392:
1507:DMP/driver/eMPL/inv_mpu.c ****   default:
 5952              		.loc 1 1507 5 view .LVU1691
 5953 002e 7047     		bx	lr
 5954              	.LVL393:
 5955              	.L452:
1495:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_250DPS:
 5956              		.loc 1 1495 3 view .LVU1692
 5957 0030 4FF0FF30 		mov	r0, #-1
 5958              	.LVL394:
1512:DMP/driver/eMPL/inv_mpu.c **** 
 5959              		.loc 1 1512 1 view .LVU1693
 5960 0034 7047     		bx	lr
 5961              	.L454:
 5962 0036 00BF     		.align	2
 5963              	.L453:
 5964 0038 00000000 		.word	st
 5965 003c 00000343 		.word	1124270080
 5966 0040 00008342 		.word	1115881472
 5967 0044 33330342 		.word	1107505971
 5968 0048 33338341 		.word	1099117363
 5969              		.cfi_endproc
 5970              	.LFE194:
 5972              		.section	.text.mpu_get_accel_sens,"ax",%progbits
 5973              		.align	1
 5974              		.global	mpu_get_accel_sens
 5975              		.syntax unified
 5976              		.thumb
 5977              		.thumb_func
 5979              	mpu_get_accel_sens:
 5980              	.LVL395:
 5981              	.LFB195:
1519:DMP/driver/eMPL/inv_mpu.c ****   switch (st.chip_cfg.accel_fsr) {
 5982              		.loc 1 1519 46 is_stmt 1 view -0
 5983              		.cfi_startproc
 5984              		@ args = 0, pretend = 0, frame = 0
 5985              		@ frame_needed = 0, uses_anonymous_args = 0
 5986              		@ link register save eliminated.
1520:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_2G:
 5987              		.loc 1 1520 3 view .LVU1695
1520:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_2G:
 5988              		.loc 1 1520 22 is_stmt 0 view .LVU1696
 5989 0000 114B     		ldr	r3, .L465
 5990 0002 5B7A     		ldrb	r3, [r3, #9]	@ zero_extendqisi2
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 173


1520:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_2G:
 5991              		.loc 1 1520 3 view .LVU1697
 5992 0004 032B     		cmp	r3, #3
 5993 0006 1AD8     		bhi	.L463
 5994 0008 DFE803F0 		tbb	[pc, r3]
 5995              	.L458:
 5996 000c 02       		.byte	(.L461-.L458)/2
 5997 000d 0D       		.byte	(.L460-.L458)/2
 5998 000e 11       		.byte	(.L459-.L458)/2
 5999 000f 15       		.byte	(.L457-.L458)/2
 6000              		.p2align 1
 6001              	.L461:
1522:DMP/driver/eMPL/inv_mpu.c ****     break;
 6002              		.loc 1 1522 5 is_stmt 1 view .LVU1698
1522:DMP/driver/eMPL/inv_mpu.c ****     break;
 6003              		.loc 1 1522 13 is_stmt 0 view .LVU1699
 6004 0010 4FF48043 		mov	r3, #16384
 6005 0014 0380     		strh	r3, [r0]	@ movhi
1523:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_4G:
 6006              		.loc 1 1523 5 is_stmt 1 view .LVU1700
 6007              	.L462:
1536:DMP/driver/eMPL/inv_mpu.c ****     sens[0] >>= 1;
 6008              		.loc 1 1536 3 view .LVU1701
1536:DMP/driver/eMPL/inv_mpu.c ****     sens[0] >>= 1;
 6009              		.loc 1 1536 18 is_stmt 0 view .LVU1702
 6010 0016 0C4B     		ldr	r3, .L465
 6011 0018 DB7C     		ldrb	r3, [r3, #19]	@ zero_extendqisi2
1536:DMP/driver/eMPL/inv_mpu.c ****     sens[0] >>= 1;
 6012              		.loc 1 1536 6 view .LVU1703
 6013 001a 9BB1     		cbz	r3, .L464
1537:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 6014              		.loc 1 1537 5 is_stmt 1 view .LVU1704
1537:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 6015              		.loc 1 1537 9 is_stmt 0 view .LVU1705
 6016 001c 0388     		ldrh	r3, [r0]
1537:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 6017              		.loc 1 1537 13 view .LVU1706
 6018 001e 5B08     		lsrs	r3, r3, #1
 6019 0020 0380     		strh	r3, [r0]	@ movhi
1538:DMP/driver/eMPL/inv_mpu.c **** }
 6020              		.loc 1 1538 10 view .LVU1707
 6021 0022 0020     		movs	r0, #0
 6022              	.LVL396:
1538:DMP/driver/eMPL/inv_mpu.c **** }
 6023              		.loc 1 1538 10 view .LVU1708
 6024 0024 7047     		bx	lr
 6025              	.LVL397:
 6026              	.L460:
1525:DMP/driver/eMPL/inv_mpu.c ****     break;
 6027              		.loc 1 1525 5 is_stmt 1 view .LVU1709
1525:DMP/driver/eMPL/inv_mpu.c ****     break;
 6028              		.loc 1 1525 13 is_stmt 0 view .LVU1710
 6029 0026 4FF40053 		mov	r3, #8192
 6030 002a 0380     		strh	r3, [r0]	@ movhi
1526:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_8G:
 6031              		.loc 1 1526 5 is_stmt 1 view .LVU1711
 6032 002c F3E7     		b	.L462
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 174


 6033              	.L459:
1528:DMP/driver/eMPL/inv_mpu.c ****     break;
 6034              		.loc 1 1528 5 view .LVU1712
1528:DMP/driver/eMPL/inv_mpu.c ****     break;
 6035              		.loc 1 1528 13 is_stmt 0 view .LVU1713
 6036 002e 4FF48053 		mov	r3, #4096
 6037 0032 0380     		strh	r3, [r0]	@ movhi
1529:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_16G:
 6038              		.loc 1 1529 5 is_stmt 1 view .LVU1714
 6039 0034 EFE7     		b	.L462
 6040              	.L457:
1531:DMP/driver/eMPL/inv_mpu.c ****     break;
 6041              		.loc 1 1531 5 view .LVU1715
1531:DMP/driver/eMPL/inv_mpu.c ****     break;
 6042              		.loc 1 1531 13 is_stmt 0 view .LVU1716
 6043 0036 4FF40063 		mov	r3, #2048
 6044 003a 0380     		strh	r3, [r0]	@ movhi
1532:DMP/driver/eMPL/inv_mpu.c ****   default:
 6045              		.loc 1 1532 5 is_stmt 1 view .LVU1717
 6046 003c EBE7     		b	.L462
 6047              	.L463:
1520:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_2G:
 6048              		.loc 1 1520 3 is_stmt 0 view .LVU1718
 6049 003e 4FF0FF30 		mov	r0, #-1
 6050              	.LVL398:
1520:DMP/driver/eMPL/inv_mpu.c ****   case INV_FSR_2G:
 6051              		.loc 1 1520 3 view .LVU1719
 6052 0042 7047     		bx	lr
 6053              	.LVL399:
 6054              	.L464:
1538:DMP/driver/eMPL/inv_mpu.c **** }
 6055              		.loc 1 1538 10 view .LVU1720
 6056 0044 0020     		movs	r0, #0
 6057              	.LVL400:
1539:DMP/driver/eMPL/inv_mpu.c **** 
 6058              		.loc 1 1539 1 view .LVU1721
 6059 0046 7047     		bx	lr
 6060              	.L466:
 6061              		.align	2
 6062              	.L465:
 6063 0048 00000000 		.word	st
 6064              		.cfi_endproc
 6065              	.LFE195:
 6067              		.section	.text.mpu_get_fifo_config,"ax",%progbits
 6068              		.align	1
 6069              		.global	mpu_get_fifo_config
 6070              		.syntax unified
 6071              		.thumb
 6072              		.thumb_func
 6074              	mpu_get_fifo_config:
 6075              	.LVL401:
 6076              	.LFB196:
1550:DMP/driver/eMPL/inv_mpu.c ****   sensors[0] = st.chip_cfg.fifo_enable;
 6077              		.loc 1 1550 49 is_stmt 1 view -0
 6078              		.cfi_startproc
 6079              		@ args = 0, pretend = 0, frame = 0
 6080              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 175


 6081              		@ link register save eliminated.
1551:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 6082              		.loc 1 1551 3 view .LVU1723
1551:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 6083              		.loc 1 1551 27 is_stmt 0 view .LVU1724
 6084 0000 024B     		ldr	r3, .L468
 6085 0002 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
1551:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 6086              		.loc 1 1551 14 view .LVU1725
 6087 0004 0370     		strb	r3, [r0]
1552:DMP/driver/eMPL/inv_mpu.c **** }
 6088              		.loc 1 1552 3 is_stmt 1 view .LVU1726
1553:DMP/driver/eMPL/inv_mpu.c **** 
 6089              		.loc 1 1553 1 is_stmt 0 view .LVU1727
 6090 0006 0020     		movs	r0, #0
 6091              	.LVL402:
1553:DMP/driver/eMPL/inv_mpu.c **** 
 6092              		.loc 1 1553 1 view .LVU1728
 6093 0008 7047     		bx	lr
 6094              	.L469:
 6095 000a 00BF     		.align	2
 6096              	.L468:
 6097 000c 00000000 		.word	st
 6098              		.cfi_endproc
 6099              	.LFE196:
 6101              		.section	.text.mpu_configure_fifo,"ax",%progbits
 6102              		.align	1
 6103              		.global	mpu_configure_fifo
 6104              		.syntax unified
 6105              		.thumb
 6106              		.thumb_func
 6108              	mpu_configure_fifo:
 6109              	.LVL403:
 6110              	.LFB197:
1564:DMP/driver/eMPL/inv_mpu.c ****   unsigned char prev;
 6111              		.loc 1 1564 47 is_stmt 1 view -0
 6112              		.cfi_startproc
 6113              		@ args = 0, pretend = 0, frame = 0
 6114              		@ frame_needed = 0, uses_anonymous_args = 0
1564:DMP/driver/eMPL/inv_mpu.c ****   unsigned char prev;
 6115              		.loc 1 1564 47 is_stmt 0 view .LVU1730
 6116 0000 70B5     		push	{r4, r5, r6, lr}
 6117              	.LCFI104:
 6118              		.cfi_def_cfa_offset 16
 6119              		.cfi_offset 4, -16
 6120              		.cfi_offset 5, -12
 6121              		.cfi_offset 6, -8
 6122              		.cfi_offset 14, -4
1565:DMP/driver/eMPL/inv_mpu.c ****   int result = 0;
 6123              		.loc 1 1565 3 is_stmt 1 view .LVU1731
1566:DMP/driver/eMPL/inv_mpu.c **** 
 6124              		.loc 1 1566 3 view .LVU1732
 6125              	.LVL404:
1569:DMP/driver/eMPL/inv_mpu.c **** 
 6126              		.loc 1 1569 3 view .LVU1733
1571:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 6127              		.loc 1 1571 3 view .LVU1734
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 176


1571:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 6128              		.loc 1 1571 18 is_stmt 0 view .LVU1735
 6129 0002 174B     		ldr	r3, .L481
 6130 0004 93F82430 		ldrb	r3, [r3, #36]	@ zero_extendqisi2
1571:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 6131              		.loc 1 1571 6 view .LVU1736
 6132 0008 2BBB     		cbnz	r3, .L476
 6133 000a 00F0FE04 		and	r4, r0, #254
1574:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 6134              		.loc 1 1574 5 is_stmt 1 view .LVU1737
1574:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 6135              		.loc 1 1574 22 is_stmt 0 view .LVU1738
 6136 000e 144B     		ldr	r3, .L481
 6137 0010 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
1574:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 6138              		.loc 1 1574 8 view .LVU1739
 6139 0012 13B3     		cbz	r3, .L477
1576:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.fifo_enable = sensors & st.chip_cfg.sensors;
 6140              		.loc 1 1576 5 is_stmt 1 view .LVU1740
1576:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.fifo_enable = sensors & st.chip_cfg.sensors;
 6141              		.loc 1 1576 10 is_stmt 0 view .LVU1741
 6142 0014 124A     		ldr	r2, .L481
 6143 0016 167C     		ldrb	r6, [r2, #16]	@ zero_extendqisi2
 6144              	.LVL405:
1577:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.fifo_enable != sensors)
 6145              		.loc 1 1577 5 is_stmt 1 view .LVU1742
1577:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.fifo_enable != sensors)
 6146              		.loc 1 1577 29 is_stmt 0 view .LVU1743
 6147 0018 2340     		ands	r3, r3, r4
 6148 001a 1374     		strb	r3, [r2, #16]
1578:DMP/driver/eMPL/inv_mpu.c ****       /* You're not getting what you asked for. Some sensors are
 6149              		.loc 1 1578 5 is_stmt 1 view .LVU1744
1578:DMP/driver/eMPL/inv_mpu.c ****       /* You're not getting what you asked for. Some sensors are
 6150              		.loc 1 1578 8 is_stmt 0 view .LVU1745
 6151 001c A342     		cmp	r3, r4
 6152 001e 0BD0     		beq	.L478
1582:DMP/driver/eMPL/inv_mpu.c ****     else
 6153              		.loc 1 1582 14 view .LVU1746
 6154 0020 4FF0FF35 		mov	r5, #-1
 6155              	.L472:
 6156              	.LVL406:
1585:DMP/driver/eMPL/inv_mpu.c ****       set_int_enable(1);
 6157              		.loc 1 1585 5 is_stmt 1 view .LVU1747
1585:DMP/driver/eMPL/inv_mpu.c ****       set_int_enable(1);
 6158              		.loc 1 1585 8 is_stmt 0 view .LVU1748
 6159 0024 14B9     		cbnz	r4, .L473
1585:DMP/driver/eMPL/inv_mpu.c ****       set_int_enable(1);
 6160              		.loc 1 1585 31 discriminator 1 view .LVU1749
 6161 0026 0E4B     		ldr	r3, .L481
 6162 0028 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
1585:DMP/driver/eMPL/inv_mpu.c ****       set_int_enable(1);
 6163              		.loc 1 1585 17 discriminator 1 view .LVU1750
 6164 002a 3BB1     		cbz	r3, .L474
 6165              	.L473:
1586:DMP/driver/eMPL/inv_mpu.c ****     else
 6166              		.loc 1 1586 7 is_stmt 1 view .LVU1751
 6167 002c 0120     		movs	r0, #1
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 177


 6168              	.LVL407:
1586:DMP/driver/eMPL/inv_mpu.c ****     else
 6169              		.loc 1 1586 7 is_stmt 0 view .LVU1752
 6170 002e FFF7FEFF 		bl	set_int_enable
 6171              	.LVL408:
 6172              	.L475:
1589:DMP/driver/eMPL/inv_mpu.c ****       if (mpu_reset_fifo()) {
 6173              		.loc 1 1589 5 is_stmt 1 view .LVU1753
1589:DMP/driver/eMPL/inv_mpu.c ****       if (mpu_reset_fifo()) {
 6174              		.loc 1 1589 8 is_stmt 0 view .LVU1754
 6175 0032 3CB9     		cbnz	r4, .L480
 6176              	.LVL409:
 6177              	.L470:
1598:DMP/driver/eMPL/inv_mpu.c **** 
 6178              		.loc 1 1598 1 view .LVU1755
 6179 0034 2846     		mov	r0, r5
 6180 0036 70BD     		pop	{r4, r5, r6, pc}
 6181              	.LVL410:
 6182              	.L478:
1584:DMP/driver/eMPL/inv_mpu.c ****     if (sensors || st.chip_cfg.lp_accel_mode)
 6183              		.loc 1 1584 14 view .LVU1756
 6184 0038 0025     		movs	r5, #0
 6185 003a F3E7     		b	.L472
 6186              	.LVL411:
 6187              	.L474:
1588:DMP/driver/eMPL/inv_mpu.c ****     if (sensors) {
 6188              		.loc 1 1588 7 is_stmt 1 view .LVU1757
 6189 003c 0020     		movs	r0, #0
 6190              	.LVL412:
1588:DMP/driver/eMPL/inv_mpu.c ****     if (sensors) {
 6191              		.loc 1 1588 7 is_stmt 0 view .LVU1758
 6192 003e FFF7FEFF 		bl	set_int_enable
 6193              	.LVL413:
 6194 0042 F6E7     		b	.L475
 6195              	.L480:
1590:DMP/driver/eMPL/inv_mpu.c ****         st.chip_cfg.fifo_enable = prev;
 6196              		.loc 1 1590 7 is_stmt 1 view .LVU1759
1590:DMP/driver/eMPL/inv_mpu.c ****         st.chip_cfg.fifo_enable = prev;
 6197              		.loc 1 1590 11 is_stmt 0 view .LVU1760
 6198 0044 FFF7FEFF 		bl	mpu_reset_fifo
 6199              	.LVL414:
1590:DMP/driver/eMPL/inv_mpu.c ****         st.chip_cfg.fifo_enable = prev;
 6200              		.loc 1 1590 10 view .LVU1761
 6201 0048 0028     		cmp	r0, #0
 6202 004a F3D0     		beq	.L470
1591:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 6203              		.loc 1 1591 9 is_stmt 1 view .LVU1762
1591:DMP/driver/eMPL/inv_mpu.c ****         return -1;
 6204              		.loc 1 1591 33 is_stmt 0 view .LVU1763
 6205 004c 044B     		ldr	r3, .L481
 6206 004e 1E74     		strb	r6, [r3, #16]
1592:DMP/driver/eMPL/inv_mpu.c ****       }
 6207              		.loc 1 1592 9 is_stmt 1 view .LVU1764
1592:DMP/driver/eMPL/inv_mpu.c ****       }
 6208              		.loc 1 1592 16 is_stmt 0 view .LVU1765
 6209 0050 4FF0FF35 		mov	r5, #-1
 6210              	.LVL415:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 178


1592:DMP/driver/eMPL/inv_mpu.c ****       }
 6211              		.loc 1 1592 16 view .LVU1766
 6212 0054 EEE7     		b	.L470
 6213              	.LVL416:
 6214              	.L476:
1572:DMP/driver/eMPL/inv_mpu.c ****   else {
 6215              		.loc 1 1572 12 view .LVU1767
 6216 0056 0025     		movs	r5, #0
 6217 0058 ECE7     		b	.L470
 6218              	.L477:
1575:DMP/driver/eMPL/inv_mpu.c ****     prev = st.chip_cfg.fifo_enable;
 6219              		.loc 1 1575 14 view .LVU1768
 6220 005a 4FF0FF35 		mov	r5, #-1
 6221 005e E9E7     		b	.L470
 6222              	.L482:
 6223              		.align	2
 6224              	.L481:
 6225 0060 00000000 		.word	st
 6226              		.cfi_endproc
 6227              	.LFE197:
 6229              		.section	.text.mpu_get_power_state,"ax",%progbits
 6230              		.align	1
 6231              		.global	mpu_get_power_state
 6232              		.syntax unified
 6233              		.thumb
 6234              		.thumb_func
 6236              	mpu_get_power_state:
 6237              	.LVL417:
 6238              	.LFB198:
1605:DMP/driver/eMPL/inv_mpu.c ****   if (st.chip_cfg.sensors)
 6239              		.loc 1 1605 50 is_stmt 1 view -0
 6240              		.cfi_startproc
 6241              		@ args = 0, pretend = 0, frame = 0
 6242              		@ frame_needed = 0, uses_anonymous_args = 0
 6243              		@ link register save eliminated.
1606:DMP/driver/eMPL/inv_mpu.c ****     power_on[0] = 1;
 6244              		.loc 1 1606 3 view .LVU1770
1606:DMP/driver/eMPL/inv_mpu.c ****     power_on[0] = 1;
 6245              		.loc 1 1606 18 is_stmt 0 view .LVU1771
 6246 0000 044B     		ldr	r3, .L486
 6247 0002 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
1606:DMP/driver/eMPL/inv_mpu.c ****     power_on[0] = 1;
 6248              		.loc 1 1606 6 view .LVU1772
 6249 0004 1BB1     		cbz	r3, .L484
1607:DMP/driver/eMPL/inv_mpu.c ****   else
 6250              		.loc 1 1607 5 is_stmt 1 view .LVU1773
1607:DMP/driver/eMPL/inv_mpu.c ****   else
 6251              		.loc 1 1607 17 is_stmt 0 view .LVU1774
 6252 0006 0123     		movs	r3, #1
 6253 0008 0370     		strb	r3, [r0]
 6254              	.L485:
1610:DMP/driver/eMPL/inv_mpu.c **** }
 6255              		.loc 1 1610 3 is_stmt 1 view .LVU1775
1611:DMP/driver/eMPL/inv_mpu.c **** 
 6256              		.loc 1 1611 1 is_stmt 0 view .LVU1776
 6257 000a 0020     		movs	r0, #0
 6258              	.LVL418:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 179


1611:DMP/driver/eMPL/inv_mpu.c **** 
 6259              		.loc 1 1611 1 view .LVU1777
 6260 000c 7047     		bx	lr
 6261              	.LVL419:
 6262              	.L484:
1609:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 6263              		.loc 1 1609 5 is_stmt 1 view .LVU1778
1609:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 6264              		.loc 1 1609 17 is_stmt 0 view .LVU1779
 6265 000e 0023     		movs	r3, #0
 6266 0010 0370     		strb	r3, [r0]
 6267 0012 FAE7     		b	.L485
 6268              	.L487:
 6269              		.align	2
 6270              	.L486:
 6271 0014 00000000 		.word	st
 6272              		.cfi_endproc
 6273              	.LFE198:
 6275              		.section	.text.mpu_get_int_status,"ax",%progbits
 6276              		.align	1
 6277              		.global	mpu_get_int_status
 6278              		.syntax unified
 6279              		.thumb
 6280              		.thumb_func
 6282              	mpu_get_int_status:
 6283              	.LVL420:
 6284              	.LFB200:
1699:DMP/driver/eMPL/inv_mpu.c ****   unsigned char tmp[2];
 6285              		.loc 1 1699 39 is_stmt 1 view -0
 6286              		.cfi_startproc
 6287              		@ args = 0, pretend = 0, frame = 8
 6288              		@ frame_needed = 0, uses_anonymous_args = 0
1700:DMP/driver/eMPL/inv_mpu.c ****   if (!st.chip_cfg.sensors)
 6289              		.loc 1 1700 3 view .LVU1781
1701:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 6290              		.loc 1 1701 3 view .LVU1782
1701:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 6291              		.loc 1 1701 19 is_stmt 0 view .LVU1783
 6292 0000 0F4B     		ldr	r3, .L496
 6293 0002 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
1701:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 6294              		.loc 1 1701 6 view .LVU1784
 6295 0004 ABB1     		cbz	r3, .L490
1699:DMP/driver/eMPL/inv_mpu.c ****   unsigned char tmp[2];
 6296              		.loc 1 1699 39 view .LVU1785
 6297 0006 10B5     		push	{r4, lr}
 6298              	.LCFI105:
 6299              		.cfi_def_cfa_offset 8
 6300              		.cfi_offset 4, -8
 6301              		.cfi_offset 14, -4
 6302 0008 82B0     		sub	sp, sp, #8
 6303              	.LCFI106:
 6304              		.cfi_def_cfa_offset 16
 6305 000a 0446     		mov	r4, r0
1703:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 6306              		.loc 1 1703 3 is_stmt 1 view .LVU1786
1703:DMP/driver/eMPL/inv_mpu.c ****     return -1;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 180


 6307              		.loc 1 1703 18 is_stmt 0 view .LVU1787
 6308 000c 0C4B     		ldr	r3, .L496
 6309 000e 5868     		ldr	r0, [r3, #4]
 6310              	.LVL421:
1703:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 6311              		.loc 1 1703 31 view .LVU1788
 6312 0010 1968     		ldr	r1, [r3]
1703:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 6313              		.loc 1 1703 7 view .LVU1789
 6314 0012 01AB     		add	r3, sp, #4
 6315 0014 0222     		movs	r2, #2
 6316 0016 897C     		ldrb	r1, [r1, #18]	@ zero_extendqisi2
 6317 0018 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 6318 001a FFF7FEFF 		bl	MPU_Read_Len
 6319              	.LVL422:
1703:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 6320              		.loc 1 1703 6 view .LVU1790
 6321 001e 58B9     		cbnz	r0, .L491
1705:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 6322              		.loc 1 1705 3 is_stmt 1 view .LVU1791
1705:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 6323              		.loc 1 1705 19 is_stmt 0 view .LVU1792
 6324 0020 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
1705:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 6325              		.loc 1 1705 34 view .LVU1793
 6326 0024 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
1705:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 6327              		.loc 1 1705 29 view .LVU1794
 6328 0028 43EA0223 		orr	r3, r3, r2, lsl #8
1705:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 6329              		.loc 1 1705 13 view .LVU1795
 6330 002c 2380     		strh	r3, [r4]	@ movhi
1706:DMP/driver/eMPL/inv_mpu.c **** }
 6331              		.loc 1 1706 3 is_stmt 1 view .LVU1796
 6332              	.L488:
1707:DMP/driver/eMPL/inv_mpu.c **** 
 6333              		.loc 1 1707 1 is_stmt 0 view .LVU1797
 6334 002e 02B0     		add	sp, sp, #8
 6335              	.LCFI107:
 6336              		.cfi_def_cfa_offset 8
 6337              		@ sp needed
 6338 0030 10BD     		pop	{r4, pc}
 6339              	.LVL423:
 6340              	.L490:
 6341              	.LCFI108:
 6342              		.cfi_def_cfa_offset 0
 6343              		.cfi_restore 4
 6344              		.cfi_restore 14
1702:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_read(st.hw->addr, st.reg->dmp_int_status, 2, tmp))
 6345              		.loc 1 1702 12 view .LVU1798
 6346 0032 4FF0FF30 		mov	r0, #-1
 6347              	.LVL424:
1707:DMP/driver/eMPL/inv_mpu.c **** 
 6348              		.loc 1 1707 1 view .LVU1799
 6349 0036 7047     		bx	lr
 6350              	.LVL425:
 6351              	.L491:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 181


 6352              	.LCFI109:
 6353              		.cfi_def_cfa_offset 16
 6354              		.cfi_offset 4, -8
 6355              		.cfi_offset 14, -4
1704:DMP/driver/eMPL/inv_mpu.c ****   status[0] = (tmp[0] << 8) | tmp[1];
 6356              		.loc 1 1704 12 view .LVU1800
 6357 0038 4FF0FF30 		mov	r0, #-1
 6358 003c F7E7     		b	.L488
 6359              	.L497:
 6360 003e 00BF     		.align	2
 6361              	.L496:
 6362 0040 00000000 		.word	st
 6363              		.cfi_endproc
 6364              	.LFE200:
 6366              		.section	.text.mpu_read_fifo,"ax",%progbits
 6367              		.align	1
 6368              		.global	mpu_read_fifo
 6369              		.syntax unified
 6370              		.thumb
 6371              		.thumb_func
 6373              	mpu_read_fifo:
 6374              	.LVL426:
 6375              	.LFB201:
1728:DMP/driver/eMPL/inv_mpu.c ****   /* Assumes maximum packet size is gyro (6) + accel (6). */
 6376              		.loc 1 1728 64 is_stmt 1 view -0
 6377              		.cfi_startproc
 6378              		@ args = 4, pretend = 0, frame = 16
 6379              		@ frame_needed = 0, uses_anonymous_args = 0
1728:DMP/driver/eMPL/inv_mpu.c ****   /* Assumes maximum packet size is gyro (6) + accel (6). */
 6380              		.loc 1 1728 64 is_stmt 0 view .LVU1802
 6381 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 6382              	.LCFI110:
 6383              		.cfi_def_cfa_offset 28
 6384              		.cfi_offset 4, -28
 6385              		.cfi_offset 5, -24
 6386              		.cfi_offset 6, -20
 6387              		.cfi_offset 7, -16
 6388              		.cfi_offset 8, -12
 6389              		.cfi_offset 9, -8
 6390              		.cfi_offset 14, -4
 6391 0004 85B0     		sub	sp, sp, #20
 6392              	.LCFI111:
 6393              		.cfi_def_cfa_offset 48
 6394 0006 1E46     		mov	r6, r3
1730:DMP/driver/eMPL/inv_mpu.c ****   unsigned char packet_size = 0;
 6395              		.loc 1 1730 3 is_stmt 1 view .LVU1803
1731:DMP/driver/eMPL/inv_mpu.c ****   unsigned short fifo_count, index = 0;
 6396              		.loc 1 1731 3 view .LVU1804
 6397              	.LVL427:
1732:DMP/driver/eMPL/inv_mpu.c **** 
 6398              		.loc 1 1732 3 view .LVU1805
1734:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 6399              		.loc 1 1734 3 view .LVU1806
1734:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 6400              		.loc 1 1734 18 is_stmt 0 view .LVU1807
 6401 0008 7C4B     		ldr	r3, .L522
 6402              	.LVL428:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 182


1734:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 6403              		.loc 1 1734 18 view .LVU1808
 6404 000a 93F82430 		ldrb	r3, [r3, #36]	@ zero_extendqisi2
1734:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 6405              		.loc 1 1734 6 view .LVU1809
 6406 000e 002B     		cmp	r3, #0
 6407 0010 40F0D980 		bne	.L508
 6408 0014 0746     		mov	r7, r0
 6409 0016 8846     		mov	r8, r1
1737:DMP/driver/eMPL/inv_mpu.c ****   if (!st.chip_cfg.sensors)
 6410              		.loc 1 1737 3 is_stmt 1 view .LVU1810
1737:DMP/driver/eMPL/inv_mpu.c ****   if (!st.chip_cfg.sensors)
 6411              		.loc 1 1737 14 is_stmt 0 view .LVU1811
 6412 0018 3370     		strb	r3, [r6]
1738:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 6413              		.loc 1 1738 3 is_stmt 1 view .LVU1812
1738:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 6414              		.loc 1 1738 19 is_stmt 0 view .LVU1813
 6415 001a 784B     		ldr	r3, .L522
 6416 001c 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
1738:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 6417              		.loc 1 1738 6 view .LVU1814
 6418 001e 002B     		cmp	r3, #0
 6419 0020 00F0D480 		beq	.L509
1740:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 6420              		.loc 1 1740 3 is_stmt 1 view .LVU1815
1740:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 6421              		.loc 1 1740 19 is_stmt 0 view .LVU1816
 6422 0024 754B     		ldr	r3, .L522
 6423 0026 1A7C     		ldrb	r2, [r3, #16]	@ zero_extendqisi2
 6424              	.LVL429:
1740:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 6425              		.loc 1 1740 6 view .LVU1817
 6426 0028 002A     		cmp	r2, #0
 6427 002a 00F0D280 		beq	.L510
1743:DMP/driver/eMPL/inv_mpu.c ****     packet_size += 2;
 6428              		.loc 1 1743 3 is_stmt 1 view .LVU1818
1743:DMP/driver/eMPL/inv_mpu.c ****     packet_size += 2;
 6429              		.loc 1 1743 6 is_stmt 0 view .LVU1819
 6430 002e 12F04004 		ands	r4, r2, #64
 6431 0032 00D0     		beq	.L500
1744:DMP/driver/eMPL/inv_mpu.c ****   if (st.chip_cfg.fifo_enable & INV_Y_GYRO)
 6432              		.loc 1 1744 17 view .LVU1820
 6433 0034 0224     		movs	r4, #2
 6434              	.L500:
 6435              	.LVL430:
1745:DMP/driver/eMPL/inv_mpu.c ****     packet_size += 2;
 6436              		.loc 1 1745 3 is_stmt 1 view .LVU1821
1745:DMP/driver/eMPL/inv_mpu.c ****     packet_size += 2;
 6437              		.loc 1 1745 6 is_stmt 0 view .LVU1822
 6438 0036 12F0200F 		tst	r2, #32
 6439 003a 01D0     		beq	.L501
1746:DMP/driver/eMPL/inv_mpu.c ****   if (st.chip_cfg.fifo_enable & INV_Z_GYRO)
 6440              		.loc 1 1746 5 is_stmt 1 view .LVU1823
1746:DMP/driver/eMPL/inv_mpu.c ****   if (st.chip_cfg.fifo_enable & INV_Z_GYRO)
 6441              		.loc 1 1746 17 is_stmt 0 view .LVU1824
 6442 003c 0234     		adds	r4, r4, #2
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 183


 6443              	.LVL431:
1746:DMP/driver/eMPL/inv_mpu.c ****   if (st.chip_cfg.fifo_enable & INV_Z_GYRO)
 6444              		.loc 1 1746 17 view .LVU1825
 6445 003e E4B2     		uxtb	r4, r4
 6446              	.LVL432:
 6447              	.L501:
1747:DMP/driver/eMPL/inv_mpu.c ****     packet_size += 2;
 6448              		.loc 1 1747 3 is_stmt 1 view .LVU1826
1747:DMP/driver/eMPL/inv_mpu.c ****     packet_size += 2;
 6449              		.loc 1 1747 6 is_stmt 0 view .LVU1827
 6450 0040 12F0100F 		tst	r2, #16
 6451 0044 01D0     		beq	.L502
1748:DMP/driver/eMPL/inv_mpu.c ****   if (st.chip_cfg.fifo_enable & INV_XYZ_ACCEL)
 6452              		.loc 1 1748 5 is_stmt 1 view .LVU1828
1748:DMP/driver/eMPL/inv_mpu.c ****   if (st.chip_cfg.fifo_enable & INV_XYZ_ACCEL)
 6453              		.loc 1 1748 17 is_stmt 0 view .LVU1829
 6454 0046 0234     		adds	r4, r4, #2
 6455              	.LVL433:
1748:DMP/driver/eMPL/inv_mpu.c ****   if (st.chip_cfg.fifo_enable & INV_XYZ_ACCEL)
 6456              		.loc 1 1748 17 view .LVU1830
 6457 0048 E4B2     		uxtb	r4, r4
 6458              	.LVL434:
 6459              	.L502:
1749:DMP/driver/eMPL/inv_mpu.c ****     packet_size += 6;
 6460              		.loc 1 1749 3 is_stmt 1 view .LVU1831
1749:DMP/driver/eMPL/inv_mpu.c ****     packet_size += 6;
 6461              		.loc 1 1749 6 is_stmt 0 view .LVU1832
 6462 004a 12F0080F 		tst	r2, #8
 6463 004e 01D0     		beq	.L503
1750:DMP/driver/eMPL/inv_mpu.c **** 
 6464              		.loc 1 1750 5 is_stmt 1 view .LVU1833
1750:DMP/driver/eMPL/inv_mpu.c **** 
 6465              		.loc 1 1750 17 is_stmt 0 view .LVU1834
 6466 0050 0634     		adds	r4, r4, #6
 6467              	.LVL435:
1750:DMP/driver/eMPL/inv_mpu.c **** 
 6468              		.loc 1 1750 17 view .LVU1835
 6469 0052 E4B2     		uxtb	r4, r4
 6470              	.LVL436:
 6471              	.L503:
1752:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 6472              		.loc 1 1752 3 is_stmt 1 view .LVU1836
1752:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 6473              		.loc 1 1752 18 is_stmt 0 view .LVU1837
 6474 0054 694B     		ldr	r3, .L522
 6475 0056 5868     		ldr	r0, [r3, #4]
 6476              	.LVL437:
1752:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 6477              		.loc 1 1752 31 view .LVU1838
 6478 0058 1968     		ldr	r1, [r3]
 6479              	.LVL438:
1752:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 6480              		.loc 1 1752 7 view .LVU1839
 6481 005a 01AB     		add	r3, sp, #4
 6482 005c 0222     		movs	r2, #2
 6483 005e 097B     		ldrb	r1, [r1, #12]	@ zero_extendqisi2
 6484 0060 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 184


 6485 0062 FFF7FEFF 		bl	MPU_Read_Len
 6486              	.LVL439:
1752:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 6487              		.loc 1 1752 6 view .LVU1840
 6488 0066 0028     		cmp	r0, #0
 6489 0068 40F0B680 		bne	.L512
1754:DMP/driver/eMPL/inv_mpu.c ****   if (fifo_count < packet_size)
 6490              		.loc 1 1754 3 is_stmt 1 view .LVU1841
1754:DMP/driver/eMPL/inv_mpu.c ****   if (fifo_count < packet_size)
 6491              		.loc 1 1754 21 is_stmt 0 view .LVU1842
 6492 006c 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
1754:DMP/driver/eMPL/inv_mpu.c ****   if (fifo_count < packet_size)
 6493              		.loc 1 1754 37 view .LVU1843
 6494 0070 9DF80550 		ldrb	r5, [sp, #5]	@ zero_extendqisi2
1754:DMP/driver/eMPL/inv_mpu.c ****   if (fifo_count < packet_size)
 6495              		.loc 1 1754 14 view .LVU1844
 6496 0074 45EA0325 		orr	r5, r5, r3, lsl #8
 6497              	.LVL440:
1755:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 6498              		.loc 1 1755 3 is_stmt 1 view .LVU1845
1755:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 6499              		.loc 1 1755 18 is_stmt 0 view .LVU1846
 6500 0078 A146     		mov	r9, r4
1755:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 6501              		.loc 1 1755 6 view .LVU1847
 6502 007a AC42     		cmp	r4, r5
 6503 007c 00F2AF80 		bhi	.L513
1758:DMP/driver/eMPL/inv_mpu.c ****     /* FIFO is 50% full, better check overflow bit. */
 6504              		.loc 1 1758 3 is_stmt 1 view .LVU1848
1758:DMP/driver/eMPL/inv_mpu.c ****     /* FIFO is 50% full, better check overflow bit. */
 6505              		.loc 1 1758 23 is_stmt 0 view .LVU1849
 6506 0080 5E4B     		ldr	r3, .L522
 6507 0082 5868     		ldr	r0, [r3, #4]
1758:DMP/driver/eMPL/inv_mpu.c ****     /* FIFO is 50% full, better check overflow bit. */
 6508              		.loc 1 1758 26 view .LVU1850
 6509 0084 4388     		ldrh	r3, [r0, #2]
1758:DMP/driver/eMPL/inv_mpu.c ****     /* FIFO is 50% full, better check overflow bit. */
 6510              		.loc 1 1758 6 view .LVU1851
 6511 0086 B5EB530F 		cmp	r5, r3, lsr #1
 6512 008a 0FD9     		bls	.L504
1760:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 6513              		.loc 1 1760 5 is_stmt 1 view .LVU1852
1760:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 6514              		.loc 1 1760 33 is_stmt 0 view .LVU1853
 6515 008c 5B4B     		ldr	r3, .L522
 6516 008e 1968     		ldr	r1, [r3]
1760:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 6517              		.loc 1 1760 9 view .LVU1854
 6518 0090 01AB     		add	r3, sp, #4
 6519 0092 0122     		movs	r2, #1
 6520 0094 C97C     		ldrb	r1, [r1, #19]	@ zero_extendqisi2
 6521 0096 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 6522 0098 FFF7FEFF 		bl	MPU_Read_Len
 6523              	.LVL441:
1760:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 6524              		.loc 1 1760 8 view .LVU1855
 6525 009c 0028     		cmp	r0, #0
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 185


 6526 009e 40F0A280 		bne	.L514
1762:DMP/driver/eMPL/inv_mpu.c ****       mpu_reset_fifo();
 6527              		.loc 1 1762 5 is_stmt 1 view .LVU1856
1762:DMP/driver/eMPL/inv_mpu.c ****       mpu_reset_fifo();
 6528              		.loc 1 1762 13 is_stmt 0 view .LVU1857
 6529 00a2 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
1762:DMP/driver/eMPL/inv_mpu.c ****       mpu_reset_fifo();
 6530              		.loc 1 1762 8 view .LVU1858
 6531 00a6 13F0100F 		tst	r3, #16
 6532 00aa 37D1     		bne	.L521
 6533              	.L504:
1767:DMP/driver/eMPL/inv_mpu.c **** 
 6534              		.loc 1 1767 3 is_stmt 1 view .LVU1859
1769:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 6535              		.loc 1 1769 3 view .LVU1860
1769:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 6536              		.loc 1 1769 18 is_stmt 0 view .LVU1861
 6537 00ac 534B     		ldr	r3, .L522
 6538 00ae 5868     		ldr	r0, [r3, #4]
1769:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 6539              		.loc 1 1769 31 view .LVU1862
 6540 00b0 1968     		ldr	r1, [r3]
1769:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 6541              		.loc 1 1769 7 view .LVU1863
 6542 00b2 01AB     		add	r3, sp, #4
 6543 00b4 2246     		mov	r2, r4
 6544 00b6 497B     		ldrb	r1, [r1, #13]	@ zero_extendqisi2
 6545 00b8 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 6546 00ba FFF7FEFF 		bl	MPU_Read_Len
 6547              	.LVL442:
1769:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 6548              		.loc 1 1769 6 view .LVU1864
 6549 00be 0028     		cmp	r0, #0
 6550 00c0 40F09480 		bne	.L515
1771:DMP/driver/eMPL/inv_mpu.c ****   sensors[0] = 0;
 6551              		.loc 1 1771 3 is_stmt 1 view .LVU1865
1771:DMP/driver/eMPL/inv_mpu.c ****   sensors[0] = 0;
 6552              		.loc 1 1771 24 is_stmt 0 view .LVU1866
 6553 00c4 95FBF4F5 		sdiv	r5, r5, r4
 6554              	.LVL443:
1771:DMP/driver/eMPL/inv_mpu.c ****   sensors[0] = 0;
 6555              		.loc 1 1771 38 view .LVU1867
 6556 00c8 013D     		subs	r5, r5, #1
1771:DMP/driver/eMPL/inv_mpu.c ****   sensors[0] = 0;
 6557              		.loc 1 1771 11 view .LVU1868
 6558 00ca 0C9B     		ldr	r3, [sp, #48]
 6559 00cc 1D70     		strb	r5, [r3]
1772:DMP/driver/eMPL/inv_mpu.c **** 
 6560              		.loc 1 1772 3 is_stmt 1 view .LVU1869
1772:DMP/driver/eMPL/inv_mpu.c **** 
 6561              		.loc 1 1772 14 is_stmt 0 view .LVU1870
 6562 00ce 0023     		movs	r3, #0
 6563 00d0 3370     		strb	r3, [r6]
1774:DMP/driver/eMPL/inv_mpu.c ****     accel[0] = (data[index + 0] << 8) | data[index + 1];
 6564              		.loc 1 1774 3 is_stmt 1 view .LVU1871
1774:DMP/driver/eMPL/inv_mpu.c ****     accel[0] = (data[index + 0] << 8) | data[index + 1];
 6565              		.loc 1 1774 6 is_stmt 0 view .LVU1872
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 186


 6566 00d2 002C     		cmp	r4, #0
 6567 00d4 43D0     		beq	.L516
1774:DMP/driver/eMPL/inv_mpu.c ****     accel[0] = (data[index + 0] << 8) | data[index + 1];
 6568              		.loc 1 1774 44 discriminator 1 view .LVU1873
 6569 00d6 494B     		ldr	r3, .L522
 6570 00d8 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
1774:DMP/driver/eMPL/inv_mpu.c ****     accel[0] = (data[index + 0] << 8) | data[index + 1];
 6571              		.loc 1 1774 30 discriminator 1 view .LVU1874
 6572 00da 13F0080F 		tst	r3, #8
 6573 00de 22D0     		beq	.L517
1775:DMP/driver/eMPL/inv_mpu.c ****     accel[1] = (data[index + 2] << 8) | data[index + 3];
 6574              		.loc 1 1775 5 is_stmt 1 view .LVU1875
1775:DMP/driver/eMPL/inv_mpu.c ****     accel[1] = (data[index + 2] << 8) | data[index + 3];
 6575              		.loc 1 1775 21 is_stmt 0 view .LVU1876
 6576 00e0 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
1775:DMP/driver/eMPL/inv_mpu.c ****     accel[1] = (data[index + 2] << 8) | data[index + 3];
 6577              		.loc 1 1775 45 view .LVU1877
 6578 00e4 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
1775:DMP/driver/eMPL/inv_mpu.c ****     accel[1] = (data[index + 2] << 8) | data[index + 3];
 6579              		.loc 1 1775 39 view .LVU1878
 6580 00e8 43EA0223 		orr	r3, r3, r2, lsl #8
1775:DMP/driver/eMPL/inv_mpu.c ****     accel[1] = (data[index + 2] << 8) | data[index + 3];
 6581              		.loc 1 1775 14 view .LVU1879
 6582 00ec A8F80030 		strh	r3, [r8]	@ movhi
1776:DMP/driver/eMPL/inv_mpu.c ****     accel[2] = (data[index + 4] << 8) | data[index + 5];
 6583              		.loc 1 1776 5 is_stmt 1 view .LVU1880
1776:DMP/driver/eMPL/inv_mpu.c ****     accel[2] = (data[index + 4] << 8) | data[index + 5];
 6584              		.loc 1 1776 21 is_stmt 0 view .LVU1881
 6585 00f0 9DF80620 		ldrb	r2, [sp, #6]	@ zero_extendqisi2
1776:DMP/driver/eMPL/inv_mpu.c ****     accel[2] = (data[index + 4] << 8) | data[index + 5];
 6586              		.loc 1 1776 45 view .LVU1882
 6587 00f4 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
1776:DMP/driver/eMPL/inv_mpu.c ****     accel[2] = (data[index + 4] << 8) | data[index + 5];
 6588              		.loc 1 1776 39 view .LVU1883
 6589 00f8 43EA0223 		orr	r3, r3, r2, lsl #8
1776:DMP/driver/eMPL/inv_mpu.c ****     accel[2] = (data[index + 4] << 8) | data[index + 5];
 6590              		.loc 1 1776 14 view .LVU1884
 6591 00fc A8F80230 		strh	r3, [r8, #2]	@ movhi
1777:DMP/driver/eMPL/inv_mpu.c ****     sensors[0] |= INV_XYZ_ACCEL;
 6592              		.loc 1 1777 5 is_stmt 1 view .LVU1885
1777:DMP/driver/eMPL/inv_mpu.c ****     sensors[0] |= INV_XYZ_ACCEL;
 6593              		.loc 1 1777 21 is_stmt 0 view .LVU1886
 6594 0100 9DF80820 		ldrb	r2, [sp, #8]	@ zero_extendqisi2
1777:DMP/driver/eMPL/inv_mpu.c ****     sensors[0] |= INV_XYZ_ACCEL;
 6595              		.loc 1 1777 45 view .LVU1887
 6596 0104 9DF80930 		ldrb	r3, [sp, #9]	@ zero_extendqisi2
1777:DMP/driver/eMPL/inv_mpu.c ****     sensors[0] |= INV_XYZ_ACCEL;
 6597              		.loc 1 1777 39 view .LVU1888
 6598 0108 43EA0223 		orr	r3, r3, r2, lsl #8
1777:DMP/driver/eMPL/inv_mpu.c ****     sensors[0] |= INV_XYZ_ACCEL;
 6599              		.loc 1 1777 14 view .LVU1889
 6600 010c A8F80430 		strh	r3, [r8, #4]	@ movhi
1778:DMP/driver/eMPL/inv_mpu.c ****     index += 6;
 6601              		.loc 1 1778 5 is_stmt 1 view .LVU1890
1778:DMP/driver/eMPL/inv_mpu.c ****     index += 6;
 6602              		.loc 1 1778 12 is_stmt 0 view .LVU1891
 6603 0110 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 187


1778:DMP/driver/eMPL/inv_mpu.c ****     index += 6;
 6604              		.loc 1 1778 16 view .LVU1892
 6605 0112 43F00803 		orr	r3, r3, #8
 6606 0116 3370     		strb	r3, [r6]
1779:DMP/driver/eMPL/inv_mpu.c ****   }
 6607              		.loc 1 1779 5 is_stmt 1 view .LVU1893
 6608              	.LVL444:
1779:DMP/driver/eMPL/inv_mpu.c ****   }
 6609              		.loc 1 1779 11 is_stmt 0 view .LVU1894
 6610 0118 0623     		movs	r3, #6
 6611 011a 05E0     		b	.L506
 6612              	.LVL445:
 6613              	.L521:
1763:DMP/driver/eMPL/inv_mpu.c ****       return -2;
 6614              		.loc 1 1763 7 is_stmt 1 view .LVU1895
 6615 011c FFF7FEFF 		bl	mpu_reset_fifo
 6616              	.LVL446:
1764:DMP/driver/eMPL/inv_mpu.c ****     }
 6617              		.loc 1 1764 7 view .LVU1896
1764:DMP/driver/eMPL/inv_mpu.c ****     }
 6618              		.loc 1 1764 14 is_stmt 0 view .LVU1897
 6619 0120 6FF00100 		mvn	r0, #1
 6620 0124 5CE0     		b	.L498
 6621              	.LVL447:
 6622              	.L517:
1732:DMP/driver/eMPL/inv_mpu.c **** 
 6623              		.loc 1 1732 30 view .LVU1898
 6624 0126 0023     		movs	r3, #0
 6625              	.LVL448:
 6626              	.L506:
1781:DMP/driver/eMPL/inv_mpu.c ****     gyro[0] = (data[index + 0] << 8) | data[index + 1];
 6627              		.loc 1 1781 3 is_stmt 1 view .LVU1899
1781:DMP/driver/eMPL/inv_mpu.c ****     gyro[0] = (data[index + 0] << 8) | data[index + 1];
 6628              		.loc 1 1781 6 is_stmt 0 view .LVU1900
 6629 0128 9945     		cmp	r9, r3
 6630 012a 19D0     		beq	.L505
1781:DMP/driver/eMPL/inv_mpu.c ****     gyro[0] = (data[index + 0] << 8) | data[index + 1];
 6631              		.loc 1 1781 44 discriminator 1 view .LVU1901
 6632 012c 334A     		ldr	r2, .L522
 6633 012e 127C     		ldrb	r2, [r2, #16]	@ zero_extendqisi2
1781:DMP/driver/eMPL/inv_mpu.c ****     gyro[0] = (data[index + 0] << 8) | data[index + 1];
 6634              		.loc 1 1781 30 discriminator 1 view .LVU1902
 6635 0130 12F0400F 		tst	r2, #64
 6636 0134 14D0     		beq	.L505
1782:DMP/driver/eMPL/inv_mpu.c ****     sensors[0] |= INV_X_GYRO;
 6637              		.loc 1 1782 5 is_stmt 1 view .LVU1903
1782:DMP/driver/eMPL/inv_mpu.c ****     sensors[0] |= INV_X_GYRO;
 6638              		.loc 1 1782 20 is_stmt 0 view .LVU1904
 6639 0136 03F11002 		add	r2, r3, #16
 6640 013a 6A44     		add	r2, sp, r2
 6641 013c 12F80C1C 		ldrb	r1, [r2, #-12]	@ zero_extendqisi2
1782:DMP/driver/eMPL/inv_mpu.c ****     sensors[0] |= INV_X_GYRO;
 6642              		.loc 1 1782 44 view .LVU1905
 6643 0140 03F11102 		add	r2, r3, #17
 6644 0144 6A44     		add	r2, sp, r2
 6645 0146 12F80C2C 		ldrb	r2, [r2, #-12]	@ zero_extendqisi2
1782:DMP/driver/eMPL/inv_mpu.c ****     sensors[0] |= INV_X_GYRO;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 188


 6646              		.loc 1 1782 38 view .LVU1906
 6647 014a 42EA0122 		orr	r2, r2, r1, lsl #8
1782:DMP/driver/eMPL/inv_mpu.c ****     sensors[0] |= INV_X_GYRO;
 6648              		.loc 1 1782 13 view .LVU1907
 6649 014e 3A80     		strh	r2, [r7]	@ movhi
1783:DMP/driver/eMPL/inv_mpu.c ****     index += 2;
 6650              		.loc 1 1783 5 is_stmt 1 view .LVU1908
1783:DMP/driver/eMPL/inv_mpu.c ****     index += 2;
 6651              		.loc 1 1783 12 is_stmt 0 view .LVU1909
 6652 0150 3278     		ldrb	r2, [r6]	@ zero_extendqisi2
1783:DMP/driver/eMPL/inv_mpu.c ****     index += 2;
 6653              		.loc 1 1783 16 view .LVU1910
 6654 0152 42F04002 		orr	r2, r2, #64
 6655 0156 3270     		strb	r2, [r6]
1784:DMP/driver/eMPL/inv_mpu.c ****   }
 6656              		.loc 1 1784 5 is_stmt 1 view .LVU1911
1784:DMP/driver/eMPL/inv_mpu.c ****   }
 6657              		.loc 1 1784 11 is_stmt 0 view .LVU1912
 6658 0158 0233     		adds	r3, r3, #2
 6659              	.LVL449:
1784:DMP/driver/eMPL/inv_mpu.c ****   }
 6660              		.loc 1 1784 11 view .LVU1913
 6661 015a 9BB2     		uxth	r3, r3
1784:DMP/driver/eMPL/inv_mpu.c ****   }
 6662              		.loc 1 1784 11 view .LVU1914
 6663 015c 00E0     		b	.L505
 6664              	.LVL450:
 6665              	.L516:
1732:DMP/driver/eMPL/inv_mpu.c **** 
 6666              		.loc 1 1732 30 view .LVU1915
 6667 015e 0023     		movs	r3, #0
 6668              	.LVL451:
 6669              	.L505:
1786:DMP/driver/eMPL/inv_mpu.c ****     gyro[1] = (data[index + 0] << 8) | data[index + 1];
 6670              		.loc 1 1786 3 is_stmt 1 view .LVU1916
1786:DMP/driver/eMPL/inv_mpu.c ****     gyro[1] = (data[index + 0] << 8) | data[index + 1];
 6671              		.loc 1 1786 6 is_stmt 0 view .LVU1917
 6672 0160 9945     		cmp	r9, r3
 6673 0162 17D0     		beq	.L507
1786:DMP/driver/eMPL/inv_mpu.c ****     gyro[1] = (data[index + 0] << 8) | data[index + 1];
 6674              		.loc 1 1786 44 discriminator 1 view .LVU1918
 6675 0164 254A     		ldr	r2, .L522
 6676 0166 127C     		ldrb	r2, [r2, #16]	@ zero_extendqisi2
1786:DMP/driver/eMPL/inv_mpu.c ****     gyro[1] = (data[index + 0] << 8) | data[index + 1];
 6677              		.loc 1 1786 30 discriminator 1 view .LVU1919
 6678 0168 12F0200F 		tst	r2, #32
 6679 016c 12D0     		beq	.L507
1787:DMP/driver/eMPL/inv_mpu.c ****     sensors[0] |= INV_Y_GYRO;
 6680              		.loc 1 1787 5 is_stmt 1 view .LVU1920
1787:DMP/driver/eMPL/inv_mpu.c ****     sensors[0] |= INV_Y_GYRO;
 6681              		.loc 1 1787 20 is_stmt 0 view .LVU1921
 6682 016e 03F11002 		add	r2, r3, #16
 6683 0172 6A44     		add	r2, sp, r2
 6684 0174 12F80C1C 		ldrb	r1, [r2, #-12]	@ zero_extendqisi2
1787:DMP/driver/eMPL/inv_mpu.c ****     sensors[0] |= INV_Y_GYRO;
 6685              		.loc 1 1787 44 view .LVU1922
 6686 0178 03F11102 		add	r2, r3, #17
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 189


 6687 017c 6A44     		add	r2, sp, r2
 6688 017e 12F80C2C 		ldrb	r2, [r2, #-12]	@ zero_extendqisi2
1787:DMP/driver/eMPL/inv_mpu.c ****     sensors[0] |= INV_Y_GYRO;
 6689              		.loc 1 1787 38 view .LVU1923
 6690 0182 42EA0122 		orr	r2, r2, r1, lsl #8
1787:DMP/driver/eMPL/inv_mpu.c ****     sensors[0] |= INV_Y_GYRO;
 6691              		.loc 1 1787 13 view .LVU1924
 6692 0186 7A80     		strh	r2, [r7, #2]	@ movhi
1788:DMP/driver/eMPL/inv_mpu.c ****     index += 2;
 6693              		.loc 1 1788 5 is_stmt 1 view .LVU1925
1788:DMP/driver/eMPL/inv_mpu.c ****     index += 2;
 6694              		.loc 1 1788 12 is_stmt 0 view .LVU1926
 6695 0188 3278     		ldrb	r2, [r6]	@ zero_extendqisi2
1788:DMP/driver/eMPL/inv_mpu.c ****     index += 2;
 6696              		.loc 1 1788 16 view .LVU1927
 6697 018a 42F02002 		orr	r2, r2, #32
 6698 018e 3270     		strb	r2, [r6]
1789:DMP/driver/eMPL/inv_mpu.c ****   }
 6699              		.loc 1 1789 5 is_stmt 1 view .LVU1928
1789:DMP/driver/eMPL/inv_mpu.c ****   }
 6700              		.loc 1 1789 11 is_stmt 0 view .LVU1929
 6701 0190 0233     		adds	r3, r3, #2
 6702              	.LVL452:
1789:DMP/driver/eMPL/inv_mpu.c ****   }
 6703              		.loc 1 1789 11 view .LVU1930
 6704 0192 9BB2     		uxth	r3, r3
 6705              	.LVL453:
 6706              	.L507:
1791:DMP/driver/eMPL/inv_mpu.c ****     gyro[2] = (data[index + 0] << 8) | data[index + 1];
 6707              		.loc 1 1791 3 is_stmt 1 view .LVU1931
1791:DMP/driver/eMPL/inv_mpu.c ****     gyro[2] = (data[index + 0] << 8) | data[index + 1];
 6708              		.loc 1 1791 6 is_stmt 0 view .LVU1932
 6709 0194 9945     		cmp	r9, r3
 6710 0196 2CD0     		beq	.L518
1791:DMP/driver/eMPL/inv_mpu.c ****     gyro[2] = (data[index + 0] << 8) | data[index + 1];
 6711              		.loc 1 1791 44 discriminator 1 view .LVU1933
 6712 0198 184A     		ldr	r2, .L522
 6713 019a 127C     		ldrb	r2, [r2, #16]	@ zero_extendqisi2
1791:DMP/driver/eMPL/inv_mpu.c ****     gyro[2] = (data[index + 0] << 8) | data[index + 1];
 6714              		.loc 1 1791 30 discriminator 1 view .LVU1934
 6715 019c 12F0100F 		tst	r2, #16
 6716 01a0 29D0     		beq	.L519
1792:DMP/driver/eMPL/inv_mpu.c ****     sensors[0] |= INV_Z_GYRO;
 6717              		.loc 1 1792 5 is_stmt 1 view .LVU1935
1792:DMP/driver/eMPL/inv_mpu.c ****     sensors[0] |= INV_Z_GYRO;
 6718              		.loc 1 1792 20 is_stmt 0 view .LVU1936
 6719 01a2 03F11002 		add	r2, r3, #16
 6720 01a6 6A44     		add	r2, sp, r2
 6721 01a8 12F80C2C 		ldrb	r2, [r2, #-12]	@ zero_extendqisi2
1792:DMP/driver/eMPL/inv_mpu.c ****     sensors[0] |= INV_Z_GYRO;
 6722              		.loc 1 1792 44 view .LVU1937
 6723 01ac 1133     		adds	r3, r3, #17
 6724 01ae 6B44     		add	r3, sp, r3
 6725 01b0 13F80C3C 		ldrb	r3, [r3, #-12]	@ zero_extendqisi2
1792:DMP/driver/eMPL/inv_mpu.c ****     sensors[0] |= INV_Z_GYRO;
 6726              		.loc 1 1792 38 view .LVU1938
 6727 01b4 43EA0223 		orr	r3, r3, r2, lsl #8
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 190


1792:DMP/driver/eMPL/inv_mpu.c ****     sensors[0] |= INV_Z_GYRO;
 6728              		.loc 1 1792 13 view .LVU1939
 6729 01b8 BB80     		strh	r3, [r7, #4]	@ movhi
1793:DMP/driver/eMPL/inv_mpu.c ****     index += 2;
 6730              		.loc 1 1793 5 is_stmt 1 view .LVU1940
1793:DMP/driver/eMPL/inv_mpu.c ****     index += 2;
 6731              		.loc 1 1793 12 is_stmt 0 view .LVU1941
 6732 01ba 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
1793:DMP/driver/eMPL/inv_mpu.c ****     index += 2;
 6733              		.loc 1 1793 16 view .LVU1942
 6734 01bc 43F01003 		orr	r3, r3, #16
 6735 01c0 3370     		strb	r3, [r6]
1794:DMP/driver/eMPL/inv_mpu.c ****   }
 6736              		.loc 1 1794 5 is_stmt 1 view .LVU1943
1797:DMP/driver/eMPL/inv_mpu.c **** }
 6737              		.loc 1 1797 10 is_stmt 0 view .LVU1944
 6738 01c2 0020     		movs	r0, #0
 6739 01c4 0CE0     		b	.L498
 6740              	.LVL454:
 6741              	.L508:
1735:DMP/driver/eMPL/inv_mpu.c **** 
 6742              		.loc 1 1735 12 view .LVU1945
 6743 01c6 4FF0FF30 		mov	r0, #-1
 6744              	.LVL455:
1735:DMP/driver/eMPL/inv_mpu.c **** 
 6745              		.loc 1 1735 12 view .LVU1946
 6746 01ca 09E0     		b	.L498
 6747              	.LVL456:
 6748              	.L509:
1739:DMP/driver/eMPL/inv_mpu.c ****   if (!st.chip_cfg.fifo_enable)
 6749              		.loc 1 1739 12 view .LVU1947
 6750 01cc 4FF0FF30 		mov	r0, #-1
 6751              	.LVL457:
1739:DMP/driver/eMPL/inv_mpu.c ****   if (!st.chip_cfg.fifo_enable)
 6752              		.loc 1 1739 12 view .LVU1948
 6753 01d0 06E0     		b	.L498
 6754              	.LVL458:
 6755              	.L510:
1741:DMP/driver/eMPL/inv_mpu.c **** 
 6756              		.loc 1 1741 12 view .LVU1949
 6757 01d2 4FF0FF30 		mov	r0, #-1
 6758              	.LVL459:
1741:DMP/driver/eMPL/inv_mpu.c **** 
 6759              		.loc 1 1741 12 view .LVU1950
 6760 01d6 03E0     		b	.L498
 6761              	.LVL460:
 6762              	.L512:
1753:DMP/driver/eMPL/inv_mpu.c ****   fifo_count = (data[0] << 8) | data[1];
 6763              		.loc 1 1753 12 view .LVU1951
 6764 01d8 4FF0FF30 		mov	r0, #-1
 6765 01dc 00E0     		b	.L498
 6766              	.LVL461:
 6767              	.L513:
1756:DMP/driver/eMPL/inv_mpu.c ****   //    log_i("FIFO count: %hd\n", fifo_count);
 6768              		.loc 1 1756 12 view .LVU1952
 6769 01de 0020     		movs	r0, #0
 6770              	.LVL462:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 191


 6771              	.L498:
1798:DMP/driver/eMPL/inv_mpu.c **** 
 6772              		.loc 1 1798 1 view .LVU1953
 6773 01e0 05B0     		add	sp, sp, #20
 6774              	.LCFI112:
 6775              		.cfi_remember_state
 6776              		.cfi_def_cfa_offset 28
 6777              		@ sp needed
 6778 01e2 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 6779              	.LVL463:
 6780              	.L514:
 6781              	.LCFI113:
 6782              		.cfi_restore_state
1761:DMP/driver/eMPL/inv_mpu.c ****     if (data[0] & BIT_FIFO_OVERFLOW) {
 6783              		.loc 1 1761 14 view .LVU1954
 6784 01e6 4FF0FF30 		mov	r0, #-1
 6785 01ea F9E7     		b	.L498
 6786              	.L515:
1770:DMP/driver/eMPL/inv_mpu.c ****   more[0] = fifo_count / packet_size - 1;
 6787              		.loc 1 1770 12 view .LVU1955
 6788 01ec 4FF0FF30 		mov	r0, #-1
 6789 01f0 F6E7     		b	.L498
 6790              	.LVL464:
 6791              	.L518:
1797:DMP/driver/eMPL/inv_mpu.c **** }
 6792              		.loc 1 1797 10 view .LVU1956
 6793 01f2 0020     		movs	r0, #0
 6794 01f4 F4E7     		b	.L498
 6795              	.L519:
 6796 01f6 0020     		movs	r0, #0
 6797 01f8 F2E7     		b	.L498
 6798              	.L523:
 6799 01fa 00BF     		.align	2
 6800              	.L522:
 6801 01fc 00000000 		.word	st
 6802              		.cfi_endproc
 6803              	.LFE201:
 6805              		.section	.text.mpu_read_fifo_stream,"ax",%progbits
 6806              		.align	1
 6807              		.global	mpu_read_fifo_stream
 6808              		.syntax unified
 6809              		.thumb
 6810              		.thumb_func
 6812              	mpu_read_fifo_stream:
 6813              	.LVL465:
 6814              	.LFB202:
1808:DMP/driver/eMPL/inv_mpu.c ****   unsigned char tmp[2];
 6815              		.loc 1 1808 47 is_stmt 1 view -0
 6816              		.cfi_startproc
 6817              		@ args = 0, pretend = 0, frame = 8
 6818              		@ frame_needed = 0, uses_anonymous_args = 0
1809:DMP/driver/eMPL/inv_mpu.c ****   unsigned short fifo_count;
 6819              		.loc 1 1809 3 view .LVU1958
1810:DMP/driver/eMPL/inv_mpu.c ****   if (!st.chip_cfg.dmp_on)
 6820              		.loc 1 1810 3 view .LVU1959
1811:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 6821              		.loc 1 1811 3 view .LVU1960
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 192


1811:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 6822              		.loc 1 1811 19 is_stmt 0 view .LVU1961
 6823 0000 2E4B     		ldr	r3, .L539
 6824 0002 93F82430 		ldrb	r3, [r3, #36]	@ zero_extendqisi2
1811:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 6825              		.loc 1 1811 6 view .LVU1962
 6826 0006 002B     		cmp	r3, #0
 6827 0008 49D0     		beq	.L528
1808:DMP/driver/eMPL/inv_mpu.c ****   unsigned char tmp[2];
 6828              		.loc 1 1808 47 view .LVU1963
 6829 000a F0B5     		push	{r4, r5, r6, r7, lr}
 6830              	.LCFI114:
 6831              		.cfi_def_cfa_offset 20
 6832              		.cfi_offset 4, -20
 6833              		.cfi_offset 5, -16
 6834              		.cfi_offset 6, -12
 6835              		.cfi_offset 7, -8
 6836              		.cfi_offset 14, -4
 6837 000c 83B0     		sub	sp, sp, #12
 6838              	.LCFI115:
 6839              		.cfi_def_cfa_offset 32
 6840 000e 0546     		mov	r5, r0
 6841 0010 0F46     		mov	r7, r1
 6842 0012 1646     		mov	r6, r2
1813:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 6843              		.loc 1 1813 3 is_stmt 1 view .LVU1964
1813:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 6844              		.loc 1 1813 19 is_stmt 0 view .LVU1965
 6845 0014 294B     		ldr	r3, .L539
 6846 0016 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
1813:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 6847              		.loc 1 1813 6 view .LVU1966
 6848 0018 002B     		cmp	r3, #0
 6849 001a 43D0     		beq	.L529
1816:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 6850              		.loc 1 1816 3 is_stmt 1 view .LVU1967
1816:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 6851              		.loc 1 1816 18 is_stmt 0 view .LVU1968
 6852 001c 274B     		ldr	r3, .L539
 6853 001e 5868     		ldr	r0, [r3, #4]
 6854              	.LVL466:
1816:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 6855              		.loc 1 1816 31 view .LVU1969
 6856 0020 1968     		ldr	r1, [r3]
 6857              	.LVL467:
1816:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 6858              		.loc 1 1816 7 view .LVU1970
 6859 0022 01AB     		add	r3, sp, #4
 6860 0024 0222     		movs	r2, #2
 6861              	.LVL468:
1816:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 6862              		.loc 1 1816 7 view .LVU1971
 6863 0026 097B     		ldrb	r1, [r1, #12]	@ zero_extendqisi2
 6864 0028 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 6865 002a FFF7FEFF 		bl	MPU_Read_Len
 6866              	.LVL469:
1816:DMP/driver/eMPL/inv_mpu.c ****     return -1;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 193


 6867              		.loc 1 1816 6 view .LVU1972
 6868 002e 0028     		cmp	r0, #0
 6869 0030 3BD1     		bne	.L530
1818:DMP/driver/eMPL/inv_mpu.c ****   if (fifo_count < length) {
 6870              		.loc 1 1818 3 is_stmt 1 view .LVU1973
1818:DMP/driver/eMPL/inv_mpu.c ****   if (fifo_count < length) {
 6871              		.loc 1 1818 20 is_stmt 0 view .LVU1974
 6872 0032 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
1818:DMP/driver/eMPL/inv_mpu.c ****   if (fifo_count < length) {
 6873              		.loc 1 1818 35 view .LVU1975
 6874 0036 9DF80540 		ldrb	r4, [sp, #5]	@ zero_extendqisi2
1818:DMP/driver/eMPL/inv_mpu.c ****   if (fifo_count < length) {
 6875              		.loc 1 1818 14 view .LVU1976
 6876 003a 44EA0324 		orr	r4, r4, r3, lsl #8
 6877              	.LVL470:
1819:DMP/driver/eMPL/inv_mpu.c ****     more[0] = 0;
 6878              		.loc 1 1819 3 is_stmt 1 view .LVU1977
1819:DMP/driver/eMPL/inv_mpu.c ****     more[0] = 0;
 6879              		.loc 1 1819 6 is_stmt 0 view .LVU1978
 6880 003e AC42     		cmp	r4, r5
 6881 0040 23D3     		bcc	.L537
1823:DMP/driver/eMPL/inv_mpu.c ****     /* FIFO is 50% full, better check overflow bit. */
 6882              		.loc 1 1823 3 is_stmt 1 view .LVU1979
1823:DMP/driver/eMPL/inv_mpu.c ****     /* FIFO is 50% full, better check overflow bit. */
 6883              		.loc 1 1823 23 is_stmt 0 view .LVU1980
 6884 0042 1E4B     		ldr	r3, .L539
 6885 0044 5868     		ldr	r0, [r3, #4]
1823:DMP/driver/eMPL/inv_mpu.c ****     /* FIFO is 50% full, better check overflow bit. */
 6886              		.loc 1 1823 26 view .LVU1981
 6887 0046 4388     		ldrh	r3, [r0, #2]
1823:DMP/driver/eMPL/inv_mpu.c ****     /* FIFO is 50% full, better check overflow bit. */
 6888              		.loc 1 1823 6 view .LVU1982
 6889 0048 B4EB530F 		cmp	r4, r3, lsr #1
 6890 004c 0DD9     		bls	.L527
1825:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 6891              		.loc 1 1825 5 is_stmt 1 view .LVU1983
1825:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 6892              		.loc 1 1825 33 is_stmt 0 view .LVU1984
 6893 004e 1B4B     		ldr	r3, .L539
 6894 0050 1968     		ldr	r1, [r3]
1825:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 6895              		.loc 1 1825 9 view .LVU1985
 6896 0052 01AB     		add	r3, sp, #4
 6897 0054 0122     		movs	r2, #1
 6898 0056 C97C     		ldrb	r1, [r1, #19]	@ zero_extendqisi2
 6899 0058 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 6900 005a FFF7FEFF 		bl	MPU_Read_Len
 6901              	.LVL471:
1825:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 6902              		.loc 1 1825 8 view .LVU1986
 6903 005e 38BB     		cbnz	r0, .L531
1827:DMP/driver/eMPL/inv_mpu.c ****       mpu_reset_fifo();
 6904              		.loc 1 1827 5 is_stmt 1 view .LVU1987
1827:DMP/driver/eMPL/inv_mpu.c ****       mpu_reset_fifo();
 6905              		.loc 1 1827 12 is_stmt 0 view .LVU1988
 6906 0060 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
1827:DMP/driver/eMPL/inv_mpu.c ****       mpu_reset_fifo();
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 194


 6907              		.loc 1 1827 8 view .LVU1989
 6908 0064 13F0100F 		tst	r3, #16
 6909 0068 14D1     		bne	.L538
 6910              	.L527:
1833:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 6911              		.loc 1 1833 3 is_stmt 1 view .LVU1990
1833:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 6912              		.loc 1 1833 18 is_stmt 0 view .LVU1991
 6913 006a 144B     		ldr	r3, .L539
 6914 006c 5868     		ldr	r0, [r3, #4]
1833:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 6915              		.loc 1 1833 31 view .LVU1992
 6916 006e 1968     		ldr	r1, [r3]
1833:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 6917              		.loc 1 1833 7 view .LVU1993
 6918 0070 3B46     		mov	r3, r7
 6919 0072 EAB2     		uxtb	r2, r5
 6920 0074 497B     		ldrb	r1, [r1, #13]	@ zero_extendqisi2
 6921 0076 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 6922 0078 FFF7FEFF 		bl	MPU_Read_Len
 6923              	.LVL472:
1833:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 6924              		.loc 1 1833 6 view .LVU1994
 6925 007c D8B9     		cbnz	r0, .L532
1835:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 6926              		.loc 1 1835 3 is_stmt 1 view .LVU1995
1835:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 6927              		.loc 1 1835 33 is_stmt 0 view .LVU1996
 6928 007e B4FBF5F4 		udiv	r4, r4, r5
 6929              	.LVL473:
1835:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 6930              		.loc 1 1835 33 view .LVU1997
 6931 0082 013C     		subs	r4, r4, #1
1835:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 6932              		.loc 1 1835 11 view .LVU1998
 6933 0084 3470     		strb	r4, [r6]
1836:DMP/driver/eMPL/inv_mpu.c **** }
 6934              		.loc 1 1836 3 is_stmt 1 view .LVU1999
 6935              	.LVL474:
 6936              	.L524:
1837:DMP/driver/eMPL/inv_mpu.c **** 
 6937              		.loc 1 1837 1 is_stmt 0 view .LVU2000
 6938 0086 03B0     		add	sp, sp, #12
 6939              	.LCFI116:
 6940              		.cfi_remember_state
 6941              		.cfi_def_cfa_offset 20
 6942              		@ sp needed
 6943 0088 F0BD     		pop	{r4, r5, r6, r7, pc}
 6944              	.LVL475:
 6945              	.L537:
 6946              	.LCFI117:
 6947              		.cfi_restore_state
1820:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 6948              		.loc 1 1820 5 is_stmt 1 view .LVU2001
1820:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 6949              		.loc 1 1820 13 is_stmt 0 view .LVU2002
 6950 008a 0023     		movs	r3, #0
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 195


 6951 008c 3370     		strb	r3, [r6]
1821:DMP/driver/eMPL/inv_mpu.c ****   }
 6952              		.loc 1 1821 5 is_stmt 1 view .LVU2003
1821:DMP/driver/eMPL/inv_mpu.c ****   }
 6953              		.loc 1 1821 12 is_stmt 0 view .LVU2004
 6954 008e 4FF0FF30 		mov	r0, #-1
 6955 0092 F8E7     		b	.L524
 6956              	.L538:
1828:DMP/driver/eMPL/inv_mpu.c ****       return -2;
 6957              		.loc 1 1828 7 is_stmt 1 view .LVU2005
 6958 0094 FFF7FEFF 		bl	mpu_reset_fifo
 6959              	.LVL476:
1829:DMP/driver/eMPL/inv_mpu.c ****     }
 6960              		.loc 1 1829 7 view .LVU2006
1829:DMP/driver/eMPL/inv_mpu.c ****     }
 6961              		.loc 1 1829 14 is_stmt 0 view .LVU2007
 6962 0098 6FF00100 		mvn	r0, #1
 6963 009c F3E7     		b	.L524
 6964              	.LVL477:
 6965              	.L528:
 6966              	.LCFI118:
 6967              		.cfi_def_cfa_offset 0
 6968              		.cfi_restore 4
 6969              		.cfi_restore 5
 6970              		.cfi_restore 6
 6971              		.cfi_restore 7
 6972              		.cfi_restore 14
1812:DMP/driver/eMPL/inv_mpu.c ****   if (!st.chip_cfg.sensors)
 6973              		.loc 1 1812 12 view .LVU2008
 6974 009e 4FF0FF30 		mov	r0, #-1
 6975              	.LVL478:
1837:DMP/driver/eMPL/inv_mpu.c **** 
 6976              		.loc 1 1837 1 view .LVU2009
 6977 00a2 7047     		bx	lr
 6978              	.LVL479:
 6979              	.L529:
 6980              	.LCFI119:
 6981              		.cfi_def_cfa_offset 32
 6982              		.cfi_offset 4, -20
 6983              		.cfi_offset 5, -16
 6984              		.cfi_offset 6, -12
 6985              		.cfi_offset 7, -8
 6986              		.cfi_offset 14, -4
1814:DMP/driver/eMPL/inv_mpu.c **** 
 6987              		.loc 1 1814 12 view .LVU2010
 6988 00a4 4FF0FF30 		mov	r0, #-1
 6989              	.LVL480:
1814:DMP/driver/eMPL/inv_mpu.c **** 
 6990              		.loc 1 1814 12 view .LVU2011
 6991 00a8 EDE7     		b	.L524
 6992              	.LVL481:
 6993              	.L530:
1817:DMP/driver/eMPL/inv_mpu.c ****   fifo_count = (tmp[0] << 8) | tmp[1];
 6994              		.loc 1 1817 12 view .LVU2012
 6995 00aa 4FF0FF30 		mov	r0, #-1
 6996 00ae EAE7     		b	.L524
 6997              	.LVL482:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 196


 6998              	.L531:
1826:DMP/driver/eMPL/inv_mpu.c ****     if (tmp[0] & BIT_FIFO_OVERFLOW) {
 6999              		.loc 1 1826 14 view .LVU2013
 7000 00b0 4FF0FF30 		mov	r0, #-1
 7001 00b4 E7E7     		b	.L524
 7002              	.L532:
1834:DMP/driver/eMPL/inv_mpu.c ****   more[0] = fifo_count / length - 1;
 7003              		.loc 1 1834 12 view .LVU2014
 7004 00b6 4FF0FF30 		mov	r0, #-1
 7005 00ba E4E7     		b	.L524
 7006              	.L540:
 7007              		.align	2
 7008              	.L539:
 7009 00bc 00000000 		.word	st
 7010              		.cfi_endproc
 7011              	.LFE202:
 7013              		.section	.text.mpu_set_bypass,"ax",%progbits
 7014              		.align	1
 7015              		.global	mpu_set_bypass
 7016              		.syntax unified
 7017              		.thumb
 7018              		.thumb_func
 7020              	mpu_set_bypass:
 7021              	.LVL483:
 7022              	.LFB203:
1844:DMP/driver/eMPL/inv_mpu.c ****   unsigned char tmp;
 7023              		.loc 1 1844 45 is_stmt 1 view -0
 7024              		.cfi_startproc
 7025              		@ args = 0, pretend = 0, frame = 8
 7026              		@ frame_needed = 0, uses_anonymous_args = 0
1845:DMP/driver/eMPL/inv_mpu.c **** 
 7027              		.loc 1 1845 3 view .LVU2016
1847:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 7028              		.loc 1 1847 3 view .LVU2017
1847:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 7029              		.loc 1 1847 18 is_stmt 0 view .LVU2018
 7030 0000 584B     		ldr	r3, .L563
 7031 0002 9B7C     		ldrb	r3, [r3, #18]	@ zero_extendqisi2
1847:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 7032              		.loc 1 1847 6 view .LVU2019
 7033 0004 8342     		cmp	r3, r0
 7034 0006 00F09C80 		beq	.L552
1844:DMP/driver/eMPL/inv_mpu.c ****   unsigned char tmp;
 7035              		.loc 1 1844 45 view .LVU2020
 7036 000a 10B5     		push	{r4, lr}
 7037              	.LCFI120:
 7038              		.cfi_def_cfa_offset 8
 7039              		.cfi_offset 4, -8
 7040              		.cfi_offset 14, -4
 7041 000c 82B0     		sub	sp, sp, #8
 7042              	.LCFI121:
 7043              		.cfi_def_cfa_offset 16
 7044 000e 0446     		mov	r4, r0
1850:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_read(st.hw->addr, st.reg->user_ctrl, 1, &tmp))
 7045              		.loc 1 1850 3 is_stmt 1 view .LVU2021
1850:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_read(st.hw->addr, st.reg->user_ctrl, 1, &tmp))
 7046              		.loc 1 1850 6 is_stmt 0 view .LVU2022
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 197


 7047 0010 0028     		cmp	r0, #0
 7048 0012 44D0     		beq	.L543
1851:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 7049              		.loc 1 1851 5 is_stmt 1 view .LVU2023
1851:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 7050              		.loc 1 1851 20 is_stmt 0 view .LVU2024
 7051 0014 534B     		ldr	r3, .L563
 7052 0016 5868     		ldr	r0, [r3, #4]
 7053              	.LVL484:
1851:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 7054              		.loc 1 1851 33 view .LVU2025
 7055 0018 1968     		ldr	r1, [r3]
1851:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 7056              		.loc 1 1851 9 view .LVU2026
 7057 001a 0DF10703 		add	r3, sp, #7
 7058 001e 0122     		movs	r2, #1
 7059 0020 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 7060 0022 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 7061 0024 FFF7FEFF 		bl	MPU_Read_Len
 7062              	.LVL485:
1851:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 7063              		.loc 1 1851 8 view .LVU2027
 7064 0028 0028     		cmp	r0, #0
 7065 002a 40F08C80 		bne	.L553
1853:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &tmp))
 7066              		.loc 1 1853 5 is_stmt 1 view .LVU2028
1853:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &tmp))
 7067              		.loc 1 1853 9 is_stmt 0 view .LVU2029
 7068 002e 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 7069 0032 23F02003 		bic	r3, r3, #32
 7070 0036 8DF80730 		strb	r3, [sp, #7]
1854:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 7071              		.loc 1 1854 5 is_stmt 1 view .LVU2030
1854:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 7072              		.loc 1 1854 21 is_stmt 0 view .LVU2031
 7073 003a 4A4B     		ldr	r3, .L563
 7074 003c 5868     		ldr	r0, [r3, #4]
1854:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 7075              		.loc 1 1854 34 view .LVU2032
 7076 003e 1968     		ldr	r1, [r3]
1854:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 7077              		.loc 1 1854 9 view .LVU2033
 7078 0040 0DF10703 		add	r3, sp, #7
 7079 0044 0122     		movs	r2, #1
 7080 0046 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 7081 0048 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 7082 004a FFF7FEFF 		bl	MPU_Write_Len
 7083              	.LVL486:
1854:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 7084              		.loc 1 1854 8 view .LVU2034
 7085 004e 0028     		cmp	r0, #0
 7086 0050 7CD1     		bne	.L554
1856:DMP/driver/eMPL/inv_mpu.c ****     tmp = BIT_BYPASS_EN;
 7087              		.loc 1 1856 5 is_stmt 1 view .LVU2035
 7088 0052 0320     		movs	r0, #3
 7089 0054 FFF7FEFF 		bl	HAL_Delay
 7090              	.LVL487:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 198


1857:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.active_low_int)
 7091              		.loc 1 1857 5 view .LVU2036
1857:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.active_low_int)
 7092              		.loc 1 1857 9 is_stmt 0 view .LVU2037
 7093 0058 0223     		movs	r3, #2
 7094 005a 8DF80730 		strb	r3, [sp, #7]
1858:DMP/driver/eMPL/inv_mpu.c ****       tmp |= BIT_ACTL;
 7095              		.loc 1 1858 5 is_stmt 1 view .LVU2038
1858:DMP/driver/eMPL/inv_mpu.c ****       tmp |= BIT_ACTL;
 7096              		.loc 1 1858 20 is_stmt 0 view .LVU2039
 7097 005e 414B     		ldr	r3, .L563
 7098 0060 93F82230 		ldrb	r3, [r3, #34]	@ zero_extendqisi2
1858:DMP/driver/eMPL/inv_mpu.c ****       tmp |= BIT_ACTL;
 7099              		.loc 1 1858 8 view .LVU2040
 7100 0064 13B1     		cbz	r3, .L544
1859:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.latched_int)
 7101              		.loc 1 1859 7 is_stmt 1 view .LVU2041
1859:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.latched_int)
 7102              		.loc 1 1859 11 is_stmt 0 view .LVU2042
 7103 0066 8223     		movs	r3, #130
 7104 0068 8DF80730 		strb	r3, [sp, #7]
 7105              	.L544:
1860:DMP/driver/eMPL/inv_mpu.c ****       tmp |= BIT_LATCH_EN | BIT_ANY_RD_CLR;
 7106              		.loc 1 1860 5 is_stmt 1 view .LVU2043
1860:DMP/driver/eMPL/inv_mpu.c ****       tmp |= BIT_LATCH_EN | BIT_ANY_RD_CLR;
 7107              		.loc 1 1860 20 is_stmt 0 view .LVU2044
 7108 006c 3D4B     		ldr	r3, .L563
 7109 006e 93F82330 		ldrb	r3, [r3, #35]	@ zero_extendqisi2
1860:DMP/driver/eMPL/inv_mpu.c ****       tmp |= BIT_LATCH_EN | BIT_ANY_RD_CLR;
 7110              		.loc 1 1860 8 view .LVU2045
 7111 0072 2BB1     		cbz	r3, .L545
1861:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->int_pin_cfg, 1, &tmp))
 7112              		.loc 1 1861 7 is_stmt 1 view .LVU2046
1861:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->int_pin_cfg, 1, &tmp))
 7113              		.loc 1 1861 11 is_stmt 0 view .LVU2047
 7114 0074 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 7115 0078 43F03003 		orr	r3, r3, #48
 7116 007c 8DF80730 		strb	r3, [sp, #7]
 7117              	.L545:
1862:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 7118              		.loc 1 1862 5 is_stmt 1 view .LVU2048
1862:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 7119              		.loc 1 1862 21 is_stmt 0 view .LVU2049
 7120 0080 384B     		ldr	r3, .L563
 7121 0082 5868     		ldr	r0, [r3, #4]
1862:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 7122              		.loc 1 1862 34 view .LVU2050
 7123 0084 1968     		ldr	r1, [r3]
1862:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 7124              		.loc 1 1862 9 view .LVU2051
 7125 0086 0DF10703 		add	r3, sp, #7
 7126 008a 0122     		movs	r2, #1
 7127 008c C97D     		ldrb	r1, [r1, #23]	@ zero_extendqisi2
 7128 008e 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 7129 0090 FFF7FEFF 		bl	MPU_Write_Len
 7130              	.LVL488:
1862:DMP/driver/eMPL/inv_mpu.c ****       return -1;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 199


 7131              		.loc 1 1862 8 view .LVU2052
 7132 0094 0028     		cmp	r0, #0
 7133 0096 44D0     		beq	.L546
1863:DMP/driver/eMPL/inv_mpu.c ****   } else {
 7134              		.loc 1 1863 14 view .LVU2053
 7135 0098 4FF0FF30 		mov	r0, #-1
 7136 009c 44E0     		b	.L541
 7137              	.LVL489:
 7138              	.L543:
1866:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 7139              		.loc 1 1866 5 is_stmt 1 view .LVU2054
1866:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 7140              		.loc 1 1866 20 is_stmt 0 view .LVU2055
 7141 009e 314B     		ldr	r3, .L563
 7142 00a0 5868     		ldr	r0, [r3, #4]
 7143              	.LVL490:
1866:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 7144              		.loc 1 1866 33 view .LVU2056
 7145 00a2 1968     		ldr	r1, [r3]
1866:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 7146              		.loc 1 1866 9 view .LVU2057
 7147 00a4 0DF10703 		add	r3, sp, #7
 7148 00a8 0122     		movs	r2, #1
 7149 00aa 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 7150 00ac 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 7151 00ae FFF7FEFF 		bl	MPU_Read_Len
 7152              	.LVL491:
1866:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 7153              		.loc 1 1866 8 view .LVU2058
 7154 00b2 0028     		cmp	r0, #0
 7155 00b4 4DD1     		bne	.L556
1868:DMP/driver/eMPL/inv_mpu.c ****       tmp |= BIT_AUX_IF_EN;
 7156              		.loc 1 1868 5 is_stmt 1 view .LVU2059
1868:DMP/driver/eMPL/inv_mpu.c ****       tmp |= BIT_AUX_IF_EN;
 7157              		.loc 1 1868 20 is_stmt 0 view .LVU2060
 7158 00b6 2B4B     		ldr	r3, .L563
 7159 00b8 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
1868:DMP/driver/eMPL/inv_mpu.c ****       tmp |= BIT_AUX_IF_EN;
 7160              		.loc 1 1868 8 view .LVU2061
 7161 00ba 13F0010F 		tst	r3, #1
 7162 00be 35D0     		beq	.L547
1869:DMP/driver/eMPL/inv_mpu.c ****     else
 7163              		.loc 1 1869 7 is_stmt 1 view .LVU2062
1869:DMP/driver/eMPL/inv_mpu.c ****     else
 7164              		.loc 1 1869 11 is_stmt 0 view .LVU2063
 7165 00c0 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 7166 00c4 43F02003 		orr	r3, r3, #32
 7167 00c8 8DF80730 		strb	r3, [sp, #7]
 7168              	.L548:
1872:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 7169              		.loc 1 1872 5 is_stmt 1 view .LVU2064
1872:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 7170              		.loc 1 1872 21 is_stmt 0 view .LVU2065
 7171 00cc 254B     		ldr	r3, .L563
 7172 00ce 5868     		ldr	r0, [r3, #4]
1872:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 7173              		.loc 1 1872 34 view .LVU2066
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 200


 7174 00d0 1968     		ldr	r1, [r3]
1872:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 7175              		.loc 1 1872 9 view .LVU2067
 7176 00d2 0DF10703 		add	r3, sp, #7
 7177 00d6 0122     		movs	r2, #1
 7178 00d8 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 7179 00da 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 7180 00dc FFF7FEFF 		bl	MPU_Write_Len
 7181              	.LVL492:
1872:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 7182              		.loc 1 1872 8 view .LVU2068
 7183 00e0 0028     		cmp	r0, #0
 7184 00e2 39D1     		bne	.L557
1874:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.active_low_int)
 7185              		.loc 1 1874 5 is_stmt 1 view .LVU2069
 7186 00e4 0320     		movs	r0, #3
 7187 00e6 FFF7FEFF 		bl	HAL_Delay
 7188              	.LVL493:
1875:DMP/driver/eMPL/inv_mpu.c ****       tmp = BIT_ACTL;
 7189              		.loc 1 1875 5 view .LVU2070
1875:DMP/driver/eMPL/inv_mpu.c ****       tmp = BIT_ACTL;
 7190              		.loc 1 1875 20 is_stmt 0 view .LVU2071
 7191 00ea 1E4B     		ldr	r3, .L563
 7192 00ec 93F82230 		ldrb	r3, [r3, #34]	@ zero_extendqisi2
1875:DMP/driver/eMPL/inv_mpu.c ****       tmp = BIT_ACTL;
 7193              		.loc 1 1875 8 view .LVU2072
 7194 00f0 1BB3     		cbz	r3, .L549
1876:DMP/driver/eMPL/inv_mpu.c ****     else
 7195              		.loc 1 1876 7 is_stmt 1 view .LVU2073
1876:DMP/driver/eMPL/inv_mpu.c ****     else
 7196              		.loc 1 1876 11 is_stmt 0 view .LVU2074
 7197 00f2 8023     		movs	r3, #128
 7198 00f4 8DF80730 		strb	r3, [sp, #7]
 7199              	.L550:
1879:DMP/driver/eMPL/inv_mpu.c ****       tmp |= BIT_LATCH_EN | BIT_ANY_RD_CLR;
 7200              		.loc 1 1879 5 is_stmt 1 view .LVU2075
1879:DMP/driver/eMPL/inv_mpu.c ****       tmp |= BIT_LATCH_EN | BIT_ANY_RD_CLR;
 7201              		.loc 1 1879 20 is_stmt 0 view .LVU2076
 7202 00f8 1A4B     		ldr	r3, .L563
 7203 00fa 93F82330 		ldrb	r3, [r3, #35]	@ zero_extendqisi2
1879:DMP/driver/eMPL/inv_mpu.c ****       tmp |= BIT_LATCH_EN | BIT_ANY_RD_CLR;
 7204              		.loc 1 1879 8 view .LVU2077
 7205 00fe 2BB1     		cbz	r3, .L551
1880:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->int_pin_cfg, 1, &tmp))
 7206              		.loc 1 1880 7 is_stmt 1 view .LVU2078
1880:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->int_pin_cfg, 1, &tmp))
 7207              		.loc 1 1880 11 is_stmt 0 view .LVU2079
 7208 0100 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 7209 0104 43F03003 		orr	r3, r3, #48
 7210 0108 8DF80730 		strb	r3, [sp, #7]
 7211              	.L551:
1881:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 7212              		.loc 1 1881 5 is_stmt 1 view .LVU2080
1881:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 7213              		.loc 1 1881 21 is_stmt 0 view .LVU2081
 7214 010c 154B     		ldr	r3, .L563
 7215 010e 5868     		ldr	r0, [r3, #4]
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 201


1881:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 7216              		.loc 1 1881 34 view .LVU2082
 7217 0110 1968     		ldr	r1, [r3]
1881:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 7218              		.loc 1 1881 9 view .LVU2083
 7219 0112 0DF10703 		add	r3, sp, #7
 7220 0116 0122     		movs	r2, #1
 7221 0118 C97D     		ldrb	r1, [r1, #23]	@ zero_extendqisi2
 7222 011a 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 7223 011c FFF7FEFF 		bl	MPU_Write_Len
 7224              	.LVL494:
1881:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 7225              		.loc 1 1881 8 view .LVU2084
 7226 0120 E8B9     		cbnz	r0, .L558
 7227              	.L546:
1884:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 7228              		.loc 1 1884 3 is_stmt 1 view .LVU2085
1884:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 7229              		.loc 1 1884 27 is_stmt 0 view .LVU2086
 7230 0122 104B     		ldr	r3, .L563
 7231 0124 9C74     		strb	r4, [r3, #18]
1885:DMP/driver/eMPL/inv_mpu.c **** }
 7232              		.loc 1 1885 3 is_stmt 1 view .LVU2087
1885:DMP/driver/eMPL/inv_mpu.c **** }
 7233              		.loc 1 1885 10 is_stmt 0 view .LVU2088
 7234 0126 0020     		movs	r0, #0
 7235              	.L541:
1886:DMP/driver/eMPL/inv_mpu.c **** 
 7236              		.loc 1 1886 1 view .LVU2089
 7237 0128 02B0     		add	sp, sp, #8
 7238              	.LCFI122:
 7239              		.cfi_remember_state
 7240              		.cfi_def_cfa_offset 8
 7241              		@ sp needed
 7242 012a 10BD     		pop	{r4, pc}
 7243              	.L547:
 7244              	.LCFI123:
 7245              		.cfi_restore_state
1871:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &tmp))
 7246              		.loc 1 1871 7 is_stmt 1 view .LVU2090
1871:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->user_ctrl, 1, &tmp))
 7247              		.loc 1 1871 11 is_stmt 0 view .LVU2091
 7248 012c 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 7249 0130 23F02003 		bic	r3, r3, #32
 7250 0134 8DF80730 		strb	r3, [sp, #7]
 7251 0138 C8E7     		b	.L548
 7252              	.L549:
1878:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.latched_int)
 7253              		.loc 1 1878 7 is_stmt 1 view .LVU2092
1878:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.latched_int)
 7254              		.loc 1 1878 11 is_stmt 0 view .LVU2093
 7255 013a 0023     		movs	r3, #0
 7256 013c 8DF80730 		strb	r3, [sp, #7]
 7257 0140 DAE7     		b	.L550
 7258              	.LVL495:
 7259              	.L552:
 7260              	.LCFI124:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 202


 7261              		.cfi_def_cfa_offset 0
 7262              		.cfi_restore 4
 7263              		.cfi_restore 14
1848:DMP/driver/eMPL/inv_mpu.c **** 
 7264              		.loc 1 1848 12 view .LVU2094
 7265 0142 0020     		movs	r0, #0
 7266              	.LVL496:
1886:DMP/driver/eMPL/inv_mpu.c **** 
 7267              		.loc 1 1886 1 view .LVU2095
 7268 0144 7047     		bx	lr
 7269              	.L553:
 7270              	.LCFI125:
 7271              		.cfi_def_cfa_offset 16
 7272              		.cfi_offset 4, -8
 7273              		.cfi_offset 14, -4
1852:DMP/driver/eMPL/inv_mpu.c ****     tmp &= ~BIT_AUX_IF_EN;
 7274              		.loc 1 1852 14 view .LVU2096
 7275 0146 4FF0FF30 		mov	r0, #-1
 7276 014a EDE7     		b	.L541
 7277              	.L554:
1855:DMP/driver/eMPL/inv_mpu.c ****     delay_ms(3);
 7278              		.loc 1 1855 14 view .LVU2097
 7279 014c 4FF0FF30 		mov	r0, #-1
 7280 0150 EAE7     		b	.L541
 7281              	.L556:
1867:DMP/driver/eMPL/inv_mpu.c ****     if (st.chip_cfg.sensors & INV_XYZ_COMPASS)
 7282              		.loc 1 1867 14 view .LVU2098
 7283 0152 4FF0FF30 		mov	r0, #-1
 7284 0156 E7E7     		b	.L541
 7285              	.L557:
1873:DMP/driver/eMPL/inv_mpu.c ****     delay_ms(3);
 7286              		.loc 1 1873 14 view .LVU2099
 7287 0158 4FF0FF30 		mov	r0, #-1
 7288 015c E4E7     		b	.L541
 7289              	.L558:
1882:DMP/driver/eMPL/inv_mpu.c ****   }
 7290              		.loc 1 1882 14 view .LVU2100
 7291 015e 4FF0FF30 		mov	r0, #-1
 7292 0162 E1E7     		b	.L541
 7293              	.L564:
 7294              		.align	2
 7295              	.L563:
 7296 0164 00000000 		.word	st
 7297              		.cfi_endproc
 7298              	.LFE203:
 7300              		.section	.rodata.setup_compass.str1.4,"aMS",%progbits,1
 7301              		.align	2
 7302              	.LC28:
 7303 0000 436F6D70 		.ascii	"Compass not found.\000"
 7303      61737320 
 7303      6E6F7420 
 7303      666F756E 
 7303      642E00
 7304              		.section	.text.setup_compass,"ax",%progbits
 7305              		.align	1
 7306              		.syntax unified
 7307              		.thumb
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 203


 7308              		.thumb_func
 7310              	setup_compass:
 7311              	.LFB218:
2514:DMP/driver/eMPL/inv_mpu.c **** /**
2515:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Trigger gyro/accel/compass self-test for MPU6500/MPU9250
2516:DMP/driver/eMPL/inv_mpu.c ****  *  On success/error, the self-test returns a mask representing the sensor(s)
2517:DMP/driver/eMPL/inv_mpu.c ****  *  that failed. For each bit, a one (1) represents a "pass" case; conversely,
2518:DMP/driver/eMPL/inv_mpu.c ****  *  a zero (0) indicates a failure.
2519:DMP/driver/eMPL/inv_mpu.c ****  *
2520:DMP/driver/eMPL/inv_mpu.c ****  *  \n The mask is defined as follows:
2521:DMP/driver/eMPL/inv_mpu.c ****  *  \n Bit 0:   Gyro.
2522:DMP/driver/eMPL/inv_mpu.c ****  *  \n Bit 1:   Accel.
2523:DMP/driver/eMPL/inv_mpu.c ****  *  \n Bit 2:   Compass.
2524:DMP/driver/eMPL/inv_mpu.c ****  *
2525:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] gyro        Gyro biases in q16 format.
2526:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] accel       Accel biases (if applicable) in q16 format.
2527:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  debug       Debug flag used to print out more detailed logs.
2528:DMP/driver/eMPL/inv_mpu.c ****  * Must first set up logging in Motion Driver.
2529:DMP/driver/eMPL/inv_mpu.c ****  *  @return     Result mask (see above).
2530:DMP/driver/eMPL/inv_mpu.c ****  */
2531:DMP/driver/eMPL/inv_mpu.c **** int mpu_run_6500_self_test(long *gyro, long *accel, unsigned char debug) {
2532:DMP/driver/eMPL/inv_mpu.c ****   const unsigned char tries = 2;
2533:DMP/driver/eMPL/inv_mpu.c ****   long gyro_st[3], accel_st[3];
2534:DMP/driver/eMPL/inv_mpu.c ****   unsigned char accel_result, gyro_result;
2535:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
2536:DMP/driver/eMPL/inv_mpu.c ****   unsigned char compass_result;
2537:DMP/driver/eMPL/inv_mpu.c **** #endif
2538:DMP/driver/eMPL/inv_mpu.c ****   int ii;
2539:DMP/driver/eMPL/inv_mpu.c **** 
2540:DMP/driver/eMPL/inv_mpu.c ****   int result;
2541:DMP/driver/eMPL/inv_mpu.c ****   unsigned char accel_fsr, fifo_sensors, sensors_on;
2542:DMP/driver/eMPL/inv_mpu.c ****   unsigned short gyro_fsr, sample_rate, lpf;
2543:DMP/driver/eMPL/inv_mpu.c ****   unsigned char dmp_was_on;
2544:DMP/driver/eMPL/inv_mpu.c **** 
2545:DMP/driver/eMPL/inv_mpu.c ****   if (debug)
2546:DMP/driver/eMPL/inv_mpu.c ****     log_i("Starting MPU6500 HWST!\r\n");
2547:DMP/driver/eMPL/inv_mpu.c **** 
2548:DMP/driver/eMPL/inv_mpu.c ****   if (st.chip_cfg.dmp_on) {
2549:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_dmp_state(0);
2550:DMP/driver/eMPL/inv_mpu.c ****     dmp_was_on = 1;
2551:DMP/driver/eMPL/inv_mpu.c ****   } else
2552:DMP/driver/eMPL/inv_mpu.c ****     dmp_was_on = 0;
2553:DMP/driver/eMPL/inv_mpu.c **** 
2554:DMP/driver/eMPL/inv_mpu.c ****   /* Get initial settings. */
2555:DMP/driver/eMPL/inv_mpu.c ****   mpu_get_gyro_fsr(&gyro_fsr);
2556:DMP/driver/eMPL/inv_mpu.c ****   mpu_get_accel_fsr(&accel_fsr);
2557:DMP/driver/eMPL/inv_mpu.c ****   mpu_get_lpf(&lpf);
2558:DMP/driver/eMPL/inv_mpu.c ****   mpu_get_sample_rate(&sample_rate);
2559:DMP/driver/eMPL/inv_mpu.c ****   sensors_on = st.chip_cfg.sensors;
2560:DMP/driver/eMPL/inv_mpu.c ****   mpu_get_fifo_config(&fifo_sensors);
2561:DMP/driver/eMPL/inv_mpu.c **** 
2562:DMP/driver/eMPL/inv_mpu.c ****   if (debug)
2563:DMP/driver/eMPL/inv_mpu.c ****     log_i("Retrieving Biases\r\n");
2564:DMP/driver/eMPL/inv_mpu.c **** 
2565:DMP/driver/eMPL/inv_mpu.c ****   for (ii = 0; ii < tries; ii++)
2566:DMP/driver/eMPL/inv_mpu.c ****     if (!get_st_6500_biases(gyro, accel, 0, debug))
2567:DMP/driver/eMPL/inv_mpu.c ****       break;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 204


2568:DMP/driver/eMPL/inv_mpu.c ****   if (ii == tries) {
2569:DMP/driver/eMPL/inv_mpu.c ****     /* If we reach this point, we most likely encountered an I2C error.
2570:DMP/driver/eMPL/inv_mpu.c ****      * We'll just report an error for all three sensors.
2571:DMP/driver/eMPL/inv_mpu.c ****      */
2572:DMP/driver/eMPL/inv_mpu.c ****     if (debug)
2573:DMP/driver/eMPL/inv_mpu.c ****       log_i("Retrieving Biases Error - possible I2C error\n");
2574:DMP/driver/eMPL/inv_mpu.c **** 
2575:DMP/driver/eMPL/inv_mpu.c ****     result = 0;
2576:DMP/driver/eMPL/inv_mpu.c ****     goto restore;
2577:DMP/driver/eMPL/inv_mpu.c ****   }
2578:DMP/driver/eMPL/inv_mpu.c **** 
2579:DMP/driver/eMPL/inv_mpu.c ****   if (debug)
2580:DMP/driver/eMPL/inv_mpu.c ****     log_i("Retrieving ST Biases\n");
2581:DMP/driver/eMPL/inv_mpu.c **** 
2582:DMP/driver/eMPL/inv_mpu.c ****   for (ii = 0; ii < tries; ii++)
2583:DMP/driver/eMPL/inv_mpu.c ****     if (!get_st_6500_biases(gyro_st, accel_st, 1, debug))
2584:DMP/driver/eMPL/inv_mpu.c ****       break;
2585:DMP/driver/eMPL/inv_mpu.c ****   if (ii == tries) {
2586:DMP/driver/eMPL/inv_mpu.c **** 
2587:DMP/driver/eMPL/inv_mpu.c ****     if (debug)
2588:DMP/driver/eMPL/inv_mpu.c ****       log_i("Retrieving ST Biases Error - possible I2C error\n");
2589:DMP/driver/eMPL/inv_mpu.c **** 
2590:DMP/driver/eMPL/inv_mpu.c ****     /* Again, probably an I2C error. */
2591:DMP/driver/eMPL/inv_mpu.c ****     result = 0;
2592:DMP/driver/eMPL/inv_mpu.c ****     goto restore;
2593:DMP/driver/eMPL/inv_mpu.c ****   }
2594:DMP/driver/eMPL/inv_mpu.c **** 
2595:DMP/driver/eMPL/inv_mpu.c ****   accel_result = accel_6500_self_test(accel, accel_st, debug);
2596:DMP/driver/eMPL/inv_mpu.c ****   if (debug)
2597:DMP/driver/eMPL/inv_mpu.c ****     log_i("Accel Self Test Results: %d\n", accel_result);
2598:DMP/driver/eMPL/inv_mpu.c **** 
2599:DMP/driver/eMPL/inv_mpu.c ****   gyro_result = gyro_6500_self_test(gyro, gyro_st, debug);
2600:DMP/driver/eMPL/inv_mpu.c ****   if (debug)
2601:DMP/driver/eMPL/inv_mpu.c ****     log_i("Gyro Self Test Results: %d\n", gyro_result);
2602:DMP/driver/eMPL/inv_mpu.c **** 
2603:DMP/driver/eMPL/inv_mpu.c ****   result = 0;
2604:DMP/driver/eMPL/inv_mpu.c ****   if (!gyro_result)
2605:DMP/driver/eMPL/inv_mpu.c ****     result |= 0x01;
2606:DMP/driver/eMPL/inv_mpu.c ****   if (!accel_result)
2607:DMP/driver/eMPL/inv_mpu.c ****     result |= 0x02;
2608:DMP/driver/eMPL/inv_mpu.c **** 
2609:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
2610:DMP/driver/eMPL/inv_mpu.c ****   compass_result = compass_self_test();
2611:DMP/driver/eMPL/inv_mpu.c ****   if (debug)
2612:DMP/driver/eMPL/inv_mpu.c ****     log_i("Compass Self Test Results: %d\n", compass_result);
2613:DMP/driver/eMPL/inv_mpu.c ****   if (!compass_result)
2614:DMP/driver/eMPL/inv_mpu.c ****     result |= 0x04;
2615:DMP/driver/eMPL/inv_mpu.c **** #else
2616:DMP/driver/eMPL/inv_mpu.c ****   result |= 0x04;
2617:DMP/driver/eMPL/inv_mpu.c **** #endif
2618:DMP/driver/eMPL/inv_mpu.c **** restore:
2619:DMP/driver/eMPL/inv_mpu.c ****   if (debug)
2620:DMP/driver/eMPL/inv_mpu.c ****     log_i("Exiting HWST\n");
2621:DMP/driver/eMPL/inv_mpu.c ****   /* Set to invalid values to ensure no I2C writes are skipped. */
2622:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.gyro_fsr = 0xFF;
2623:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.accel_fsr = 0xFF;
2624:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.lpf = 0xFF;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 205


2625:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.sample_rate = 0xFFFF;
2626:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.sensors = 0xFF;
2627:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.fifo_enable = 0xFF;
2628:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.clk_src = INV_CLK_PLL;
2629:DMP/driver/eMPL/inv_mpu.c ****   mpu_set_gyro_fsr(gyro_fsr);
2630:DMP/driver/eMPL/inv_mpu.c ****   mpu_set_accel_fsr(accel_fsr);
2631:DMP/driver/eMPL/inv_mpu.c ****   mpu_set_lpf(lpf);
2632:DMP/driver/eMPL/inv_mpu.c ****   mpu_set_sample_rate(sample_rate);
2633:DMP/driver/eMPL/inv_mpu.c ****   mpu_set_sensors(sensors_on);
2634:DMP/driver/eMPL/inv_mpu.c ****   mpu_configure_fifo(fifo_sensors);
2635:DMP/driver/eMPL/inv_mpu.c **** 
2636:DMP/driver/eMPL/inv_mpu.c ****   if (dmp_was_on)
2637:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_dmp_state(1);
2638:DMP/driver/eMPL/inv_mpu.c **** 
2639:DMP/driver/eMPL/inv_mpu.c ****   return result;
2640:DMP/driver/eMPL/inv_mpu.c **** }
2641:DMP/driver/eMPL/inv_mpu.c **** #endif
2642:DMP/driver/eMPL/inv_mpu.c **** /*
2643:DMP/driver/eMPL/inv_mpu.c ****  *  \n This function must be called with the device either face-up or face-down
2644:DMP/driver/eMPL/inv_mpu.c ****  *  (z-axis is parallel to gravity).
2645:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] gyro        Gyro biases in q16 format.
2646:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] accel       Accel biases (if applicable) in q16 format.
2647:DMP/driver/eMPL/inv_mpu.c ****  *  @return     Result mask (see above).
2648:DMP/driver/eMPL/inv_mpu.c ****  */
2649:DMP/driver/eMPL/inv_mpu.c **** int mpu_run_self_test(long *gyro, long *accel) {
2650:DMP/driver/eMPL/inv_mpu.c **** #ifdef MPU6050
2651:DMP/driver/eMPL/inv_mpu.c ****   const unsigned char tries = 2;
2652:DMP/driver/eMPL/inv_mpu.c ****   long gyro_st[3], accel_st[3];
2653:DMP/driver/eMPL/inv_mpu.c ****   unsigned char accel_result, gyro_result;
2654:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
2655:DMP/driver/eMPL/inv_mpu.c ****   unsigned char compass_result;
2656:DMP/driver/eMPL/inv_mpu.c **** #endif
2657:DMP/driver/eMPL/inv_mpu.c ****   int ii;
2658:DMP/driver/eMPL/inv_mpu.c **** #endif
2659:DMP/driver/eMPL/inv_mpu.c ****   int result;
2660:DMP/driver/eMPL/inv_mpu.c ****   unsigned char accel_fsr, fifo_sensors, sensors_on;
2661:DMP/driver/eMPL/inv_mpu.c ****   unsigned short gyro_fsr, sample_rate, lpf;
2662:DMP/driver/eMPL/inv_mpu.c ****   unsigned char dmp_was_on;
2663:DMP/driver/eMPL/inv_mpu.c **** 
2664:DMP/driver/eMPL/inv_mpu.c ****   if (st.chip_cfg.dmp_on) {
2665:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_dmp_state(0);
2666:DMP/driver/eMPL/inv_mpu.c ****     dmp_was_on = 1;
2667:DMP/driver/eMPL/inv_mpu.c ****   } else
2668:DMP/driver/eMPL/inv_mpu.c ****     dmp_was_on = 0;
2669:DMP/driver/eMPL/inv_mpu.c **** 
2670:DMP/driver/eMPL/inv_mpu.c ****   /* Get initial settings. */
2671:DMP/driver/eMPL/inv_mpu.c ****   mpu_get_gyro_fsr(&gyro_fsr);
2672:DMP/driver/eMPL/inv_mpu.c ****   mpu_get_accel_fsr(&accel_fsr);
2673:DMP/driver/eMPL/inv_mpu.c ****   mpu_get_lpf(&lpf);
2674:DMP/driver/eMPL/inv_mpu.c ****   mpu_get_sample_rate(&sample_rate);
2675:DMP/driver/eMPL/inv_mpu.c ****   sensors_on = st.chip_cfg.sensors;
2676:DMP/driver/eMPL/inv_mpu.c ****   mpu_get_fifo_config(&fifo_sensors);
2677:DMP/driver/eMPL/inv_mpu.c **** 
2678:DMP/driver/eMPL/inv_mpu.c ****   /* For older chips, the self-test will be different. */
2679:DMP/driver/eMPL/inv_mpu.c **** #if defined MPU6050
2680:DMP/driver/eMPL/inv_mpu.c ****   for (ii = 0; ii < tries; ii++)
2681:DMP/driver/eMPL/inv_mpu.c ****     if (!get_st_biases(gyro, accel, 0))
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 206


2682:DMP/driver/eMPL/inv_mpu.c ****       break;
2683:DMP/driver/eMPL/inv_mpu.c ****   if (ii == tries) {
2684:DMP/driver/eMPL/inv_mpu.c ****     /* If we reach this point, we most likely encountered an I2C error.
2685:DMP/driver/eMPL/inv_mpu.c ****      * We'll just report an error for all three sensors.
2686:DMP/driver/eMPL/inv_mpu.c ****      */
2687:DMP/driver/eMPL/inv_mpu.c ****     result = 0;
2688:DMP/driver/eMPL/inv_mpu.c ****     goto restore;
2689:DMP/driver/eMPL/inv_mpu.c ****   }
2690:DMP/driver/eMPL/inv_mpu.c ****   for (ii = 0; ii < tries; ii++)
2691:DMP/driver/eMPL/inv_mpu.c ****     if (!get_st_biases(gyro_st, accel_st, 1))
2692:DMP/driver/eMPL/inv_mpu.c ****       break;
2693:DMP/driver/eMPL/inv_mpu.c ****   if (ii == tries) {
2694:DMP/driver/eMPL/inv_mpu.c ****     /* Again, probably an I2C error. */
2695:DMP/driver/eMPL/inv_mpu.c ****     result = 0;
2696:DMP/driver/eMPL/inv_mpu.c ****     goto restore;
2697:DMP/driver/eMPL/inv_mpu.c ****   }
2698:DMP/driver/eMPL/inv_mpu.c ****   accel_result = accel_self_test(accel, accel_st);
2699:DMP/driver/eMPL/inv_mpu.c ****   gyro_result = gyro_self_test(gyro, gyro_st);
2700:DMP/driver/eMPL/inv_mpu.c **** 
2701:DMP/driver/eMPL/inv_mpu.c ****   result = 0;
2702:DMP/driver/eMPL/inv_mpu.c ****   if (!gyro_result)
2703:DMP/driver/eMPL/inv_mpu.c ****     result |= 0x01;
2704:DMP/driver/eMPL/inv_mpu.c ****   if (!accel_result)
2705:DMP/driver/eMPL/inv_mpu.c ****     result |= 0x02;
2706:DMP/driver/eMPL/inv_mpu.c **** 
2707:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
2708:DMP/driver/eMPL/inv_mpu.c ****   compass_result = compass_self_test();
2709:DMP/driver/eMPL/inv_mpu.c ****   if (!compass_result)
2710:DMP/driver/eMPL/inv_mpu.c ****     result |= 0x04;
2711:DMP/driver/eMPL/inv_mpu.c **** #else
2712:DMP/driver/eMPL/inv_mpu.c ****   result |= 0x04;
2713:DMP/driver/eMPL/inv_mpu.c **** #endif
2714:DMP/driver/eMPL/inv_mpu.c **** restore:
2715:DMP/driver/eMPL/inv_mpu.c **** #elif defined MPU6500
2716:DMP/driver/eMPL/inv_mpu.c ****   /* For now, this function will return a "pass" result for all three sensors
2717:DMP/driver/eMPL/inv_mpu.c ****    * for compatibility with current test applications.
2718:DMP/driver/eMPL/inv_mpu.c ****    */
2719:DMP/driver/eMPL/inv_mpu.c ****   get_st_biases(gyro, accel, 0);
2720:DMP/driver/eMPL/inv_mpu.c ****   result = 0x7;
2721:DMP/driver/eMPL/inv_mpu.c **** #endif
2722:DMP/driver/eMPL/inv_mpu.c ****   /* Set to invalid values to ensure no I2C writes are skipped. */
2723:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.gyro_fsr = 0xFF;
2724:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.accel_fsr = 0xFF;
2725:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.lpf = 0xFF;
2726:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.sample_rate = 0xFFFF;
2727:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.sensors = 0xFF;
2728:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.fifo_enable = 0xFF;
2729:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.clk_src = INV_CLK_PLL;
2730:DMP/driver/eMPL/inv_mpu.c ****   mpu_set_gyro_fsr(gyro_fsr);
2731:DMP/driver/eMPL/inv_mpu.c ****   mpu_set_accel_fsr(accel_fsr);
2732:DMP/driver/eMPL/inv_mpu.c ****   mpu_set_lpf(lpf);
2733:DMP/driver/eMPL/inv_mpu.c ****   mpu_set_sample_rate(sample_rate);
2734:DMP/driver/eMPL/inv_mpu.c ****   mpu_set_sensors(sensors_on);
2735:DMP/driver/eMPL/inv_mpu.c ****   mpu_configure_fifo(fifo_sensors);
2736:DMP/driver/eMPL/inv_mpu.c **** 
2737:DMP/driver/eMPL/inv_mpu.c ****   if (dmp_was_on)
2738:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_dmp_state(1);
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 207


2739:DMP/driver/eMPL/inv_mpu.c **** 
2740:DMP/driver/eMPL/inv_mpu.c ****   return result;
2741:DMP/driver/eMPL/inv_mpu.c **** }
2742:DMP/driver/eMPL/inv_mpu.c **** 
2743:DMP/driver/eMPL/inv_mpu.c **** /**
2744:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Write to the DMP memory.
2745:DMP/driver/eMPL/inv_mpu.c ****  *  This function prevents I2C writes past the bank boundaries. The DMP memory
2746:DMP/driver/eMPL/inv_mpu.c ****  *  is only accessible when the chip is awake.
2747:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  mem_addr    Memory location (bank << 8 | start address)
2748:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  length      Number of bytes to write.
2749:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  data        Bytes to write to memory.
2750:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
2751:DMP/driver/eMPL/inv_mpu.c ****  */
2752:DMP/driver/eMPL/inv_mpu.c **** int mpu_write_mem(unsigned short mem_addr, unsigned short length,
2753:DMP/driver/eMPL/inv_mpu.c ****                   unsigned char *data) {
2754:DMP/driver/eMPL/inv_mpu.c ****   unsigned char tmp[2];
2755:DMP/driver/eMPL/inv_mpu.c **** 
2756:DMP/driver/eMPL/inv_mpu.c ****   if (!data)
2757:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2758:DMP/driver/eMPL/inv_mpu.c ****   if (!st.chip_cfg.sensors)
2759:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2760:DMP/driver/eMPL/inv_mpu.c **** 
2761:DMP/driver/eMPL/inv_mpu.c ****   tmp[0] = (unsigned char)(mem_addr >> 8);
2762:DMP/driver/eMPL/inv_mpu.c ****   tmp[1] = (unsigned char)(mem_addr & 0xFF);
2763:DMP/driver/eMPL/inv_mpu.c **** 
2764:DMP/driver/eMPL/inv_mpu.c ****   /* Check bank boundaries. */
2765:DMP/driver/eMPL/inv_mpu.c ****   if (tmp[1] + length > st.hw->bank_size)
2766:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2767:DMP/driver/eMPL/inv_mpu.c **** 
2768:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->bank_sel, 2, tmp))
2769:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2770:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->mem_r_w, length, data))
2771:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2772:DMP/driver/eMPL/inv_mpu.c ****   return 0;
2773:DMP/driver/eMPL/inv_mpu.c **** }
2774:DMP/driver/eMPL/inv_mpu.c **** 
2775:DMP/driver/eMPL/inv_mpu.c **** /**
2776:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Read from the DMP memory.
2777:DMP/driver/eMPL/inv_mpu.c ****  *  This function prevents I2C reads past the bank boundaries. The DMP memory
2778:DMP/driver/eMPL/inv_mpu.c ****  *  is only accessible when the chip is awake.
2779:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  mem_addr    Memory location (bank << 8 | start address)
2780:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  length      Number of bytes to read.
2781:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] data        Bytes read from memory.
2782:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
2783:DMP/driver/eMPL/inv_mpu.c ****  */
2784:DMP/driver/eMPL/inv_mpu.c **** int mpu_read_mem(unsigned short mem_addr, unsigned short length,
2785:DMP/driver/eMPL/inv_mpu.c ****                  unsigned char *data) {
2786:DMP/driver/eMPL/inv_mpu.c ****   unsigned char tmp[2];
2787:DMP/driver/eMPL/inv_mpu.c **** 
2788:DMP/driver/eMPL/inv_mpu.c ****   if (!data)
2789:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2790:DMP/driver/eMPL/inv_mpu.c ****   if (!st.chip_cfg.sensors)
2791:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2792:DMP/driver/eMPL/inv_mpu.c **** 
2793:DMP/driver/eMPL/inv_mpu.c ****   tmp[0] = (unsigned char)(mem_addr >> 8);
2794:DMP/driver/eMPL/inv_mpu.c ****   tmp[1] = (unsigned char)(mem_addr & 0xFF);
2795:DMP/driver/eMPL/inv_mpu.c **** 
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 208


2796:DMP/driver/eMPL/inv_mpu.c ****   /* Check bank boundaries. */
2797:DMP/driver/eMPL/inv_mpu.c ****   if (tmp[1] + length > st.hw->bank_size)
2798:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2799:DMP/driver/eMPL/inv_mpu.c **** 
2800:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->bank_sel, 2, tmp))
2801:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2802:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_read(st.hw->addr, st.reg->mem_r_w, length, data))
2803:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2804:DMP/driver/eMPL/inv_mpu.c ****   return 0;
2805:DMP/driver/eMPL/inv_mpu.c **** }
2806:DMP/driver/eMPL/inv_mpu.c **** 
2807:DMP/driver/eMPL/inv_mpu.c **** /**
2808:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Load and verify DMP image.
2809:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  length      Length of DMP image.
2810:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  firmware    DMP code.
2811:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  start_addr  Starting address of DMP code memory.
2812:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  sample_rate Fixed sampling rate used when DMP is enabled.
2813:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
2814:DMP/driver/eMPL/inv_mpu.c ****  */
2815:DMP/driver/eMPL/inv_mpu.c **** int mpu_load_firmware(unsigned short length, const unsigned char *firmware,
2816:DMP/driver/eMPL/inv_mpu.c ****                       unsigned short start_addr, unsigned short sample_rate) {
2817:DMP/driver/eMPL/inv_mpu.c ****   unsigned short ii;
2818:DMP/driver/eMPL/inv_mpu.c ****   unsigned short this_write;
2819:DMP/driver/eMPL/inv_mpu.c ****   /* Must divide evenly into st.hw->bank_size to avoid bank crossings. */
2820:DMP/driver/eMPL/inv_mpu.c **** #define LOAD_CHUNK (16)
2821:DMP/driver/eMPL/inv_mpu.c ****   unsigned char cur[LOAD_CHUNK], tmp[2];
2822:DMP/driver/eMPL/inv_mpu.c **** 
2823:DMP/driver/eMPL/inv_mpu.c ****   if (st.chip_cfg.dmp_loaded)
2824:DMP/driver/eMPL/inv_mpu.c ****     /* DMP should only be loaded once. */
2825:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2826:DMP/driver/eMPL/inv_mpu.c **** 
2827:DMP/driver/eMPL/inv_mpu.c ****   if (!firmware)
2828:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2829:DMP/driver/eMPL/inv_mpu.c ****   for (ii = 0; ii < length; ii += this_write) {
2830:DMP/driver/eMPL/inv_mpu.c ****     this_write = min(LOAD_CHUNK, length - ii);
2831:DMP/driver/eMPL/inv_mpu.c ****     if (mpu_write_mem(ii, this_write, (unsigned char *)&firmware[ii]))
2832:DMP/driver/eMPL/inv_mpu.c ****       return -1;
2833:DMP/driver/eMPL/inv_mpu.c ****     if (mpu_read_mem(ii, this_write, cur))
2834:DMP/driver/eMPL/inv_mpu.c ****       return -1;
2835:DMP/driver/eMPL/inv_mpu.c ****     if (memcmp(firmware + ii, cur, this_write))
2836:DMP/driver/eMPL/inv_mpu.c ****       return -2;
2837:DMP/driver/eMPL/inv_mpu.c ****   }
2838:DMP/driver/eMPL/inv_mpu.c **** 
2839:DMP/driver/eMPL/inv_mpu.c ****   /* Set program start address. */
2840:DMP/driver/eMPL/inv_mpu.c ****   tmp[0] = start_addr >> 8;
2841:DMP/driver/eMPL/inv_mpu.c ****   tmp[1] = start_addr & 0xFF;
2842:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->prgm_start_h, 2, tmp))
2843:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2844:DMP/driver/eMPL/inv_mpu.c **** 
2845:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.dmp_loaded = 1;
2846:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.dmp_sample_rate = sample_rate;
2847:DMP/driver/eMPL/inv_mpu.c ****   return 0;
2848:DMP/driver/eMPL/inv_mpu.c **** }
2849:DMP/driver/eMPL/inv_mpu.c **** 
2850:DMP/driver/eMPL/inv_mpu.c **** /**
2851:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Enable/disable DMP support.
2852:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  enable  1 to turn on the DMP.
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 209


2853:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
2854:DMP/driver/eMPL/inv_mpu.c ****  */
2855:DMP/driver/eMPL/inv_mpu.c **** int mpu_set_dmp_state(unsigned char enable) {
2856:DMP/driver/eMPL/inv_mpu.c ****   unsigned char tmp;
2857:DMP/driver/eMPL/inv_mpu.c ****   if (st.chip_cfg.dmp_on == enable)
2858:DMP/driver/eMPL/inv_mpu.c ****     return 0;
2859:DMP/driver/eMPL/inv_mpu.c **** 
2860:DMP/driver/eMPL/inv_mpu.c ****   if (enable) {
2861:DMP/driver/eMPL/inv_mpu.c ****     if (!st.chip_cfg.dmp_loaded)
2862:DMP/driver/eMPL/inv_mpu.c ****       return -1;
2863:DMP/driver/eMPL/inv_mpu.c ****     /* Disable data ready interrupt. */
2864:DMP/driver/eMPL/inv_mpu.c ****     set_int_enable(0);
2865:DMP/driver/eMPL/inv_mpu.c ****     /* Disable bypass mode. */
2866:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_bypass(0);
2867:DMP/driver/eMPL/inv_mpu.c ****     /* Keep constant sample rate, FIFO rate controlled by DMP. */
2868:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_sample_rate(st.chip_cfg.dmp_sample_rate);
2869:DMP/driver/eMPL/inv_mpu.c ****     /* Remove FIFO elements. */
2870:DMP/driver/eMPL/inv_mpu.c ****     tmp = 0;
2871:DMP/driver/eMPL/inv_mpu.c ****     i2c_write(st.hw->addr, 0x23, 1, &tmp);
2872:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.dmp_on = 1;
2873:DMP/driver/eMPL/inv_mpu.c ****     /* Enable DMP interrupt. */
2874:DMP/driver/eMPL/inv_mpu.c ****     set_int_enable(1);
2875:DMP/driver/eMPL/inv_mpu.c ****     mpu_reset_fifo();
2876:DMP/driver/eMPL/inv_mpu.c ****   } else {
2877:DMP/driver/eMPL/inv_mpu.c ****     /* Disable DMP interrupt. */
2878:DMP/driver/eMPL/inv_mpu.c ****     set_int_enable(0);
2879:DMP/driver/eMPL/inv_mpu.c ****     /* Restore FIFO settings. */
2880:DMP/driver/eMPL/inv_mpu.c ****     tmp = st.chip_cfg.fifo_enable;
2881:DMP/driver/eMPL/inv_mpu.c ****     i2c_write(st.hw->addr, 0x23, 1, &tmp);
2882:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.dmp_on = 0;
2883:DMP/driver/eMPL/inv_mpu.c ****     mpu_reset_fifo();
2884:DMP/driver/eMPL/inv_mpu.c ****   }
2885:DMP/driver/eMPL/inv_mpu.c ****   return 0;
2886:DMP/driver/eMPL/inv_mpu.c **** }
2887:DMP/driver/eMPL/inv_mpu.c **** 
2888:DMP/driver/eMPL/inv_mpu.c **** /**
2889:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Get DMP state.
2890:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] enabled 1 if enabled.
2891:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
2892:DMP/driver/eMPL/inv_mpu.c ****  */
2893:DMP/driver/eMPL/inv_mpu.c **** int mpu_get_dmp_state(unsigned char *enabled) {
2894:DMP/driver/eMPL/inv_mpu.c ****   enabled[0] = st.chip_cfg.dmp_on;
2895:DMP/driver/eMPL/inv_mpu.c ****   return 0;
2896:DMP/driver/eMPL/inv_mpu.c **** }
2897:DMP/driver/eMPL/inv_mpu.c **** 
2898:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
2899:DMP/driver/eMPL/inv_mpu.c **** /* This initialization is similar to the one in ak8975.c. */
2900:DMP/driver/eMPL/inv_mpu.c **** static int setup_compass(void) {
 7312              		.loc 1 2900 32 is_stmt 1 view -0
 7313              		.cfi_startproc
 7314              		@ args = 0, pretend = 0, frame = 8
 7315              		@ frame_needed = 0, uses_anonymous_args = 0
 7316 0000 10B5     		push	{r4, lr}
 7317              	.LCFI126:
 7318              		.cfi_def_cfa_offset 8
 7319              		.cfi_offset 4, -8
 7320              		.cfi_offset 14, -4
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 210


 7321 0002 82B0     		sub	sp, sp, #8
 7322              	.LCFI127:
 7323              		.cfi_def_cfa_offset 16
2901:DMP/driver/eMPL/inv_mpu.c ****   unsigned char data[4], akm_addr;
 7324              		.loc 1 2901 3 view .LVU2102
2902:DMP/driver/eMPL/inv_mpu.c **** 
2903:DMP/driver/eMPL/inv_mpu.c ****   mpu_set_bypass(1);
 7325              		.loc 1 2903 3 view .LVU2103
 7326 0004 0120     		movs	r0, #1
 7327 0006 FFF7FEFF 		bl	mpu_set_bypass
 7328              	.LVL497:
2904:DMP/driver/eMPL/inv_mpu.c **** 
2905:DMP/driver/eMPL/inv_mpu.c ****   /* Find compass. Possible addresses range from 0x0C to 0x0F. */
2906:DMP/driver/eMPL/inv_mpu.c ****   for (akm_addr = 0x0C; akm_addr <= 0x0F; akm_addr++) {
 7329              		.loc 1 2906 3 view .LVU2104
 7330              		.loc 1 2906 17 is_stmt 0 view .LVU2105
 7331 000a 0C24     		movs	r4, #12
 7332              		.loc 1 2906 3 view .LVU2106
 7333 000c 01E0     		b	.L566
 7334              	.LVL498:
 7335              	.L567:
 7336              		.loc 1 2906 51 is_stmt 1 discriminator 2 view .LVU2107
 7337 000e 0134     		adds	r4, r4, #1
 7338              	.LVL499:
 7339              		.loc 1 2906 51 is_stmt 0 discriminator 2 view .LVU2108
 7340 0010 E4B2     		uxtb	r4, r4
 7341              	.LVL500:
 7342              	.L566:
 7343              		.loc 1 2906 34 is_stmt 1 discriminator 1 view .LVU2109
 7344 0012 0F2C     		cmp	r4, #15
 7345 0014 0BD8     		bhi	.L568
 7346              	.LBB5:
2907:DMP/driver/eMPL/inv_mpu.c ****     int result;
 7347              		.loc 1 2907 5 view .LVU2110
2908:DMP/driver/eMPL/inv_mpu.c ****     result = i2c_read(akm_addr, AKM_REG_WHOAMI, 1, data);
 7348              		.loc 1 2908 5 view .LVU2111
 7349              		.loc 1 2908 14 is_stmt 0 view .LVU2112
 7350 0016 01AB     		add	r3, sp, #4
 7351 0018 0122     		movs	r2, #1
 7352 001a 0021     		movs	r1, #0
 7353 001c 2046     		mov	r0, r4
 7354 001e FFF7FEFF 		bl	MPU_Read_Len
 7355              	.LVL501:
2909:DMP/driver/eMPL/inv_mpu.c ****     if (!result && (data[0] == AKM_WHOAMI))
 7356              		.loc 1 2909 5 is_stmt 1 view .LVU2113
 7357              		.loc 1 2909 8 is_stmt 0 view .LVU2114
 7358 0022 0028     		cmp	r0, #0
 7359 0024 F3D1     		bne	.L567
 7360              		.loc 1 2909 25 discriminator 1 view .LVU2115
 7361 0026 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 7362              		.loc 1 2909 17 discriminator 1 view .LVU2116
 7363 002a 482B     		cmp	r3, #72
 7364 002c EFD1     		bne	.L567
 7365              	.LVL502:
 7366              	.L568:
 7367              		.loc 1 2909 17 discriminator 1 view .LVU2117
 7368              	.LBE5:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 211


2910:DMP/driver/eMPL/inv_mpu.c ****       break;
2911:DMP/driver/eMPL/inv_mpu.c ****   }
2912:DMP/driver/eMPL/inv_mpu.c **** 
2913:DMP/driver/eMPL/inv_mpu.c ****   if (akm_addr > 0x0F) {
 7369              		.loc 1 2913 3 is_stmt 1 view .LVU2118
 7370              		.loc 1 2913 6 is_stmt 0 view .LVU2119
 7371 002e 0F2C     		cmp	r4, #15
 7372 0030 00F2D780 		bhi	.L586
2914:DMP/driver/eMPL/inv_mpu.c ****     /* TODO: Handle this case in all compass-related functions. */
2915:DMP/driver/eMPL/inv_mpu.c ****     log_e("Compass not found.\n");
2916:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2917:DMP/driver/eMPL/inv_mpu.c ****   }
2918:DMP/driver/eMPL/inv_mpu.c **** 
2919:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.compass_addr = akm_addr;
 7373              		.loc 1 2919 3 is_stmt 1 view .LVU2120
 7374              		.loc 1 2919 28 is_stmt 0 view .LVU2121
 7375 0034 814B     		ldr	r3, .L587
 7376 0036 83F82A40 		strb	r4, [r3, #42]
2920:DMP/driver/eMPL/inv_mpu.c **** 
2921:DMP/driver/eMPL/inv_mpu.c ****   data[0] = AKM_POWER_DOWN;
 7377              		.loc 1 2921 3 is_stmt 1 view .LVU2122
 7378              		.loc 1 2921 11 is_stmt 0 view .LVU2123
 7379 003a 1023     		movs	r3, #16
 7380 003c 8DF80430 		strb	r3, [sp, #4]
2922:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.chip_cfg.compass_addr, AKM_REG_CNTL, 1, data))
 7381              		.loc 1 2922 3 is_stmt 1 view .LVU2124
 7382              		.loc 1 2922 7 is_stmt 0 view .LVU2125
 7383 0040 01AB     		add	r3, sp, #4
 7384 0042 0122     		movs	r2, #1
 7385 0044 0A21     		movs	r1, #10
 7386 0046 2046     		mov	r0, r4
 7387 0048 FFF7FEFF 		bl	MPU_Write_Len
 7388              	.LVL503:
 7389              		.loc 1 2922 6 view .LVU2126
 7390 004c 0028     		cmp	r0, #0
 7391 004e 40F0CE80 		bne	.L572
2923:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2924:DMP/driver/eMPL/inv_mpu.c ****   delay_ms(1);
 7392              		.loc 1 2924 3 is_stmt 1 view .LVU2127
 7393 0052 0120     		movs	r0, #1
 7394 0054 FFF7FEFF 		bl	HAL_Delay
 7395              	.LVL504:
2925:DMP/driver/eMPL/inv_mpu.c **** 
2926:DMP/driver/eMPL/inv_mpu.c ****   data[0] = AKM_FUSE_ROM_ACCESS;
 7396              		.loc 1 2926 3 view .LVU2128
 7397              		.loc 1 2926 11 is_stmt 0 view .LVU2129
 7398 0058 1F23     		movs	r3, #31
 7399 005a 8DF80430 		strb	r3, [sp, #4]
2927:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.chip_cfg.compass_addr, AKM_REG_CNTL, 1, data))
 7400              		.loc 1 2927 3 is_stmt 1 view .LVU2130
 7401              		.loc 1 2927 7 is_stmt 0 view .LVU2131
 7402 005e 01AB     		add	r3, sp, #4
 7403 0060 0122     		movs	r2, #1
 7404 0062 0A21     		movs	r1, #10
 7405 0064 7548     		ldr	r0, .L587
 7406 0066 90F82A00 		ldrb	r0, [r0, #42]	@ zero_extendqisi2
 7407 006a FFF7FEFF 		bl	MPU_Write_Len
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 212


 7408              	.LVL505:
 7409              		.loc 1 2927 6 view .LVU2132
 7410 006e 0028     		cmp	r0, #0
 7411 0070 40F0C080 		bne	.L573
2928:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2929:DMP/driver/eMPL/inv_mpu.c ****   delay_ms(1);
 7412              		.loc 1 2929 3 is_stmt 1 view .LVU2133
 7413 0074 0120     		movs	r0, #1
 7414 0076 FFF7FEFF 		bl	HAL_Delay
 7415              	.LVL506:
2930:DMP/driver/eMPL/inv_mpu.c **** 
2931:DMP/driver/eMPL/inv_mpu.c ****   /* Get sensitivity adjustment data from fuse ROM. */
2932:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_read(st.chip_cfg.compass_addr, AKM_REG_ASAX, 3, data))
 7416              		.loc 1 2932 3 view .LVU2134
 7417              		.loc 1 2932 7 is_stmt 0 view .LVU2135
 7418 007a 01AB     		add	r3, sp, #4
 7419 007c 0322     		movs	r2, #3
 7420 007e 1021     		movs	r1, #16
 7421 0080 6E48     		ldr	r0, .L587
 7422 0082 90F82A00 		ldrb	r0, [r0, #42]	@ zero_extendqisi2
 7423 0086 FFF7FEFF 		bl	MPU_Read_Len
 7424              	.LVL507:
 7425              		.loc 1 2932 6 view .LVU2136
 7426 008a 0028     		cmp	r0, #0
 7427 008c 40F0B580 		bne	.L574
2933:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2934:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.mag_sens_adj[0] = (long)data[0] + 128;
 7428              		.loc 1 2934 3 is_stmt 1 view .LVU2137
 7429              		.loc 1 2934 43 is_stmt 0 view .LVU2138
 7430 0090 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 7431              		.loc 1 2934 47 view .LVU2139
 7432 0094 8033     		adds	r3, r3, #128
 7433              		.loc 1 2934 31 view .LVU2140
 7434 0096 6948     		ldr	r0, .L587
 7435 0098 8385     		strh	r3, [r0, #44]	@ movhi
2935:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.mag_sens_adj[1] = (long)data[1] + 128;
 7436              		.loc 1 2935 3 is_stmt 1 view .LVU2141
 7437              		.loc 1 2935 43 is_stmt 0 view .LVU2142
 7438 009a 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 7439              		.loc 1 2935 47 view .LVU2143
 7440 009e 8033     		adds	r3, r3, #128
 7441              		.loc 1 2935 31 view .LVU2144
 7442 00a0 C385     		strh	r3, [r0, #46]	@ movhi
2936:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.mag_sens_adj[2] = (long)data[2] + 128;
 7443              		.loc 1 2936 3 is_stmt 1 view .LVU2145
 7444              		.loc 1 2936 43 is_stmt 0 view .LVU2146
 7445 00a2 9DF80630 		ldrb	r3, [sp, #6]	@ zero_extendqisi2
 7446              		.loc 1 2936 47 view .LVU2147
 7447 00a6 8033     		adds	r3, r3, #128
 7448              		.loc 1 2936 31 view .LVU2148
 7449 00a8 0386     		strh	r3, [r0, #48]	@ movhi
2937:DMP/driver/eMPL/inv_mpu.c **** 
2938:DMP/driver/eMPL/inv_mpu.c ****   data[0] = AKM_POWER_DOWN;
 7450              		.loc 1 2938 3 is_stmt 1 view .LVU2149
 7451              		.loc 1 2938 11 is_stmt 0 view .LVU2150
 7452 00aa 1023     		movs	r3, #16
 7453 00ac 8DF80430 		strb	r3, [sp, #4]
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 213


2939:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.chip_cfg.compass_addr, AKM_REG_CNTL, 1, data))
 7454              		.loc 1 2939 3 is_stmt 1 view .LVU2151
 7455              		.loc 1 2939 7 is_stmt 0 view .LVU2152
 7456 00b0 01AB     		add	r3, sp, #4
 7457 00b2 0122     		movs	r2, #1
 7458 00b4 0A21     		movs	r1, #10
 7459 00b6 90F82A00 		ldrb	r0, [r0, #42]	@ zero_extendqisi2
 7460 00ba FFF7FEFF 		bl	MPU_Write_Len
 7461              	.LVL508:
 7462              		.loc 1 2939 6 view .LVU2153
 7463 00be 0028     		cmp	r0, #0
 7464 00c0 40F09E80 		bne	.L575
2940:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2941:DMP/driver/eMPL/inv_mpu.c ****   delay_ms(1);
 7465              		.loc 1 2941 3 is_stmt 1 view .LVU2154
 7466 00c4 0120     		movs	r0, #1
 7467 00c6 FFF7FEFF 		bl	HAL_Delay
 7468              	.LVL509:
2942:DMP/driver/eMPL/inv_mpu.c **** 
2943:DMP/driver/eMPL/inv_mpu.c ****   mpu_set_bypass(0);
 7469              		.loc 1 2943 3 view .LVU2155
 7470 00ca 0020     		movs	r0, #0
 7471 00cc FFF7FEFF 		bl	mpu_set_bypass
 7472              	.LVL510:
2944:DMP/driver/eMPL/inv_mpu.c **** 
2945:DMP/driver/eMPL/inv_mpu.c ****   /* Set up master mode, master clock, and ES bit. */
2946:DMP/driver/eMPL/inv_mpu.c ****   data[0] = 0x40;
 7473              		.loc 1 2946 3 view .LVU2156
 7474              		.loc 1 2946 11 is_stmt 0 view .LVU2157
 7475 00d0 4023     		movs	r3, #64
 7476 00d2 8DF80430 		strb	r3, [sp, #4]
2947:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->i2c_mst, 1, data))
 7477              		.loc 1 2947 3 is_stmt 1 view .LVU2158
 7478              		.loc 1 2947 19 is_stmt 0 view .LVU2159
 7479 00d6 594B     		ldr	r3, .L587
 7480 00d8 5868     		ldr	r0, [r3, #4]
 7481              		.loc 1 2947 32 view .LVU2160
 7482 00da 1968     		ldr	r1, [r3]
 7483              		.loc 1 2947 7 view .LVU2161
 7484 00dc 01AB     		add	r3, sp, #4
 7485 00de 0122     		movs	r2, #1
 7486 00e0 897E     		ldrb	r1, [r1, #26]	@ zero_extendqisi2
 7487 00e2 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 7488 00e4 FFF7FEFF 		bl	MPU_Write_Len
 7489              	.LVL511:
 7490              		.loc 1 2947 6 view .LVU2162
 7491 00e8 0028     		cmp	r0, #0
 7492 00ea 40F08C80 		bne	.L576
2948:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2949:DMP/driver/eMPL/inv_mpu.c **** 
2950:DMP/driver/eMPL/inv_mpu.c ****   /* Slave 0 reads from AKM data registers. */
2951:DMP/driver/eMPL/inv_mpu.c ****   data[0] = BIT_I2C_READ | st.chip_cfg.compass_addr;
 7493              		.loc 1 2951 3 is_stmt 1 view .LVU2163
 7494              		.loc 1 2951 39 is_stmt 0 view .LVU2164
 7495 00ee 534B     		ldr	r3, .L587
 7496 00f0 93F82A20 		ldrb	r2, [r3, #42]	@ zero_extendqisi2
 7497              		.loc 1 2951 11 view .LVU2165
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 214


 7498 00f4 62F07F02 		orn	r2, r2, #127
 7499 00f8 8DF80420 		strb	r2, [sp, #4]
2952:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->s0_addr, 1, data))
 7500              		.loc 1 2952 3 is_stmt 1 view .LVU2166
 7501              		.loc 1 2952 19 is_stmt 0 view .LVU2167
 7502 00fc 5868     		ldr	r0, [r3, #4]
 7503              		.loc 1 2952 32 view .LVU2168
 7504 00fe 1968     		ldr	r1, [r3]
 7505              		.loc 1 2952 7 view .LVU2169
 7506 0100 01AB     		add	r3, sp, #4
 7507 0102 0122     		movs	r2, #1
 7508 0104 897F     		ldrb	r1, [r1, #30]	@ zero_extendqisi2
 7509 0106 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 7510 0108 FFF7FEFF 		bl	MPU_Write_Len
 7511              	.LVL512:
 7512              		.loc 1 2952 6 view .LVU2170
 7513 010c 0028     		cmp	r0, #0
 7514 010e 7DD1     		bne	.L577
2953:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2954:DMP/driver/eMPL/inv_mpu.c **** 
2955:DMP/driver/eMPL/inv_mpu.c ****   /* Compass reads start at this register. */
2956:DMP/driver/eMPL/inv_mpu.c ****   data[0] = AKM_REG_ST1;
 7515              		.loc 1 2956 3 is_stmt 1 view .LVU2171
 7516              		.loc 1 2956 11 is_stmt 0 view .LVU2172
 7517 0110 0223     		movs	r3, #2
 7518 0112 8DF80430 		strb	r3, [sp, #4]
2957:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->s0_reg, 1, data))
 7519              		.loc 1 2957 3 is_stmt 1 view .LVU2173
 7520              		.loc 1 2957 19 is_stmt 0 view .LVU2174
 7521 0116 494B     		ldr	r3, .L587
 7522 0118 5868     		ldr	r0, [r3, #4]
 7523              		.loc 1 2957 32 view .LVU2175
 7524 011a 1968     		ldr	r1, [r3]
 7525              		.loc 1 2957 7 view .LVU2176
 7526 011c 01AB     		add	r3, sp, #4
 7527 011e 0122     		movs	r2, #1
 7528 0120 C97F     		ldrb	r1, [r1, #31]	@ zero_extendqisi2
 7529 0122 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 7530 0124 FFF7FEFF 		bl	MPU_Write_Len
 7531              	.LVL513:
 7532              		.loc 1 2957 6 view .LVU2177
 7533 0128 0028     		cmp	r0, #0
 7534 012a 72D1     		bne	.L578
2958:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2959:DMP/driver/eMPL/inv_mpu.c **** 
2960:DMP/driver/eMPL/inv_mpu.c ****   /* Enable slave 0, 8-byte reads. */
2961:DMP/driver/eMPL/inv_mpu.c ****   data[0] = BIT_SLAVE_EN | 8;
 7535              		.loc 1 2961 3 is_stmt 1 view .LVU2178
 7536              		.loc 1 2961 11 is_stmt 0 view .LVU2179
 7537 012c 8823     		movs	r3, #136
 7538 012e 8DF80430 		strb	r3, [sp, #4]
2962:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->s0_ctrl, 1, data))
 7539              		.loc 1 2962 3 is_stmt 1 view .LVU2180
 7540              		.loc 1 2962 19 is_stmt 0 view .LVU2181
 7541 0132 424B     		ldr	r3, .L587
 7542 0134 5868     		ldr	r0, [r3, #4]
 7543              		.loc 1 2962 32 view .LVU2182
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 215


 7544 0136 1968     		ldr	r1, [r3]
 7545              		.loc 1 2962 7 view .LVU2183
 7546 0138 01AB     		add	r3, sp, #4
 7547 013a 0122     		movs	r2, #1
 7548 013c 91F82010 		ldrb	r1, [r1, #32]	@ zero_extendqisi2
 7549 0140 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 7550 0142 FFF7FEFF 		bl	MPU_Write_Len
 7551              	.LVL514:
 7552              		.loc 1 2962 6 view .LVU2184
 7553 0146 0028     		cmp	r0, #0
 7554 0148 66D1     		bne	.L579
2963:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2964:DMP/driver/eMPL/inv_mpu.c **** 
2965:DMP/driver/eMPL/inv_mpu.c ****   /* Slave 1 changes AKM measurement mode. */
2966:DMP/driver/eMPL/inv_mpu.c ****   data[0] = st.chip_cfg.compass_addr;
 7555              		.loc 1 2966 3 is_stmt 1 view .LVU2185
 7556              		.loc 1 2966 24 is_stmt 0 view .LVU2186
 7557 014a 3C4B     		ldr	r3, .L587
 7558 014c 93F82A20 		ldrb	r2, [r3, #42]	@ zero_extendqisi2
 7559              		.loc 1 2966 11 view .LVU2187
 7560 0150 8DF80420 		strb	r2, [sp, #4]
2967:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->s1_addr, 1, data))
 7561              		.loc 1 2967 3 is_stmt 1 view .LVU2188
 7562              		.loc 1 2967 19 is_stmt 0 view .LVU2189
 7563 0154 5868     		ldr	r0, [r3, #4]
 7564              		.loc 1 2967 32 view .LVU2190
 7565 0156 1968     		ldr	r1, [r3]
 7566              		.loc 1 2967 7 view .LVU2191
 7567 0158 01AB     		add	r3, sp, #4
 7568 015a 0122     		movs	r2, #1
 7569 015c 91F82110 		ldrb	r1, [r1, #33]	@ zero_extendqisi2
 7570 0160 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 7571 0162 FFF7FEFF 		bl	MPU_Write_Len
 7572              	.LVL515:
 7573              		.loc 1 2967 6 view .LVU2192
 7574 0166 0028     		cmp	r0, #0
 7575 0168 59D1     		bne	.L580
2968:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2969:DMP/driver/eMPL/inv_mpu.c **** 
2970:DMP/driver/eMPL/inv_mpu.c ****   /* AKM measurement mode register. */
2971:DMP/driver/eMPL/inv_mpu.c ****   data[0] = AKM_REG_CNTL;
 7576              		.loc 1 2971 3 is_stmt 1 view .LVU2193
 7577              		.loc 1 2971 11 is_stmt 0 view .LVU2194
 7578 016a 0A23     		movs	r3, #10
 7579 016c 8DF80430 		strb	r3, [sp, #4]
2972:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->s1_reg, 1, data))
 7580              		.loc 1 2972 3 is_stmt 1 view .LVU2195
 7581              		.loc 1 2972 19 is_stmt 0 view .LVU2196
 7582 0170 324B     		ldr	r3, .L587
 7583 0172 5868     		ldr	r0, [r3, #4]
 7584              		.loc 1 2972 32 view .LVU2197
 7585 0174 1968     		ldr	r1, [r3]
 7586              		.loc 1 2972 7 view .LVU2198
 7587 0176 01AB     		add	r3, sp, #4
 7588 0178 0122     		movs	r2, #1
 7589 017a 91F82210 		ldrb	r1, [r1, #34]	@ zero_extendqisi2
 7590 017e 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 216


 7591 0180 FFF7FEFF 		bl	MPU_Write_Len
 7592              	.LVL516:
 7593              		.loc 1 2972 6 view .LVU2199
 7594 0184 0028     		cmp	r0, #0
 7595 0186 4DD1     		bne	.L581
2973:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2974:DMP/driver/eMPL/inv_mpu.c **** 
2975:DMP/driver/eMPL/inv_mpu.c ****   /* Enable slave 1, 1-byte writes. */
2976:DMP/driver/eMPL/inv_mpu.c ****   data[0] = BIT_SLAVE_EN | 1;
 7596              		.loc 1 2976 3 is_stmt 1 view .LVU2200
 7597              		.loc 1 2976 11 is_stmt 0 view .LVU2201
 7598 0188 8123     		movs	r3, #129
 7599 018a 8DF80430 		strb	r3, [sp, #4]
2977:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->s1_ctrl, 1, data))
 7600              		.loc 1 2977 3 is_stmt 1 view .LVU2202
 7601              		.loc 1 2977 19 is_stmt 0 view .LVU2203
 7602 018e 2B4B     		ldr	r3, .L587
 7603 0190 5868     		ldr	r0, [r3, #4]
 7604              		.loc 1 2977 32 view .LVU2204
 7605 0192 1968     		ldr	r1, [r3]
 7606              		.loc 1 2977 7 view .LVU2205
 7607 0194 01AB     		add	r3, sp, #4
 7608 0196 0122     		movs	r2, #1
 7609 0198 91F82310 		ldrb	r1, [r1, #35]	@ zero_extendqisi2
 7610 019c 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 7611 019e FFF7FEFF 		bl	MPU_Write_Len
 7612              	.LVL517:
 7613              		.loc 1 2977 6 view .LVU2206
 7614 01a2 0028     		cmp	r0, #0
 7615 01a4 41D1     		bne	.L582
2978:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2979:DMP/driver/eMPL/inv_mpu.c **** 
2980:DMP/driver/eMPL/inv_mpu.c ****   /* Set slave 1 data. */
2981:DMP/driver/eMPL/inv_mpu.c ****   data[0] = AKM_SINGLE_MEASUREMENT;
 7616              		.loc 1 2981 3 is_stmt 1 view .LVU2207
 7617              		.loc 1 2981 11 is_stmt 0 view .LVU2208
 7618 01a6 1123     		movs	r3, #17
 7619 01a8 8DF80430 		strb	r3, [sp, #4]
2982:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->s1_do, 1, data))
 7620              		.loc 1 2982 3 is_stmt 1 view .LVU2209
 7621              		.loc 1 2982 19 is_stmt 0 view .LVU2210
 7622 01ac 234B     		ldr	r3, .L587
 7623 01ae 5868     		ldr	r0, [r3, #4]
 7624              		.loc 1 2982 32 view .LVU2211
 7625 01b0 1968     		ldr	r1, [r3]
 7626              		.loc 1 2982 7 view .LVU2212
 7627 01b2 01AB     		add	r3, sp, #4
 7628 01b4 0122     		movs	r2, #1
 7629 01b6 91F82610 		ldrb	r1, [r1, #38]	@ zero_extendqisi2
 7630 01ba 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 7631 01bc FFF7FEFF 		bl	MPU_Write_Len
 7632              	.LVL518:
 7633              		.loc 1 2982 6 view .LVU2213
 7634 01c0 B0BB     		cbnz	r0, .L583
2983:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2984:DMP/driver/eMPL/inv_mpu.c **** 
2985:DMP/driver/eMPL/inv_mpu.c ****   /* Trigger slave 0 and slave 1 actions at each sample. */
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 217


2986:DMP/driver/eMPL/inv_mpu.c ****   data[0] = 0x03;
 7635              		.loc 1 2986 3 is_stmt 1 view .LVU2214
 7636              		.loc 1 2986 11 is_stmt 0 view .LVU2215
 7637 01c2 0323     		movs	r3, #3
 7638 01c4 8DF80430 		strb	r3, [sp, #4]
2987:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->i2c_delay_ctrl, 1, data))
 7639              		.loc 1 2987 3 is_stmt 1 view .LVU2216
 7640              		.loc 1 2987 19 is_stmt 0 view .LVU2217
 7641 01c8 1C4B     		ldr	r3, .L587
 7642 01ca 5868     		ldr	r0, [r3, #4]
 7643              		.loc 1 2987 32 view .LVU2218
 7644 01cc 1968     		ldr	r1, [r3]
 7645              		.loc 1 2987 7 view .LVU2219
 7646 01ce 01AB     		add	r3, sp, #4
 7647 01d0 0122     		movs	r2, #1
 7648 01d2 91F82710 		ldrb	r1, [r1, #39]	@ zero_extendqisi2
 7649 01d6 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 7650 01d8 FFF7FEFF 		bl	MPU_Write_Len
 7651              	.LVL519:
 7652              		.loc 1 2987 6 view .LVU2220
 7653 01dc 58BB     		cbnz	r0, .L584
 7654              	.L565:
2988:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2989:DMP/driver/eMPL/inv_mpu.c **** 
2990:DMP/driver/eMPL/inv_mpu.c **** #ifdef MPU9150
2991:DMP/driver/eMPL/inv_mpu.c ****   /* For the MPU9150, the auxiliary I2C bus needs to be set to VDD. */
2992:DMP/driver/eMPL/inv_mpu.c ****   data[0] = BIT_I2C_MST_VDDIO;
2993:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->yg_offs_tc, 1, data))
2994:DMP/driver/eMPL/inv_mpu.c ****     return -1;
2995:DMP/driver/eMPL/inv_mpu.c **** #endif
2996:DMP/driver/eMPL/inv_mpu.c **** 
2997:DMP/driver/eMPL/inv_mpu.c ****   return 0;
2998:DMP/driver/eMPL/inv_mpu.c **** }
 7655              		.loc 1 2998 1 view .LVU2221
 7656 01de 02B0     		add	sp, sp, #8
 7657              	.LCFI128:
 7658              		.cfi_remember_state
 7659              		.cfi_def_cfa_offset 8
 7660              		@ sp needed
 7661 01e0 10BD     		pop	{r4, pc}
 7662              	.LVL520:
 7663              	.L586:
 7664              	.LCFI129:
 7665              		.cfi_restore_state
2915:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 7666              		.loc 1 2915 5 is_stmt 1 view .LVU2222
 7667 01e2 1748     		ldr	r0, .L587+4
 7668 01e4 FFF7FEFF 		bl	puts
 7669              	.LVL521:
2916:DMP/driver/eMPL/inv_mpu.c ****   }
 7670              		.loc 1 2916 5 view .LVU2223
2916:DMP/driver/eMPL/inv_mpu.c ****   }
 7671              		.loc 1 2916 12 is_stmt 0 view .LVU2224
 7672 01e8 4FF0FF30 		mov	r0, #-1
 7673 01ec F7E7     		b	.L565
 7674              	.L572:
2923:DMP/driver/eMPL/inv_mpu.c ****   delay_ms(1);
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 218


 7675              		.loc 1 2923 12 view .LVU2225
 7676 01ee 4FF0FF30 		mov	r0, #-1
 7677 01f2 F4E7     		b	.L565
 7678              	.L573:
2928:DMP/driver/eMPL/inv_mpu.c ****   delay_ms(1);
 7679              		.loc 1 2928 12 view .LVU2226
 7680 01f4 4FF0FF30 		mov	r0, #-1
 7681 01f8 F1E7     		b	.L565
 7682              	.L574:
2933:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.mag_sens_adj[0] = (long)data[0] + 128;
 7683              		.loc 1 2933 12 view .LVU2227
 7684 01fa 4FF0FF30 		mov	r0, #-1
 7685 01fe EEE7     		b	.L565
 7686              	.L575:
2940:DMP/driver/eMPL/inv_mpu.c ****   delay_ms(1);
 7687              		.loc 1 2940 12 view .LVU2228
 7688 0200 4FF0FF30 		mov	r0, #-1
 7689 0204 EBE7     		b	.L565
 7690              	.L576:
2948:DMP/driver/eMPL/inv_mpu.c **** 
 7691              		.loc 1 2948 12 view .LVU2229
 7692 0206 4FF0FF30 		mov	r0, #-1
 7693 020a E8E7     		b	.L565
 7694              	.L577:
2953:DMP/driver/eMPL/inv_mpu.c **** 
 7695              		.loc 1 2953 12 view .LVU2230
 7696 020c 4FF0FF30 		mov	r0, #-1
 7697 0210 E5E7     		b	.L565
 7698              	.L578:
2958:DMP/driver/eMPL/inv_mpu.c **** 
 7699              		.loc 1 2958 12 view .LVU2231
 7700 0212 4FF0FF30 		mov	r0, #-1
 7701 0216 E2E7     		b	.L565
 7702              	.L579:
2963:DMP/driver/eMPL/inv_mpu.c **** 
 7703              		.loc 1 2963 12 view .LVU2232
 7704 0218 4FF0FF30 		mov	r0, #-1
 7705 021c DFE7     		b	.L565
 7706              	.L580:
2968:DMP/driver/eMPL/inv_mpu.c **** 
 7707              		.loc 1 2968 12 view .LVU2233
 7708 021e 4FF0FF30 		mov	r0, #-1
 7709 0222 DCE7     		b	.L565
 7710              	.L581:
2973:DMP/driver/eMPL/inv_mpu.c **** 
 7711              		.loc 1 2973 12 view .LVU2234
 7712 0224 4FF0FF30 		mov	r0, #-1
 7713 0228 D9E7     		b	.L565
 7714              	.L582:
2978:DMP/driver/eMPL/inv_mpu.c **** 
 7715              		.loc 1 2978 12 view .LVU2235
 7716 022a 4FF0FF30 		mov	r0, #-1
 7717 022e D6E7     		b	.L565
 7718              	.L583:
2983:DMP/driver/eMPL/inv_mpu.c **** 
 7719              		.loc 1 2983 12 view .LVU2236
 7720 0230 4FF0FF30 		mov	r0, #-1
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 219


 7721 0234 D3E7     		b	.L565
 7722              	.L584:
2988:DMP/driver/eMPL/inv_mpu.c **** 
 7723              		.loc 1 2988 12 view .LVU2237
 7724 0236 4FF0FF30 		mov	r0, #-1
 7725 023a D0E7     		b	.L565
 7726              	.L588:
 7727              		.align	2
 7728              	.L587:
 7729 023c 00000000 		.word	st
 7730 0240 00000000 		.word	.LC28
 7731              		.cfi_endproc
 7732              	.LFE218:
 7734              		.section	.text.compass_self_test,"ax",%progbits
 7735              		.align	1
 7736              		.syntax unified
 7737              		.thumb
 7738              		.thumb_func
 7740              	compass_self_test:
 7741              	.LFB206:
1995:DMP/driver/eMPL/inv_mpu.c ****   unsigned char tmp[6];
 7742              		.loc 1 1995 36 is_stmt 1 view -0
 7743              		.cfi_startproc
 7744              		@ args = 0, pretend = 0, frame = 8
 7745              		@ frame_needed = 0, uses_anonymous_args = 0
 7746 0000 70B5     		push	{r4, r5, r6, lr}
 7747              	.LCFI130:
 7748              		.cfi_def_cfa_offset 16
 7749              		.cfi_offset 4, -16
 7750              		.cfi_offset 5, -12
 7751              		.cfi_offset 6, -8
 7752              		.cfi_offset 14, -4
 7753 0002 82B0     		sub	sp, sp, #8
 7754              	.LCFI131:
 7755              		.cfi_def_cfa_offset 24
1996:DMP/driver/eMPL/inv_mpu.c ****   unsigned char tries = 10;
 7756              		.loc 1 1996 3 view .LVU2239
1997:DMP/driver/eMPL/inv_mpu.c ****   int result = 0x07;
 7757              		.loc 1 1997 3 view .LVU2240
 7758              	.LVL522:
1998:DMP/driver/eMPL/inv_mpu.c ****   short data;
 7759              		.loc 1 1998 3 view .LVU2241
1999:DMP/driver/eMPL/inv_mpu.c **** 
 7760              		.loc 1 1999 3 view .LVU2242
2001:DMP/driver/eMPL/inv_mpu.c **** 
 7761              		.loc 1 2001 3 view .LVU2243
 7762 0004 0120     		movs	r0, #1
 7763 0006 FFF7FEFF 		bl	mpu_set_bypass
 7764              	.LVL523:
2003:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.chip_cfg.compass_addr, AKM_REG_CNTL, 1, tmp))
 7765              		.loc 1 2003 3 view .LVU2244
2003:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.chip_cfg.compass_addr, AKM_REG_CNTL, 1, tmp))
 7766              		.loc 1 2003 10 is_stmt 0 view .LVU2245
 7767 000a 1023     		movs	r3, #16
 7768 000c 8DF80030 		strb	r3, [sp]
2004:DMP/driver/eMPL/inv_mpu.c ****     return 0x07;
 7769              		.loc 1 2004 3 is_stmt 1 view .LVU2246
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 220


2004:DMP/driver/eMPL/inv_mpu.c ****     return 0x07;
 7770              		.loc 1 2004 7 is_stmt 0 view .LVU2247
 7771 0010 6B46     		mov	r3, sp
 7772 0012 0122     		movs	r2, #1
 7773 0014 0A21     		movs	r1, #10
 7774 0016 4B48     		ldr	r0, .L607
 7775 0018 90F82A00 		ldrb	r0, [r0, #42]	@ zero_extendqisi2
 7776 001c FFF7FEFF 		bl	MPU_Write_Len
 7777              	.LVL524:
2004:DMP/driver/eMPL/inv_mpu.c ****     return 0x07;
 7778              		.loc 1 2004 6 view .LVU2248
 7779 0020 0028     		cmp	r0, #0
 7780 0022 40F08C80 		bne	.L596
2006:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.chip_cfg.compass_addr, AKM_REG_ASTC, 1, tmp))
 7781              		.loc 1 2006 3 is_stmt 1 view .LVU2249
2006:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.chip_cfg.compass_addr, AKM_REG_ASTC, 1, tmp))
 7782              		.loc 1 2006 10 is_stmt 0 view .LVU2250
 7783 0026 4023     		movs	r3, #64
 7784 0028 8DF80030 		strb	r3, [sp]
2007:DMP/driver/eMPL/inv_mpu.c ****     goto AKM_restore;
 7785              		.loc 1 2007 3 is_stmt 1 view .LVU2251
2007:DMP/driver/eMPL/inv_mpu.c ****     goto AKM_restore;
 7786              		.loc 1 2007 7 is_stmt 0 view .LVU2252
 7787 002c 6B46     		mov	r3, sp
 7788 002e 0122     		movs	r2, #1
 7789 0030 0C21     		movs	r1, #12
 7790 0032 4448     		ldr	r0, .L607
 7791 0034 90F82A00 		ldrb	r0, [r0, #42]	@ zero_extendqisi2
 7792 0038 FFF7FEFF 		bl	MPU_Write_Len
 7793              	.LVL525:
2007:DMP/driver/eMPL/inv_mpu.c ****     goto AKM_restore;
 7794              		.loc 1 2007 6 view .LVU2253
 7795 003c D0B1     		cbz	r0, .L605
1998:DMP/driver/eMPL/inv_mpu.c ****   short data;
 7796              		.loc 1 1998 7 view .LVU2254
 7797 003e 0724     		movs	r4, #7
 7798              	.LVL526:
 7799              	.L591:
2049:DMP/driver/eMPL/inv_mpu.c ****   i2c_write(st.chip_cfg.compass_addr, AKM_REG_ASTC, 1, tmp);
 7800              		.loc 1 2049 3 is_stmt 1 view .LVU2255
2049:DMP/driver/eMPL/inv_mpu.c ****   i2c_write(st.chip_cfg.compass_addr, AKM_REG_ASTC, 1, tmp);
 7801              		.loc 1 2049 10 is_stmt 0 view .LVU2256
 7802 0040 1026     		movs	r6, #16
 7803 0042 8DF80060 		strb	r6, [sp]
2050:DMP/driver/eMPL/inv_mpu.c ****   tmp[0] = SUPPORTS_AK89xx_HIGH_SENS;
 7804              		.loc 1 2050 3 is_stmt 1 view .LVU2257
 7805 0046 3F4D     		ldr	r5, .L607
 7806 0048 6B46     		mov	r3, sp
 7807 004a 0122     		movs	r2, #1
 7808 004c 0C21     		movs	r1, #12
 7809 004e 95F82A00 		ldrb	r0, [r5, #42]	@ zero_extendqisi2
 7810 0052 FFF7FEFF 		bl	MPU_Write_Len
 7811              	.LVL527:
2051:DMP/driver/eMPL/inv_mpu.c ****   i2c_write(st.chip_cfg.compass_addr, AKM_REG_CNTL, 1, tmp);
 7812              		.loc 1 2051 3 view .LVU2258
2051:DMP/driver/eMPL/inv_mpu.c ****   i2c_write(st.chip_cfg.compass_addr, AKM_REG_CNTL, 1, tmp);
 7813              		.loc 1 2051 10 is_stmt 0 view .LVU2259
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 221


 7814 0056 8DF80060 		strb	r6, [sp]
2052:DMP/driver/eMPL/inv_mpu.c ****   mpu_set_bypass(0);
 7815              		.loc 1 2052 3 is_stmt 1 view .LVU2260
 7816 005a 6B46     		mov	r3, sp
 7817 005c 0122     		movs	r2, #1
 7818 005e 0A21     		movs	r1, #10
 7819 0060 95F82A00 		ldrb	r0, [r5, #42]	@ zero_extendqisi2
 7820 0064 FFF7FEFF 		bl	MPU_Write_Len
 7821              	.LVL528:
2053:DMP/driver/eMPL/inv_mpu.c ****   return result;
 7822              		.loc 1 2053 3 view .LVU2261
 7823 0068 0020     		movs	r0, #0
 7824 006a FFF7FEFF 		bl	mpu_set_bypass
 7825              	.LVL529:
2054:DMP/driver/eMPL/inv_mpu.c **** }
 7826              		.loc 1 2054 3 view .LVU2262
 7827              	.L589:
2055:DMP/driver/eMPL/inv_mpu.c **** #endif
 7828              		.loc 1 2055 1 is_stmt 0 view .LVU2263
 7829 006e 2046     		mov	r0, r4
 7830 0070 02B0     		add	sp, sp, #8
 7831              	.LCFI132:
 7832              		.cfi_remember_state
 7833              		.cfi_def_cfa_offset 16
 7834              		@ sp needed
 7835 0072 70BD     		pop	{r4, r5, r6, pc}
 7836              	.LVL530:
 7837              	.L605:
 7838              	.LCFI133:
 7839              		.cfi_restore_state
2009:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.chip_cfg.compass_addr, AKM_REG_CNTL, 1, tmp))
 7840              		.loc 1 2009 3 is_stmt 1 view .LVU2264
2009:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.chip_cfg.compass_addr, AKM_REG_CNTL, 1, tmp))
 7841              		.loc 1 2009 10 is_stmt 0 view .LVU2265
 7842 0074 1823     		movs	r3, #24
 7843 0076 8DF80030 		strb	r3, [sp]
2010:DMP/driver/eMPL/inv_mpu.c ****     goto AKM_restore;
 7844              		.loc 1 2010 3 is_stmt 1 view .LVU2266
2010:DMP/driver/eMPL/inv_mpu.c ****     goto AKM_restore;
 7845              		.loc 1 2010 7 is_stmt 0 view .LVU2267
 7846 007a 6B46     		mov	r3, sp
 7847 007c 0122     		movs	r2, #1
 7848 007e 0A21     		movs	r1, #10
 7849 0080 3048     		ldr	r0, .L607
 7850 0082 90F82A00 		ldrb	r0, [r0, #42]	@ zero_extendqisi2
 7851 0086 FFF7FEFF 		bl	MPU_Write_Len
 7852              	.LVL531:
2010:DMP/driver/eMPL/inv_mpu.c ****     goto AKM_restore;
 7853              		.loc 1 2010 6 view .LVU2268
 7854 008a 0028     		cmp	r0, #0
 7855 008c 51D1     		bne	.L598
1997:DMP/driver/eMPL/inv_mpu.c ****   int result = 0x07;
 7856              		.loc 1 1997 17 view .LVU2269
 7857 008e 0A24     		movs	r4, #10
 7858 0090 00E0     		b	.L593
 7859              	.LVL532:
 7860              	.L600:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 222


2019:DMP/driver/eMPL/inv_mpu.c ****   if (!(tmp[0] & AKM_DATA_READY))
 7861              		.loc 1 2019 17 view .LVU2270
 7862 0092 1446     		mov	r4, r2
 7863              	.LVL533:
 7864              	.L593:
2013:DMP/driver/eMPL/inv_mpu.c ****     delay_ms(10);
 7865              		.loc 1 2013 3 is_stmt 1 view .LVU2271
2014:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_read(st.chip_cfg.compass_addr, AKM_REG_ST1, 1, tmp))
 7866              		.loc 1 2014 5 view .LVU2272
 7867 0094 0A20     		movs	r0, #10
 7868 0096 FFF7FEFF 		bl	HAL_Delay
 7869              	.LVL534:
2015:DMP/driver/eMPL/inv_mpu.c ****       goto AKM_restore;
 7870              		.loc 1 2015 5 view .LVU2273
2015:DMP/driver/eMPL/inv_mpu.c ****       goto AKM_restore;
 7871              		.loc 1 2015 9 is_stmt 0 view .LVU2274
 7872 009a 6B46     		mov	r3, sp
 7873 009c 0122     		movs	r2, #1
 7874 009e 0221     		movs	r1, #2
 7875 00a0 2848     		ldr	r0, .L607
 7876 00a2 90F82A00 		ldrb	r0, [r0, #42]	@ zero_extendqisi2
 7877 00a6 FFF7FEFF 		bl	MPU_Read_Len
 7878              	.LVL535:
2015:DMP/driver/eMPL/inv_mpu.c ****       goto AKM_restore;
 7879              		.loc 1 2015 8 view .LVU2275
 7880 00aa 0028     		cmp	r0, #0
 7881 00ac 43D1     		bne	.L599
2017:DMP/driver/eMPL/inv_mpu.c ****       break;
 7882              		.loc 1 2017 5 is_stmt 1 view .LVU2276
2017:DMP/driver/eMPL/inv_mpu.c ****       break;
 7883              		.loc 1 2017 12 is_stmt 0 view .LVU2277
 7884 00ae 9DF80030 		ldrb	r3, [sp]	@ zero_extendqisi2
2017:DMP/driver/eMPL/inv_mpu.c ****       break;
 7885              		.loc 1 2017 8 view .LVU2278
 7886 00b2 13F00103 		ands	r3, r3, #1
 7887 00b6 03D1     		bne	.L592
2019:DMP/driver/eMPL/inv_mpu.c ****   if (!(tmp[0] & AKM_DATA_READY))
 7888              		.loc 1 2019 12 is_stmt 1 view .LVU2279
2019:DMP/driver/eMPL/inv_mpu.c ****   if (!(tmp[0] & AKM_DATA_READY))
 7889              		.loc 1 2019 17 is_stmt 0 view .LVU2280
 7890 00b8 621E     		subs	r2, r4, #1
 7891 00ba D2B2     		uxtb	r2, r2
 7892              	.LVL536:
2019:DMP/driver/eMPL/inv_mpu.c ****   if (!(tmp[0] & AKM_DATA_READY))
 7893              		.loc 1 2019 12 view .LVU2281
 7894 00bc 002C     		cmp	r4, #0
 7895 00be E8D1     		bne	.L600
 7896              	.LVL537:
 7897              	.L592:
2020:DMP/driver/eMPL/inv_mpu.c ****     goto AKM_restore;
 7898              		.loc 1 2020 3 is_stmt 1 view .LVU2282
2020:DMP/driver/eMPL/inv_mpu.c ****     goto AKM_restore;
 7899              		.loc 1 2020 6 is_stmt 0 view .LVU2283
 7900 00c0 0BB9     		cbnz	r3, .L606
1998:DMP/driver/eMPL/inv_mpu.c ****   short data;
 7901              		.loc 1 1998 7 view .LVU2284
 7902 00c2 0724     		movs	r4, #7
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 223


 7903 00c4 BCE7     		b	.L591
 7904              	.L606:
2023:DMP/driver/eMPL/inv_mpu.c ****     goto AKM_restore;
 7905              		.loc 1 2023 3 is_stmt 1 view .LVU2285
2023:DMP/driver/eMPL/inv_mpu.c ****     goto AKM_restore;
 7906              		.loc 1 2023 7 is_stmt 0 view .LVU2286
 7907 00c6 6B46     		mov	r3, sp
 7908 00c8 0622     		movs	r2, #6
 7909 00ca 0321     		movs	r1, #3
 7910 00cc 1D48     		ldr	r0, .L607
 7911 00ce 90F82A00 		ldrb	r0, [r0, #42]	@ zero_extendqisi2
 7912 00d2 FFF7FEFF 		bl	MPU_Read_Len
 7913              	.LVL538:
2023:DMP/driver/eMPL/inv_mpu.c ****     goto AKM_restore;
 7914              		.loc 1 2023 6 view .LVU2287
 7915 00d6 80BB     		cbnz	r0, .L602
2026:DMP/driver/eMPL/inv_mpu.c **** #if defined MPU9150
 7916              		.loc 1 2026 3 is_stmt 1 view .LVU2288
 7917              	.LVL539:
2038:DMP/driver/eMPL/inv_mpu.c ****   if ((data > 200) || (data < -200))
 7918              		.loc 1 2038 3 view .LVU2289
2038:DMP/driver/eMPL/inv_mpu.c ****   if ((data > 200) || (data < -200))
 7919              		.loc 1 2038 21 is_stmt 0 view .LVU2290
 7920 00d8 9DF80130 		ldrb	r3, [sp, #1]	@ zero_extendqisi2
2038:DMP/driver/eMPL/inv_mpu.c ****   if ((data > 200) || (data < -200))
 7921              		.loc 1 2038 25 view .LVU2291
 7922 00dc 1B02     		lsls	r3, r3, #8
2038:DMP/driver/eMPL/inv_mpu.c ****   if ((data > 200) || (data < -200))
 7923              		.loc 1 2038 10 view .LVU2292
 7924 00de 1BB2     		sxth	r3, r3
2038:DMP/driver/eMPL/inv_mpu.c ****   if ((data > 200) || (data < -200))
 7925              		.loc 1 2038 36 view .LVU2293
 7926 00e0 9DF80020 		ldrb	r2, [sp]	@ zero_extendqisi2
2038:DMP/driver/eMPL/inv_mpu.c ****   if ((data > 200) || (data < -200))
 7927              		.loc 1 2038 8 view .LVU2294
 7928 00e4 1343     		orrs	r3, r3, r2
 7929              	.LVL540:
2039:DMP/driver/eMPL/inv_mpu.c ****     result |= 0x01;
 7930              		.loc 1 2039 3 is_stmt 1 view .LVU2295
2039:DMP/driver/eMPL/inv_mpu.c ****     result |= 0x01;
 7931              		.loc 1 2039 20 is_stmt 0 view .LVU2296
 7932 00e6 C833     		adds	r3, r3, #200
 7933              	.LVL541:
2039:DMP/driver/eMPL/inv_mpu.c ****     result |= 0x01;
 7934              		.loc 1 2039 20 view .LVU2297
 7935 00e8 9BB2     		uxth	r3, r3
 7936              	.LVL542:
2039:DMP/driver/eMPL/inv_mpu.c ****     result |= 0x01;
 7937              		.loc 1 2039 6 view .LVU2298
 7938 00ea B3F5C87F 		cmp	r3, #400
 7939 00ee 1ED8     		bhi	.L603
2026:DMP/driver/eMPL/inv_mpu.c **** #if defined MPU9150
 7940              		.loc 1 2026 10 view .LVU2299
 7941 00f0 0024     		movs	r4, #0
 7942              	.L594:
 7943              	.LVL543:
2041:DMP/driver/eMPL/inv_mpu.c ****   if ((data > 200) || (data < -200))
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 224


 7944              		.loc 1 2041 3 is_stmt 1 view .LVU2300
2041:DMP/driver/eMPL/inv_mpu.c ****   if ((data > 200) || (data < -200))
 7945              		.loc 1 2041 21 is_stmt 0 view .LVU2301
 7946 00f2 9DF80330 		ldrb	r3, [sp, #3]	@ zero_extendqisi2
2041:DMP/driver/eMPL/inv_mpu.c ****   if ((data > 200) || (data < -200))
 7947              		.loc 1 2041 25 view .LVU2302
 7948 00f6 1B02     		lsls	r3, r3, #8
2041:DMP/driver/eMPL/inv_mpu.c ****   if ((data > 200) || (data < -200))
 7949              		.loc 1 2041 10 view .LVU2303
 7950 00f8 1BB2     		sxth	r3, r3
2041:DMP/driver/eMPL/inv_mpu.c ****   if ((data > 200) || (data < -200))
 7951              		.loc 1 2041 36 view .LVU2304
 7952 00fa 9DF80220 		ldrb	r2, [sp, #2]	@ zero_extendqisi2
 7953              	.LVL544:
2041:DMP/driver/eMPL/inv_mpu.c ****   if ((data > 200) || (data < -200))
 7954              		.loc 1 2041 8 view .LVU2305
 7955 00fe 1343     		orrs	r3, r3, r2
 7956              	.LVL545:
2042:DMP/driver/eMPL/inv_mpu.c ****     result |= 0x02;
 7957              		.loc 1 2042 3 is_stmt 1 view .LVU2306
2042:DMP/driver/eMPL/inv_mpu.c ****     result |= 0x02;
 7958              		.loc 1 2042 20 is_stmt 0 view .LVU2307
 7959 0100 C833     		adds	r3, r3, #200
 7960              	.LVL546:
2042:DMP/driver/eMPL/inv_mpu.c ****     result |= 0x02;
 7961              		.loc 1 2042 20 view .LVU2308
 7962 0102 9BB2     		uxth	r3, r3
 7963              	.LVL547:
2042:DMP/driver/eMPL/inv_mpu.c ****     result |= 0x02;
 7964              		.loc 1 2042 6 view .LVU2309
 7965 0104 B3F5C87F 		cmp	r3, #400
 7966 0108 01D9     		bls	.L595
2043:DMP/driver/eMPL/inv_mpu.c ****   data = (short)(tmp[5] << 8) | tmp[4];
 7967              		.loc 1 2043 5 is_stmt 1 view .LVU2310
2043:DMP/driver/eMPL/inv_mpu.c ****   data = (short)(tmp[5] << 8) | tmp[4];
 7968              		.loc 1 2043 12 is_stmt 0 view .LVU2311
 7969 010a 44F00204 		orr	r4, r4, #2
 7970              	.LVL548:
 7971              	.L595:
2044:DMP/driver/eMPL/inv_mpu.c ****   if ((data > -800) || (data < -3200))
 7972              		.loc 1 2044 3 is_stmt 1 view .LVU2312
2044:DMP/driver/eMPL/inv_mpu.c ****   if ((data > -800) || (data < -3200))
 7973              		.loc 1 2044 21 is_stmt 0 view .LVU2313
 7974 010e 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
2044:DMP/driver/eMPL/inv_mpu.c ****   if ((data > -800) || (data < -3200))
 7975              		.loc 1 2044 25 view .LVU2314
 7976 0112 1B02     		lsls	r3, r3, #8
2044:DMP/driver/eMPL/inv_mpu.c ****   if ((data > -800) || (data < -3200))
 7977              		.loc 1 2044 10 view .LVU2315
 7978 0114 1BB2     		sxth	r3, r3
2044:DMP/driver/eMPL/inv_mpu.c ****   if ((data > -800) || (data < -3200))
 7979              		.loc 1 2044 36 view .LVU2316
 7980 0116 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
 7981              	.LVL549:
2044:DMP/driver/eMPL/inv_mpu.c ****   if ((data > -800) || (data < -3200))
 7982              		.loc 1 2044 8 view .LVU2317
 7983 011a 1343     		orrs	r3, r3, r2
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 225


 7984              	.LVL550:
2045:DMP/driver/eMPL/inv_mpu.c ****     result |= 0x04;
 7985              		.loc 1 2045 3 is_stmt 1 view .LVU2318
2045:DMP/driver/eMPL/inv_mpu.c ****     result |= 0x04;
 7986              		.loc 1 2045 21 is_stmt 0 view .LVU2319
 7987 011c 03F54863 		add	r3, r3, #3200
 7988              	.LVL551:
2045:DMP/driver/eMPL/inv_mpu.c ****     result |= 0x04;
 7989              		.loc 1 2045 21 view .LVU2320
 7990 0120 9BB2     		uxth	r3, r3
 7991              	.LVL552:
2045:DMP/driver/eMPL/inv_mpu.c ****     result |= 0x04;
 7992              		.loc 1 2045 6 view .LVU2321
 7993 0122 B3F5166F 		cmp	r3, #2400
 7994 0126 8BD9     		bls	.L591
2046:DMP/driver/eMPL/inv_mpu.c **** #endif
 7995              		.loc 1 2046 5 is_stmt 1 view .LVU2322
2046:DMP/driver/eMPL/inv_mpu.c **** #endif
 7996              		.loc 1 2046 12 is_stmt 0 view .LVU2323
 7997 0128 44F00404 		orr	r4, r4, #4
 7998              	.LVL553:
2046:DMP/driver/eMPL/inv_mpu.c **** #endif
 7999              		.loc 1 2046 12 view .LVU2324
 8000 012c 88E7     		b	.L591
 8001              	.LVL554:
 8002              	.L603:
2040:DMP/driver/eMPL/inv_mpu.c ****   data = (short)(tmp[3] << 8) | tmp[2];
 8003              		.loc 1 2040 12 view .LVU2325
 8004 012e 0124     		movs	r4, #1
 8005 0130 DFE7     		b	.L594
 8006              	.LVL555:
 8007              	.L598:
1998:DMP/driver/eMPL/inv_mpu.c ****   short data;
 8008              		.loc 1 1998 7 view .LVU2326
 8009 0132 0724     		movs	r4, #7
 8010 0134 84E7     		b	.L591
 8011              	.LVL556:
 8012              	.L599:
1998:DMP/driver/eMPL/inv_mpu.c ****   short data;
 8013              		.loc 1 1998 7 view .LVU2327
 8014 0136 0724     		movs	r4, #7
 8015              	.LVL557:
1998:DMP/driver/eMPL/inv_mpu.c ****   short data;
 8016              		.loc 1 1998 7 view .LVU2328
 8017 0138 82E7     		b	.L591
 8018              	.LVL558:
 8019              	.L602:
1998:DMP/driver/eMPL/inv_mpu.c ****   short data;
 8020              		.loc 1 1998 7 view .LVU2329
 8021 013a 0724     		movs	r4, #7
 8022 013c 80E7     		b	.L591
 8023              	.LVL559:
 8024              	.L596:
2005:DMP/driver/eMPL/inv_mpu.c ****   tmp[0] = AKM_BIT_SELF_TEST;
 8025              		.loc 1 2005 12 view .LVU2330
 8026 013e 0724     		movs	r4, #7
 8027 0140 95E7     		b	.L589
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 226


 8028              	.L608:
 8029 0142 00BF     		.align	2
 8030              	.L607:
 8031 0144 00000000 		.word	st
 8032              		.cfi_endproc
 8033              	.LFE206:
 8035              		.section	.text.mpu_set_int_level,"ax",%progbits
 8036              		.align	1
 8037              		.global	mpu_set_int_level
 8038              		.syntax unified
 8039              		.thumb
 8040              		.thumb_func
 8042              	mpu_set_int_level:
 8043              	.LVL560:
 8044              	.LFB204:
1893:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.active_low_int = active_low;
 8045              		.loc 1 1893 49 is_stmt 1 view -0
 8046              		.cfi_startproc
 8047              		@ args = 0, pretend = 0, frame = 0
 8048              		@ frame_needed = 0, uses_anonymous_args = 0
 8049              		@ link register save eliminated.
1894:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 8050              		.loc 1 1894 3 view .LVU2332
1894:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 8051              		.loc 1 1894 30 is_stmt 0 view .LVU2333
 8052 0000 024B     		ldr	r3, .L610
 8053 0002 83F82200 		strb	r0, [r3, #34]
1895:DMP/driver/eMPL/inv_mpu.c **** }
 8054              		.loc 1 1895 3 is_stmt 1 view .LVU2334
1896:DMP/driver/eMPL/inv_mpu.c **** 
 8055              		.loc 1 1896 1 is_stmt 0 view .LVU2335
 8056 0006 0020     		movs	r0, #0
 8057              	.LVL561:
1896:DMP/driver/eMPL/inv_mpu.c **** 
 8058              		.loc 1 1896 1 view .LVU2336
 8059 0008 7047     		bx	lr
 8060              	.L611:
 8061 000a 00BF     		.align	2
 8062              	.L610:
 8063 000c 00000000 		.word	st
 8064              		.cfi_endproc
 8065              	.LFE204:
 8067              		.section	.text.mpu_set_int_latched,"ax",%progbits
 8068              		.align	1
 8069              		.global	mpu_set_int_latched
 8070              		.syntax unified
 8071              		.thumb
 8072              		.thumb_func
 8074              	mpu_set_int_latched:
 8075              	.LVL562:
 8076              	.LFB205:
1904:DMP/driver/eMPL/inv_mpu.c ****   unsigned char tmp;
 8077              		.loc 1 1904 47 is_stmt 1 view -0
 8078              		.cfi_startproc
 8079              		@ args = 0, pretend = 0, frame = 8
 8080              		@ frame_needed = 0, uses_anonymous_args = 0
1905:DMP/driver/eMPL/inv_mpu.c ****   if (st.chip_cfg.latched_int == enable)
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 227


 8081              		.loc 1 1905 3 view .LVU2338
1906:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 8082              		.loc 1 1906 3 view .LVU2339
1906:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 8083              		.loc 1 1906 18 is_stmt 0 view .LVU2340
 8084 0000 1B4B     		ldr	r3, .L624
 8085 0002 93F82330 		ldrb	r3, [r3, #35]	@ zero_extendqisi2
1906:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 8086              		.loc 1 1906 6 view .LVU2341
 8087 0006 8342     		cmp	r3, r0
 8088 0008 2DD0     		beq	.L618
1904:DMP/driver/eMPL/inv_mpu.c ****   unsigned char tmp;
 8089              		.loc 1 1904 47 view .LVU2342
 8090 000a 10B5     		push	{r4, lr}
 8091              	.LCFI134:
 8092              		.cfi_def_cfa_offset 8
 8093              		.cfi_offset 4, -8
 8094              		.cfi_offset 14, -4
 8095 000c 82B0     		sub	sp, sp, #8
 8096              	.LCFI135:
 8097              		.cfi_def_cfa_offset 16
 8098 000e 0446     		mov	r4, r0
1909:DMP/driver/eMPL/inv_mpu.c ****     tmp = BIT_LATCH_EN | BIT_ANY_RD_CLR;
 8099              		.loc 1 1909 3 is_stmt 1 view .LVU2343
1909:DMP/driver/eMPL/inv_mpu.c ****     tmp = BIT_LATCH_EN | BIT_ANY_RD_CLR;
 8100              		.loc 1 1909 6 is_stmt 0 view .LVU2344
 8101 0010 28B3     		cbz	r0, .L614
1910:DMP/driver/eMPL/inv_mpu.c ****   else
 8102              		.loc 1 1910 5 is_stmt 1 view .LVU2345
1910:DMP/driver/eMPL/inv_mpu.c ****   else
 8103              		.loc 1 1910 9 is_stmt 0 view .LVU2346
 8104 0012 3023     		movs	r3, #48
 8105 0014 8DF80730 		strb	r3, [sp, #7]
 8106              	.L615:
1913:DMP/driver/eMPL/inv_mpu.c ****     tmp |= BIT_BYPASS_EN;
 8107              		.loc 1 1913 3 is_stmt 1 view .LVU2347
1913:DMP/driver/eMPL/inv_mpu.c ****     tmp |= BIT_BYPASS_EN;
 8108              		.loc 1 1913 18 is_stmt 0 view .LVU2348
 8109 0018 154B     		ldr	r3, .L624
 8110 001a 9B7C     		ldrb	r3, [r3, #18]	@ zero_extendqisi2
1913:DMP/driver/eMPL/inv_mpu.c ****     tmp |= BIT_BYPASS_EN;
 8111              		.loc 1 1913 6 view .LVU2349
 8112 001c 2BB1     		cbz	r3, .L616
1914:DMP/driver/eMPL/inv_mpu.c ****   if (st.chip_cfg.active_low_int)
 8113              		.loc 1 1914 5 is_stmt 1 view .LVU2350
1914:DMP/driver/eMPL/inv_mpu.c ****   if (st.chip_cfg.active_low_int)
 8114              		.loc 1 1914 9 is_stmt 0 view .LVU2351
 8115 001e 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 8116 0022 43F00203 		orr	r3, r3, #2
 8117 0026 8DF80730 		strb	r3, [sp, #7]
 8118              	.L616:
1915:DMP/driver/eMPL/inv_mpu.c ****     tmp |= BIT_ACTL;
 8119              		.loc 1 1915 3 is_stmt 1 view .LVU2352
1915:DMP/driver/eMPL/inv_mpu.c ****     tmp |= BIT_ACTL;
 8120              		.loc 1 1915 18 is_stmt 0 view .LVU2353
 8121 002a 114B     		ldr	r3, .L624
 8122 002c 93F82230 		ldrb	r3, [r3, #34]	@ zero_extendqisi2
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 228


1915:DMP/driver/eMPL/inv_mpu.c ****     tmp |= BIT_ACTL;
 8123              		.loc 1 1915 6 view .LVU2354
 8124 0030 2BB1     		cbz	r3, .L617
1916:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->int_pin_cfg, 1, &tmp))
 8125              		.loc 1 1916 5 is_stmt 1 view .LVU2355
1916:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->int_pin_cfg, 1, &tmp))
 8126              		.loc 1 1916 9 is_stmt 0 view .LVU2356
 8127 0032 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 8128 0036 63F07F03 		orn	r3, r3, #127
 8129 003a 8DF80730 		strb	r3, [sp, #7]
 8130              	.L617:
1917:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8131              		.loc 1 1917 3 is_stmt 1 view .LVU2357
1917:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8132              		.loc 1 1917 19 is_stmt 0 view .LVU2358
 8133 003e 0C4B     		ldr	r3, .L624
 8134 0040 5868     		ldr	r0, [r3, #4]
 8135              	.LVL563:
1917:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8136              		.loc 1 1917 32 view .LVU2359
 8137 0042 1968     		ldr	r1, [r3]
1917:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8138              		.loc 1 1917 7 view .LVU2360
 8139 0044 0DF10703 		add	r3, sp, #7
 8140 0048 0122     		movs	r2, #1
 8141 004a C97D     		ldrb	r1, [r1, #23]	@ zero_extendqisi2
 8142 004c 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 8143 004e FFF7FEFF 		bl	MPU_Write_Len
 8144              	.LVL564:
1917:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8145              		.loc 1 1917 6 view .LVU2361
 8146 0052 50B9     		cbnz	r0, .L619
1919:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 8147              		.loc 1 1919 3 is_stmt 1 view .LVU2362
1919:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 8148              		.loc 1 1919 27 is_stmt 0 view .LVU2363
 8149 0054 064B     		ldr	r3, .L624
 8150 0056 83F82340 		strb	r4, [r3, #35]
1920:DMP/driver/eMPL/inv_mpu.c **** }
 8151              		.loc 1 1920 3 is_stmt 1 view .LVU2364
 8152              	.L612:
1921:DMP/driver/eMPL/inv_mpu.c **** 
 8153              		.loc 1 1921 1 is_stmt 0 view .LVU2365
 8154 005a 02B0     		add	sp, sp, #8
 8155              	.LCFI136:
 8156              		.cfi_remember_state
 8157              		.cfi_def_cfa_offset 8
 8158              		@ sp needed
 8159 005c 10BD     		pop	{r4, pc}
 8160              	.LVL565:
 8161              	.L614:
 8162              	.LCFI137:
 8163              		.cfi_restore_state
1912:DMP/driver/eMPL/inv_mpu.c ****   if (st.chip_cfg.bypass_mode)
 8164              		.loc 1 1912 5 is_stmt 1 view .LVU2366
1912:DMP/driver/eMPL/inv_mpu.c ****   if (st.chip_cfg.bypass_mode)
 8165              		.loc 1 1912 9 is_stmt 0 view .LVU2367
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 229


 8166 005e 0023     		movs	r3, #0
 8167 0060 8DF80730 		strb	r3, [sp, #7]
 8168 0064 D8E7     		b	.L615
 8169              	.L618:
 8170              	.LCFI138:
 8171              		.cfi_def_cfa_offset 0
 8172              		.cfi_restore 4
 8173              		.cfi_restore 14
1907:DMP/driver/eMPL/inv_mpu.c **** 
 8174              		.loc 1 1907 12 view .LVU2368
 8175 0066 0020     		movs	r0, #0
 8176              	.LVL566:
1921:DMP/driver/eMPL/inv_mpu.c **** 
 8177              		.loc 1 1921 1 view .LVU2369
 8178 0068 7047     		bx	lr
 8179              	.L619:
 8180              	.LCFI139:
 8181              		.cfi_def_cfa_offset 16
 8182              		.cfi_offset 4, -8
 8183              		.cfi_offset 14, -4
1918:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.latched_int = enable;
 8184              		.loc 1 1918 12 view .LVU2370
 8185 006a 4FF0FF30 		mov	r0, #-1
 8186 006e F4E7     		b	.L612
 8187              	.L625:
 8188              		.align	2
 8189              	.L624:
 8190 0070 00000000 		.word	st
 8191              		.cfi_endproc
 8192              	.LFE205:
 8194              		.section	.text.mpu_lp_accel_mode,"ax",%progbits
 8195              		.align	1
 8196              		.global	mpu_lp_accel_mode
 8197              		.syntax unified
 8198              		.thumb
 8199              		.thumb_func
 8201              	mpu_lp_accel_mode:
 8202              	.LVL567:
 8203              	.LFB173:
 828:DMP/driver/eMPL/inv_mpu.c ****   unsigned char tmp[2];
 8204              		.loc 1 828 44 is_stmt 1 view -0
 8205              		.cfi_startproc
 8206              		@ args = 0, pretend = 0, frame = 8
 8207              		@ frame_needed = 0, uses_anonymous_args = 0
 829:DMP/driver/eMPL/inv_mpu.c **** 
 8208              		.loc 1 829 3 view .LVU2372
 831:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8209              		.loc 1 831 3 view .LVU2373
 831:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8210              		.loc 1 831 6 is_stmt 0 view .LVU2374
 8211 0000 2828     		cmp	r0, #40
 8212 0002 62D8     		bhi	.L635
 828:DMP/driver/eMPL/inv_mpu.c ****   unsigned char tmp[2];
 8213              		.loc 1 828 44 view .LVU2375
 8214 0004 10B5     		push	{r4, lr}
 8215              	.LCFI140:
 8216              		.cfi_def_cfa_offset 8
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 230


 8217              		.cfi_offset 4, -8
 8218              		.cfi_offset 14, -4
 8219 0006 82B0     		sub	sp, sp, #8
 8220              	.LCFI141:
 8221              		.cfi_def_cfa_offset 16
 8222 0008 0446     		mov	r4, r0
 834:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_int_latched(0);
 8223              		.loc 1 834 3 is_stmt 1 view .LVU2376
 834:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_int_latched(0);
 8224              		.loc 1 834 6 is_stmt 0 view .LVU2377
 8225 000a B8B9     		cbnz	r0, .L628
 835:DMP/driver/eMPL/inv_mpu.c ****     tmp[0] = 0;
 8226              		.loc 1 835 5 is_stmt 1 view .LVU2378
 8227 000c 0020     		movs	r0, #0
 8228              	.LVL568:
 835:DMP/driver/eMPL/inv_mpu.c ****     tmp[0] = 0;
 8229              		.loc 1 835 5 is_stmt 0 view .LVU2379
 8230 000e FFF7FEFF 		bl	mpu_set_int_latched
 8231              	.LVL569:
 836:DMP/driver/eMPL/inv_mpu.c ****     tmp[1] = BIT_STBY_XYZG;
 8232              		.loc 1 836 5 is_stmt 1 view .LVU2380
 836:DMP/driver/eMPL/inv_mpu.c ****     tmp[1] = BIT_STBY_XYZG;
 8233              		.loc 1 836 12 is_stmt 0 view .LVU2381
 8234 0012 0023     		movs	r3, #0
 8235 0014 8DF80430 		strb	r3, [sp, #4]
 837:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 2, tmp))
 8236              		.loc 1 837 5 is_stmt 1 view .LVU2382
 837:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 2, tmp))
 8237              		.loc 1 837 12 is_stmt 0 view .LVU2383
 8238 0018 0723     		movs	r3, #7
 8239 001a 8DF80530 		strb	r3, [sp, #5]
 838:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 8240              		.loc 1 838 5 is_stmt 1 view .LVU2384
 838:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 8241              		.loc 1 838 21 is_stmt 0 view .LVU2385
 8242 001e 314B     		ldr	r3, .L645
 8243 0020 5868     		ldr	r0, [r3, #4]
 838:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 8244              		.loc 1 838 34 view .LVU2386
 8245 0022 1968     		ldr	r1, [r3]
 838:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 8246              		.loc 1 838 9 view .LVU2387
 8247 0024 01AB     		add	r3, sp, #4
 8248 0026 0222     		movs	r2, #2
 8249 0028 497D     		ldrb	r1, [r1, #21]	@ zero_extendqisi2
 8250 002a 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 8251 002c FFF7FEFF 		bl	MPU_Write_Len
 8252              	.LVL570:
 838:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 8253              		.loc 1 838 8 view .LVU2388
 8254 0030 0028     		cmp	r0, #0
 8255 0032 4DD1     		bne	.L636
 840:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 8256              		.loc 1 840 5 is_stmt 1 view .LVU2389
 840:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 8257              		.loc 1 840 31 is_stmt 0 view .LVU2390
 8258 0034 2B4B     		ldr	r3, .L645
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 231


 8259 0036 1875     		strb	r0, [r3, #20]
 841:DMP/driver/eMPL/inv_mpu.c ****   }
 8260              		.loc 1 841 5 is_stmt 1 view .LVU2391
 8261              	.L626:
 903:DMP/driver/eMPL/inv_mpu.c **** 
 8262              		.loc 1 903 1 is_stmt 0 view .LVU2392
 8263 0038 02B0     		add	sp, sp, #8
 8264              	.LCFI142:
 8265              		.cfi_remember_state
 8266              		.cfi_def_cfa_offset 8
 8267              		@ sp needed
 8268 003a 10BD     		pop	{r4, pc}
 8269              	.LVL571:
 8270              	.L628:
 8271              	.LCFI143:
 8272              		.cfi_restore_state
 850:DMP/driver/eMPL/inv_mpu.c **** #if defined MPU6050
 8273              		.loc 1 850 3 is_stmt 1 view .LVU2393
 8274 003c 0120     		movs	r0, #1
 8275              	.LVL572:
 850:DMP/driver/eMPL/inv_mpu.c **** #if defined MPU6050
 8276              		.loc 1 850 3 is_stmt 0 view .LVU2394
 8277 003e FFF7FEFF 		bl	mpu_set_int_latched
 8278              	.LVL573:
 871:DMP/driver/eMPL/inv_mpu.c ****     tmp[0] = INV_LPA_1_25HZ;
 8279              		.loc 1 871 3 is_stmt 1 view .LVU2395
 871:DMP/driver/eMPL/inv_mpu.c ****     tmp[0] = INV_LPA_1_25HZ;
 8280              		.loc 1 871 6 is_stmt 0 view .LVU2396
 8281 0042 012C     		cmp	r4, #1
 8282 0044 07D0     		beq	.L643
 873:DMP/driver/eMPL/inv_mpu.c ****     tmp[0] = INV_LPA_2_5HZ;
 8283              		.loc 1 873 8 is_stmt 1 view .LVU2397
 873:DMP/driver/eMPL/inv_mpu.c ****     tmp[0] = INV_LPA_2_5HZ;
 8284              		.loc 1 873 11 is_stmt 0 view .LVU2398
 8285 0046 022C     		cmp	r4, #2
 8286 0048 2BD0     		beq	.L644
 875:DMP/driver/eMPL/inv_mpu.c ****     tmp[0] = INV_LPA_5HZ;
 8287              		.loc 1 875 8 is_stmt 1 view .LVU2399
 875:DMP/driver/eMPL/inv_mpu.c ****     tmp[0] = INV_LPA_5HZ;
 8288              		.loc 1 875 11 is_stmt 0 view .LVU2400
 8289 004a 052C     		cmp	r4, #5
 8290 004c 2DD8     		bhi	.L632
 876:DMP/driver/eMPL/inv_mpu.c ****   else if (rate <= 10)
 8291              		.loc 1 876 5 is_stmt 1 view .LVU2401
 876:DMP/driver/eMPL/inv_mpu.c ****   else if (rate <= 10)
 8292              		.loc 1 876 12 is_stmt 0 view .LVU2402
 8293 004e 0423     		movs	r3, #4
 8294 0050 8DF80430 		strb	r3, [sp, #4]
 8295 0054 02E0     		b	.L630
 8296              	.L643:
 872:DMP/driver/eMPL/inv_mpu.c ****   else if (rate == 2)
 8297              		.loc 1 872 5 is_stmt 1 view .LVU2403
 872:DMP/driver/eMPL/inv_mpu.c ****   else if (rate == 2)
 8298              		.loc 1 872 12 is_stmt 0 view .LVU2404
 8299 0056 0223     		movs	r3, #2
 8300 0058 8DF80430 		strb	r3, [sp, #4]
 8301              	.L630:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 232


 891:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8302              		.loc 1 891 3 is_stmt 1 view .LVU2405
 891:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8303              		.loc 1 891 19 is_stmt 0 view .LVU2406
 8304 005c 214B     		ldr	r3, .L645
 8305 005e 5868     		ldr	r0, [r3, #4]
 891:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8306              		.loc 1 891 32 view .LVU2407
 8307 0060 1968     		ldr	r1, [r3]
 891:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8308              		.loc 1 891 7 view .LVU2408
 8309 0062 01AB     		add	r3, sp, #4
 8310 0064 0122     		movs	r2, #1
 8311 0066 497A     		ldrb	r1, [r1, #9]	@ zero_extendqisi2
 8312 0068 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 8313 006a FFF7FEFF 		bl	MPU_Write_Len
 8314              	.LVL574:
 891:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8315              		.loc 1 891 6 view .LVU2409
 8316 006e 90BB     		cbnz	r0, .L637
 893:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 1, tmp))
 8317              		.loc 1 893 3 is_stmt 1 view .LVU2410
 893:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 1, tmp))
 8318              		.loc 1 893 10 is_stmt 0 view .LVU2411
 8319 0070 2023     		movs	r3, #32
 8320 0072 8DF80430 		strb	r3, [sp, #4]
 894:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8321              		.loc 1 894 3 is_stmt 1 view .LVU2412
 894:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8322              		.loc 1 894 19 is_stmt 0 view .LVU2413
 8323 0076 1B4B     		ldr	r3, .L645
 8324 0078 5868     		ldr	r0, [r3, #4]
 894:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8325              		.loc 1 894 32 view .LVU2414
 8326 007a 1968     		ldr	r1, [r3]
 894:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8327              		.loc 1 894 7 view .LVU2415
 8328 007c 01AB     		add	r3, sp, #4
 8329 007e 0122     		movs	r2, #1
 8330 0080 497D     		ldrb	r1, [r1, #21]	@ zero_extendqisi2
 8331 0082 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 8332 0084 FFF7FEFF 		bl	MPU_Write_Len
 8333              	.LVL575:
 894:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8334              		.loc 1 894 6 view .LVU2416
 8335 0088 40BB     		cbnz	r0, .L638
 897:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.clk_src = 0;
 8336              		.loc 1 897 3 is_stmt 1 view .LVU2417
 897:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.clk_src = 0;
 8337              		.loc 1 897 23 is_stmt 0 view .LVU2418
 8338 008a 164B     		ldr	r3, .L645
 8339 008c 0822     		movs	r2, #8
 8340 008e 9A72     		strb	r2, [r3, #10]
 898:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.lp_accel_mode = 1;
 8341              		.loc 1 898 3 is_stmt 1 view .LVU2419
 898:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.lp_accel_mode = 1;
 8342              		.loc 1 898 23 is_stmt 0 view .LVU2420
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 233


 8343 0090 0024     		movs	r4, #0
 8344 0092 1C73     		strb	r4, [r3, #12]
 899:DMP/driver/eMPL/inv_mpu.c ****   mpu_configure_fifo(0);
 8345              		.loc 1 899 3 is_stmt 1 view .LVU2421
 899:DMP/driver/eMPL/inv_mpu.c ****   mpu_configure_fifo(0);
 8346              		.loc 1 899 29 is_stmt 0 view .LVU2422
 8347 0094 0122     		movs	r2, #1
 8348 0096 1A75     		strb	r2, [r3, #20]
 900:DMP/driver/eMPL/inv_mpu.c **** 
 8349              		.loc 1 900 3 is_stmt 1 view .LVU2423
 8350 0098 2046     		mov	r0, r4
 8351 009a FFF7FEFF 		bl	mpu_configure_fifo
 8352              	.LVL576:
 902:DMP/driver/eMPL/inv_mpu.c **** }
 8353              		.loc 1 902 3 view .LVU2424
 902:DMP/driver/eMPL/inv_mpu.c **** }
 8354              		.loc 1 902 10 is_stmt 0 view .LVU2425
 8355 009e 2046     		mov	r0, r4
 8356 00a0 CAE7     		b	.L626
 8357              	.L644:
 874:DMP/driver/eMPL/inv_mpu.c ****   else if (rate <= 5)
 8358              		.loc 1 874 5 is_stmt 1 view .LVU2426
 874:DMP/driver/eMPL/inv_mpu.c ****   else if (rate <= 5)
 8359              		.loc 1 874 12 is_stmt 0 view .LVU2427
 8360 00a2 0323     		movs	r3, #3
 8361 00a4 8DF80430 		strb	r3, [sp, #4]
 8362 00a8 D8E7     		b	.L630
 8363              	.L632:
 877:DMP/driver/eMPL/inv_mpu.c ****     tmp[0] = INV_LPA_10HZ;
 8364              		.loc 1 877 8 is_stmt 1 view .LVU2428
 877:DMP/driver/eMPL/inv_mpu.c ****     tmp[0] = INV_LPA_10HZ;
 8365              		.loc 1 877 11 is_stmt 0 view .LVU2429
 8366 00aa 0A2C     		cmp	r4, #10
 8367 00ac 03D8     		bhi	.L633
 878:DMP/driver/eMPL/inv_mpu.c ****   else if (rate <= 20)
 8368              		.loc 1 878 5 is_stmt 1 view .LVU2430
 878:DMP/driver/eMPL/inv_mpu.c ****   else if (rate <= 20)
 8369              		.loc 1 878 12 is_stmt 0 view .LVU2431
 8370 00ae 0523     		movs	r3, #5
 8371 00b0 8DF80430 		strb	r3, [sp, #4]
 8372 00b4 D2E7     		b	.L630
 8373              	.L633:
 879:DMP/driver/eMPL/inv_mpu.c ****     tmp[0] = INV_LPA_20HZ;
 8374              		.loc 1 879 8 is_stmt 1 view .LVU2432
 879:DMP/driver/eMPL/inv_mpu.c ****     tmp[0] = INV_LPA_20HZ;
 8375              		.loc 1 879 11 is_stmt 0 view .LVU2433
 8376 00b6 142C     		cmp	r4, #20
 8377 00b8 03D8     		bhi	.L634
 880:DMP/driver/eMPL/inv_mpu.c ****   else if (rate <= 40)
 8378              		.loc 1 880 5 is_stmt 1 view .LVU2434
 880:DMP/driver/eMPL/inv_mpu.c ****   else if (rate <= 40)
 8379              		.loc 1 880 12 is_stmt 0 view .LVU2435
 8380 00ba 0623     		movs	r3, #6
 8381 00bc 8DF80430 		strb	r3, [sp, #4]
 8382 00c0 CCE7     		b	.L630
 8383              	.L634:
 881:DMP/driver/eMPL/inv_mpu.c ****     tmp[0] = INV_LPA_40HZ;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 234


 8384              		.loc 1 881 8 is_stmt 1 view .LVU2436
 882:DMP/driver/eMPL/inv_mpu.c ****   else if (rate <= 80)
 8385              		.loc 1 882 5 view .LVU2437
 882:DMP/driver/eMPL/inv_mpu.c ****   else if (rate <= 80)
 8386              		.loc 1 882 12 is_stmt 0 view .LVU2438
 8387 00c2 0723     		movs	r3, #7
 8388 00c4 8DF80430 		strb	r3, [sp, #4]
 8389 00c8 C8E7     		b	.L630
 8390              	.LVL577:
 8391              	.L635:
 8392              	.LCFI144:
 8393              		.cfi_def_cfa_offset 0
 8394              		.cfi_restore 4
 8395              		.cfi_restore 14
 832:DMP/driver/eMPL/inv_mpu.c **** 
 8396              		.loc 1 832 12 view .LVU2439
 8397 00ca 4FF0FF30 		mov	r0, #-1
 8398              	.LVL578:
 903:DMP/driver/eMPL/inv_mpu.c **** 
 8399              		.loc 1 903 1 view .LVU2440
 8400 00ce 7047     		bx	lr
 8401              	.L636:
 8402              	.LCFI145:
 8403              		.cfi_def_cfa_offset 16
 8404              		.cfi_offset 4, -8
 8405              		.cfi_offset 14, -4
 839:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.lp_accel_mode = 0;
 8406              		.loc 1 839 14 view .LVU2441
 8407 00d0 4FF0FF30 		mov	r0, #-1
 8408 00d4 B0E7     		b	.L626
 8409              	.L637:
 892:DMP/driver/eMPL/inv_mpu.c ****   tmp[0] = BIT_LPA_CYCLE;
 8410              		.loc 1 892 12 view .LVU2442
 8411 00d6 4FF0FF30 		mov	r0, #-1
 8412 00da ADE7     		b	.L626
 8413              	.L638:
 895:DMP/driver/eMPL/inv_mpu.c **** #endif
 8414              		.loc 1 895 12 view .LVU2443
 8415 00dc 4FF0FF30 		mov	r0, #-1
 8416 00e0 AAE7     		b	.L626
 8417              	.L646:
 8418 00e2 00BF     		.align	2
 8419              	.L645:
 8420 00e4 00000000 		.word	st
 8421              		.cfi_endproc
 8422              	.LFE173:
 8424              		.section	.text.mpu_set_sample_rate,"ax",%progbits
 8425              		.align	1
 8426              		.global	mpu_set_sample_rate
 8427              		.syntax unified
 8428              		.thumb
 8429              		.thumb_func
 8431              	mpu_set_sample_rate:
 8432              	.LVL579:
 8433              	.LFB191:
1405:DMP/driver/eMPL/inv_mpu.c ****   unsigned char data;
 8434              		.loc 1 1405 46 is_stmt 1 view -0
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 235


 8435              		.cfi_startproc
 8436              		@ args = 0, pretend = 0, frame = 8
 8437              		@ frame_needed = 0, uses_anonymous_args = 0
1406:DMP/driver/eMPL/inv_mpu.c **** 
 8438              		.loc 1 1406 3 view .LVU2445
1408:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8439              		.loc 1 1408 3 view .LVU2446
1408:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8440              		.loc 1 1408 20 is_stmt 0 view .LVU2447
 8441 0000 294B     		ldr	r3, .L662
 8442 0002 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
1408:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8443              		.loc 1 1408 6 view .LVU2448
 8444 0004 002B     		cmp	r3, #0
 8445 0006 46D0     		beq	.L652
1405:DMP/driver/eMPL/inv_mpu.c ****   unsigned char data;
 8446              		.loc 1 1405 46 view .LVU2449
 8447 0008 10B5     		push	{r4, lr}
 8448              	.LCFI146:
 8449              		.cfi_def_cfa_offset 8
 8450              		.cfi_offset 4, -8
 8451              		.cfi_offset 14, -4
 8452 000a 82B0     		sub	sp, sp, #8
 8453              	.LCFI147:
 8454              		.cfi_def_cfa_offset 16
 8455 000c 0446     		mov	r4, r0
1411:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8456              		.loc 1 1411 3 is_stmt 1 view .LVU2450
1411:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8457              		.loc 1 1411 18 is_stmt 0 view .LVU2451
 8458 000e 264B     		ldr	r3, .L662
 8459 0010 93F82430 		ldrb	r3, [r3, #36]	@ zero_extendqisi2
1411:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8460              		.loc 1 1411 6 view .LVU2452
 8461 0014 002B     		cmp	r3, #0
 8462 0016 41D1     		bne	.L653
1414:DMP/driver/eMPL/inv_mpu.c ****       if (rate && (rate <= 40)) {
 8463              		.loc 1 1414 5 is_stmt 1 view .LVU2453
1414:DMP/driver/eMPL/inv_mpu.c ****       if (rate && (rate <= 40)) {
 8464              		.loc 1 1414 20 is_stmt 0 view .LVU2454
 8465 0018 234B     		ldr	r3, .L662
 8466 001a 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
1414:DMP/driver/eMPL/inv_mpu.c ****       if (rate && (rate <= 40)) {
 8467              		.loc 1 1414 8 view .LVU2455
 8468 001c 33B1     		cbz	r3, .L649
1415:DMP/driver/eMPL/inv_mpu.c ****         /* Just stay in low-power accel mode. */
 8469              		.loc 1 1415 7 is_stmt 1 view .LVU2456
1415:DMP/driver/eMPL/inv_mpu.c ****         /* Just stay in low-power accel mode. */
 8470              		.loc 1 1415 16 is_stmt 0 view .LVU2457
 8471 001e 431E     		subs	r3, r0, #1
 8472 0020 9BB2     		uxth	r3, r3
1415:DMP/driver/eMPL/inv_mpu.c ****         /* Just stay in low-power accel mode. */
 8473              		.loc 1 1415 10 view .LVU2458
 8474 0022 272B     		cmp	r3, #39
 8475 0024 0AD9     		bls	.L661
1423:DMP/driver/eMPL/inv_mpu.c ****     }
 8476              		.loc 1 1423 7 is_stmt 1 view .LVU2459
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 236


 8477 0026 0020     		movs	r0, #0
 8478              	.LVL580:
1423:DMP/driver/eMPL/inv_mpu.c ****     }
 8479              		.loc 1 1423 7 is_stmt 0 view .LVU2460
 8480 0028 FFF7FEFF 		bl	mpu_lp_accel_mode
 8481              	.LVL581:
 8482              	.L649:
1425:DMP/driver/eMPL/inv_mpu.c ****       rate = 4;
 8483              		.loc 1 1425 5 is_stmt 1 view .LVU2461
1425:DMP/driver/eMPL/inv_mpu.c ****       rate = 4;
 8484              		.loc 1 1425 8 is_stmt 0 view .LVU2462
 8485 002c 032C     		cmp	r4, #3
 8486 002e 09D9     		bls	.L654
1427:DMP/driver/eMPL/inv_mpu.c ****       rate = 1000;
 8487              		.loc 1 1427 10 is_stmt 1 view .LVU2463
1427:DMP/driver/eMPL/inv_mpu.c ****       rate = 1000;
 8488              		.loc 1 1427 13 is_stmt 0 view .LVU2464
 8489 0030 B4F57A7F 		cmp	r4, #1000
 8490 0034 07D9     		bls	.L651
1428:DMP/driver/eMPL/inv_mpu.c **** 
 8491              		.loc 1 1428 12 view .LVU2465
 8492 0036 4FF47A74 		mov	r4, #1000
 8493 003a 04E0     		b	.L651
 8494              	.LVL582:
 8495              	.L661:
1417:DMP/driver/eMPL/inv_mpu.c ****         return 0;
 8496              		.loc 1 1417 9 is_stmt 1 view .LVU2466
 8497 003c FFF7FEFF 		bl	mpu_lp_accel_mode
 8498              	.LVL583:
1418:DMP/driver/eMPL/inv_mpu.c ****       }
 8499              		.loc 1 1418 9 view .LVU2467
1418:DMP/driver/eMPL/inv_mpu.c ****       }
 8500              		.loc 1 1418 16 is_stmt 0 view .LVU2468
 8501 0040 0020     		movs	r0, #0
 8502 0042 26E0     		b	.L647
 8503              	.L654:
1426:DMP/driver/eMPL/inv_mpu.c ****     else if (rate > 1000)
 8504              		.loc 1 1426 12 view .LVU2469
 8505 0044 0424     		movs	r4, #4
 8506              	.L651:
 8507              	.LVL584:
1430:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->rate_div, 1, &data))
 8508              		.loc 1 1430 5 is_stmt 1 view .LVU2470
1430:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->rate_div, 1, &data))
 8509              		.loc 1 1430 17 is_stmt 0 view .LVU2471
 8510 0046 4FF47A73 		mov	r3, #1000
 8511 004a 93FBF4F3 		sdiv	r3, r3, r4
1430:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->rate_div, 1, &data))
 8512              		.loc 1 1430 24 view .LVU2472
 8513 004e 013B     		subs	r3, r3, #1
1430:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->rate_div, 1, &data))
 8514              		.loc 1 1430 10 view .LVU2473
 8515 0050 8DF80730 		strb	r3, [sp, #7]
1431:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 8516              		.loc 1 1431 5 is_stmt 1 view .LVU2474
1431:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 8517              		.loc 1 1431 21 is_stmt 0 view .LVU2475
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 237


 8518 0054 144B     		ldr	r3, .L662
 8519 0056 5868     		ldr	r0, [r3, #4]
1431:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 8520              		.loc 1 1431 34 view .LVU2476
 8521 0058 1968     		ldr	r1, [r3]
1431:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 8522              		.loc 1 1431 9 view .LVU2477
 8523 005a 0DF10703 		add	r3, sp, #7
 8524 005e 0122     		movs	r2, #1
 8525 0060 4978     		ldrb	r1, [r1, #1]	@ zero_extendqisi2
 8526 0062 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 8527 0064 FFF7FEFF 		bl	MPU_Write_Len
 8528              	.LVL585:
1431:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 8529              		.loc 1 1431 8 view .LVU2478
 8530 0068 D8B9     		cbnz	r0, .L656
1434:DMP/driver/eMPL/inv_mpu.c **** 
 8531              		.loc 1 1434 5 is_stmt 1 view .LVU2479
1434:DMP/driver/eMPL/inv_mpu.c **** 
 8532              		.loc 1 1434 41 is_stmt 0 view .LVU2480
 8533 006a 9DF80720 		ldrb	r2, [sp, #7]	@ zero_extendqisi2
 8534 006e 0132     		adds	r2, r2, #1
1434:DMP/driver/eMPL/inv_mpu.c **** 
 8535              		.loc 1 1434 36 view .LVU2481
 8536 0070 4FF47A73 		mov	r3, #1000
 8537 0074 93FBF2F3 		sdiv	r3, r3, r2
1434:DMP/driver/eMPL/inv_mpu.c **** 
 8538              		.loc 1 1434 29 view .LVU2482
 8539 0078 0B4C     		ldr	r4, .L662
 8540              	.LVL586:
1434:DMP/driver/eMPL/inv_mpu.c **** 
 8541              		.loc 1 1434 29 view .LVU2483
 8542 007a E381     		strh	r3, [r4, #14]	@ movhi
1437:DMP/driver/eMPL/inv_mpu.c ****         min(st.chip_cfg.compass_sample_rate, MAX_COMPASS_SAMPLE_RATE));
 8543              		.loc 1 1437 5 is_stmt 1 view .LVU2484
1438:DMP/driver/eMPL/inv_mpu.c **** #endif
 8544              		.loc 1 1438 9 is_stmt 0 view .LVU2485
 8545 007c 208D     		ldrh	r0, [r4, #40]
1437:DMP/driver/eMPL/inv_mpu.c ****         min(st.chip_cfg.compass_sample_rate, MAX_COMPASS_SAMPLE_RATE));
 8546              		.loc 1 1437 5 view .LVU2486
 8547 007e 6428     		cmp	r0, #100
 8548 0080 28BF     		it	cs
 8549 0082 6420     		movcs	r0, #100
 8550 0084 FFF7FEFF 		bl	mpu_set_compass_sample_rate
 8551              	.LVL587:
1442:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 8552              		.loc 1 1442 5 is_stmt 1 view .LVU2487
1442:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 8553              		.loc 1 1442 28 is_stmt 0 view .LVU2488
 8554 0088 E089     		ldrh	r0, [r4, #14]
1442:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 8555              		.loc 1 1442 5 view .LVU2489
 8556 008a 4008     		lsrs	r0, r0, #1
 8557 008c FFF7FEFF 		bl	mpu_set_lpf
 8558              	.LVL588:
1443:DMP/driver/eMPL/inv_mpu.c ****   }
 8559              		.loc 1 1443 5 is_stmt 1 view .LVU2490
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 238


1443:DMP/driver/eMPL/inv_mpu.c ****   }
 8560              		.loc 1 1443 12 is_stmt 0 view .LVU2491
 8561 0090 0020     		movs	r0, #0
 8562              	.LVL589:
 8563              	.L647:
1445:DMP/driver/eMPL/inv_mpu.c **** 
 8564              		.loc 1 1445 1 view .LVU2492
 8565 0092 02B0     		add	sp, sp, #8
 8566              	.LCFI148:
 8567              		.cfi_def_cfa_offset 8
 8568              		@ sp needed
 8569 0094 10BD     		pop	{r4, pc}
 8570              	.LVL590:
 8571              	.L652:
 8572              	.LCFI149:
 8573              		.cfi_def_cfa_offset 0
 8574              		.cfi_restore 4
 8575              		.cfi_restore 14
1409:DMP/driver/eMPL/inv_mpu.c **** 
 8576              		.loc 1 1409 12 view .LVU2493
 8577 0096 4FF0FF30 		mov	r0, #-1
 8578              	.LVL591:
1445:DMP/driver/eMPL/inv_mpu.c **** 
 8579              		.loc 1 1445 1 view .LVU2494
 8580 009a 7047     		bx	lr
 8581              	.LVL592:
 8582              	.L653:
 8583              	.LCFI150:
 8584              		.cfi_def_cfa_offset 16
 8585              		.cfi_offset 4, -8
 8586              		.cfi_offset 14, -4
1412:DMP/driver/eMPL/inv_mpu.c ****   else {
 8587              		.loc 1 1412 12 view .LVU2495
 8588 009c 4FF0FF30 		mov	r0, #-1
 8589              	.LVL593:
1412:DMP/driver/eMPL/inv_mpu.c ****   else {
 8590              		.loc 1 1412 12 view .LVU2496
 8591 00a0 F7E7     		b	.L647
 8592              	.LVL594:
 8593              	.L656:
1432:DMP/driver/eMPL/inv_mpu.c **** 
 8594              		.loc 1 1432 14 view .LVU2497
 8595 00a2 4FF0FF30 		mov	r0, #-1
 8596 00a6 F4E7     		b	.L647
 8597              	.L663:
 8598              		.align	2
 8599              	.L662:
 8600 00a8 00000000 		.word	st
 8601              		.cfi_endproc
 8602              	.LFE191:
 8604              		.section	.text.mpu_set_sensors,"ax",%progbits
 8605              		.align	1
 8606              		.global	mpu_set_sensors
 8607              		.syntax unified
 8608              		.thumb
 8609              		.thumb_func
 8611              	mpu_set_sensors:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 239


 8612              	.LVL595:
 8613              	.LFB199:
1623:DMP/driver/eMPL/inv_mpu.c ****   unsigned char data;
 8614              		.loc 1 1623 44 is_stmt 1 view -0
 8615              		.cfi_startproc
 8616              		@ args = 0, pretend = 0, frame = 8
 8617              		@ frame_needed = 0, uses_anonymous_args = 0
1623:DMP/driver/eMPL/inv_mpu.c ****   unsigned char data;
 8618              		.loc 1 1623 44 is_stmt 0 view .LVU2499
 8619 0000 10B5     		push	{r4, lr}
 8620              	.LCFI151:
 8621              		.cfi_def_cfa_offset 8
 8622              		.cfi_offset 4, -8
 8623              		.cfi_offset 14, -4
 8624 0002 82B0     		sub	sp, sp, #8
 8625              	.LCFI152:
 8626              		.cfi_def_cfa_offset 16
 8627 0004 0446     		mov	r4, r0
1624:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
 8628              		.loc 1 1624 3 is_stmt 1 view .LVU2500
1626:DMP/driver/eMPL/inv_mpu.c **** #endif
 8629              		.loc 1 1626 3 view .LVU2501
1629:DMP/driver/eMPL/inv_mpu.c ****     data = INV_CLK_PLL;
 8630              		.loc 1 1629 3 view .LVU2502
1629:DMP/driver/eMPL/inv_mpu.c ****     data = INV_CLK_PLL;
 8631              		.loc 1 1629 6 is_stmt 0 view .LVU2503
 8632 0006 10F0700F 		tst	r0, #112
 8633 000a 00F08E80 		beq	.L665
1630:DMP/driver/eMPL/inv_mpu.c ****   else if (sensors)
 8634              		.loc 1 1630 5 is_stmt 1 view .LVU2504
1630:DMP/driver/eMPL/inv_mpu.c ****   else if (sensors)
 8635              		.loc 1 1630 10 is_stmt 0 view .LVU2505
 8636 000e 0123     		movs	r3, #1
 8637 0010 8DF80730 		strb	r3, [sp, #7]
 8638              	.L666:
1635:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.sensors = 0;
 8639              		.loc 1 1635 3 is_stmt 1 view .LVU2506
1635:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.sensors = 0;
 8640              		.loc 1 1635 19 is_stmt 0 view .LVU2507
 8641 0014 5E4B     		ldr	r3, .L687
 8642 0016 5868     		ldr	r0, [r3, #4]
 8643              	.LVL596:
1635:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.sensors = 0;
 8644              		.loc 1 1635 32 view .LVU2508
 8645 0018 1968     		ldr	r1, [r3]
1635:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.sensors = 0;
 8646              		.loc 1 1635 7 view .LVU2509
 8647 001a 0DF10703 		add	r3, sp, #7
 8648 001e 0122     		movs	r2, #1
 8649 0020 497D     		ldrb	r1, [r1, #21]	@ zero_extendqisi2
 8650 0022 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 8651 0024 FFF7FEFF 		bl	MPU_Write_Len
 8652              	.LVL597:
1635:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.sensors = 0;
 8653              		.loc 1 1635 6 view .LVU2510
 8654 0028 0028     		cmp	r0, #0
 8655 002a 40F08780 		bne	.L684
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 240


1639:DMP/driver/eMPL/inv_mpu.c **** 
 8656              		.loc 1 1639 3 is_stmt 1 view .LVU2511
1639:DMP/driver/eMPL/inv_mpu.c **** 
 8657              		.loc 1 1639 30 is_stmt 0 view .LVU2512
 8658 002e 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 8659 0032 03F0BF03 		and	r3, r3, #191
1639:DMP/driver/eMPL/inv_mpu.c **** 
 8660              		.loc 1 1639 23 view .LVU2513
 8661 0036 564A     		ldr	r2, .L687
 8662 0038 1373     		strb	r3, [r2, #12]
1641:DMP/driver/eMPL/inv_mpu.c ****   if (!(sensors & INV_X_GYRO))
 8663              		.loc 1 1641 3 is_stmt 1 view .LVU2514
1641:DMP/driver/eMPL/inv_mpu.c ****   if (!(sensors & INV_X_GYRO))
 8664              		.loc 1 1641 8 is_stmt 0 view .LVU2515
 8665 003a 0023     		movs	r3, #0
 8666 003c 8DF80730 		strb	r3, [sp, #7]
1642:DMP/driver/eMPL/inv_mpu.c ****     data |= BIT_STBY_XG;
 8667              		.loc 1 1642 3 is_stmt 1 view .LVU2516
1642:DMP/driver/eMPL/inv_mpu.c ****     data |= BIT_STBY_XG;
 8668              		.loc 1 1642 6 is_stmt 0 view .LVU2517
 8669 0040 14F0400F 		tst	r4, #64
 8670 0044 02D1     		bne	.L670
1643:DMP/driver/eMPL/inv_mpu.c ****   if (!(sensors & INV_Y_GYRO))
 8671              		.loc 1 1643 5 is_stmt 1 view .LVU2518
1643:DMP/driver/eMPL/inv_mpu.c ****   if (!(sensors & INV_Y_GYRO))
 8672              		.loc 1 1643 10 is_stmt 0 view .LVU2519
 8673 0046 0423     		movs	r3, #4
 8674 0048 8DF80730 		strb	r3, [sp, #7]
 8675              	.L670:
1644:DMP/driver/eMPL/inv_mpu.c ****     data |= BIT_STBY_YG;
 8676              		.loc 1 1644 3 is_stmt 1 view .LVU2520
1644:DMP/driver/eMPL/inv_mpu.c ****     data |= BIT_STBY_YG;
 8677              		.loc 1 1644 6 is_stmt 0 view .LVU2521
 8678 004c 14F0200F 		tst	r4, #32
 8679 0050 05D1     		bne	.L671
1645:DMP/driver/eMPL/inv_mpu.c ****   if (!(sensors & INV_Z_GYRO))
 8680              		.loc 1 1645 5 is_stmt 1 view .LVU2522
1645:DMP/driver/eMPL/inv_mpu.c ****   if (!(sensors & INV_Z_GYRO))
 8681              		.loc 1 1645 10 is_stmt 0 view .LVU2523
 8682 0052 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 8683 0056 43F00203 		orr	r3, r3, #2
 8684 005a 8DF80730 		strb	r3, [sp, #7]
 8685              	.L671:
1646:DMP/driver/eMPL/inv_mpu.c ****     data |= BIT_STBY_ZG;
 8686              		.loc 1 1646 3 is_stmt 1 view .LVU2524
1646:DMP/driver/eMPL/inv_mpu.c ****     data |= BIT_STBY_ZG;
 8687              		.loc 1 1646 6 is_stmt 0 view .LVU2525
 8688 005e 14F0100F 		tst	r4, #16
 8689 0062 05D1     		bne	.L672
1647:DMP/driver/eMPL/inv_mpu.c ****   if (!(sensors & INV_XYZ_ACCEL))
 8690              		.loc 1 1647 5 is_stmt 1 view .LVU2526
1647:DMP/driver/eMPL/inv_mpu.c ****   if (!(sensors & INV_XYZ_ACCEL))
 8691              		.loc 1 1647 10 is_stmt 0 view .LVU2527
 8692 0064 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 8693 0068 43F00103 		orr	r3, r3, #1
 8694 006c 8DF80730 		strb	r3, [sp, #7]
 8695              	.L672:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 241


1648:DMP/driver/eMPL/inv_mpu.c ****     data |= BIT_STBY_XYZA;
 8696              		.loc 1 1648 3 is_stmt 1 view .LVU2528
1648:DMP/driver/eMPL/inv_mpu.c ****     data |= BIT_STBY_XYZA;
 8697              		.loc 1 1648 6 is_stmt 0 view .LVU2529
 8698 0070 14F0080F 		tst	r4, #8
 8699 0074 05D1     		bne	.L673
1649:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_2, 1, &data)) {
 8700              		.loc 1 1649 5 is_stmt 1 view .LVU2530
1649:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_2, 1, &data)) {
 8701              		.loc 1 1649 10 is_stmt 0 view .LVU2531
 8702 0076 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 8703 007a 43F03803 		orr	r3, r3, #56
 8704 007e 8DF80730 		strb	r3, [sp, #7]
 8705              	.L673:
1650:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.sensors = 0;
 8706              		.loc 1 1650 3 is_stmt 1 view .LVU2532
1650:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.sensors = 0;
 8707              		.loc 1 1650 19 is_stmt 0 view .LVU2533
 8708 0082 434B     		ldr	r3, .L687
 8709 0084 5868     		ldr	r0, [r3, #4]
1650:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.sensors = 0;
 8710              		.loc 1 1650 32 view .LVU2534
 8711 0086 1968     		ldr	r1, [r3]
1650:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.sensors = 0;
 8712              		.loc 1 1650 7 view .LVU2535
 8713 0088 0DF10703 		add	r3, sp, #7
 8714 008c 0122     		movs	r2, #1
 8715 008e 897D     		ldrb	r1, [r1, #22]	@ zero_extendqisi2
 8716 0090 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 8717 0092 FFF7FEFF 		bl	MPU_Write_Len
 8718              	.LVL598:
1650:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.sensors = 0;
 8719              		.loc 1 1650 6 view .LVU2536
 8720 0096 0028     		cmp	r0, #0
 8721 0098 56D1     		bne	.L685
1655:DMP/driver/eMPL/inv_mpu.c ****     /* Latched interrupts only used in LP accel mode. */
 8722              		.loc 1 1655 3 is_stmt 1 view .LVU2537
1655:DMP/driver/eMPL/inv_mpu.c ****     /* Latched interrupts only used in LP accel mode. */
 8723              		.loc 1 1655 6 is_stmt 0 view .LVU2538
 8724 009a 0CB1     		cbz	r4, .L675
1655:DMP/driver/eMPL/inv_mpu.c ****     /* Latched interrupts only used in LP accel mode. */
 8725              		.loc 1 1655 15 discriminator 1 view .LVU2539
 8726 009c 082C     		cmp	r4, #8
 8727 009e 59D1     		bne	.L686
 8728              	.L675:
1666:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8729              		.loc 1 1666 3 is_stmt 1 view .LVU2540
1666:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8730              		.loc 1 1666 18 is_stmt 0 view .LVU2541
 8731 00a0 3B4B     		ldr	r3, .L687
 8732 00a2 5868     		ldr	r0, [r3, #4]
1666:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8733              		.loc 1 1666 31 view .LVU2542
 8734 00a4 1968     		ldr	r1, [r3]
1666:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8735              		.loc 1 1666 7 view .LVU2543
 8736 00a6 0DF10603 		add	r3, sp, #6
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 242


 8737 00aa 0122     		movs	r2, #1
 8738 00ac 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 8739 00ae 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 8740 00b0 FFF7FEFF 		bl	MPU_Read_Len
 8741              	.LVL599:
1666:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8742              		.loc 1 1666 6 view .LVU2544
 8743 00b4 0028     		cmp	r0, #0
 8744 00b6 62D1     		bne	.L680
1669:DMP/driver/eMPL/inv_mpu.c ****     data = AKM_SINGLE_MEASUREMENT;
 8745              		.loc 1 1669 3 is_stmt 1 view .LVU2545
1669:DMP/driver/eMPL/inv_mpu.c ****     data = AKM_SINGLE_MEASUREMENT;
 8746              		.loc 1 1669 6 is_stmt 0 view .LVU2546
 8747 00b8 14F0010F 		tst	r4, #1
 8748 00bc 4ED0     		beq	.L676
1670:DMP/driver/eMPL/inv_mpu.c ****     user_ctrl |= BIT_AUX_IF_EN;
 8749              		.loc 1 1670 5 is_stmt 1 view .LVU2547
1670:DMP/driver/eMPL/inv_mpu.c ****     user_ctrl |= BIT_AUX_IF_EN;
 8750              		.loc 1 1670 10 is_stmt 0 view .LVU2548
 8751 00be 1123     		movs	r3, #17
 8752 00c0 8DF80730 		strb	r3, [sp, #7]
1671:DMP/driver/eMPL/inv_mpu.c ****   } else {
 8753              		.loc 1 1671 5 is_stmt 1 view .LVU2549
1671:DMP/driver/eMPL/inv_mpu.c ****   } else {
 8754              		.loc 1 1671 15 is_stmt 0 view .LVU2550
 8755 00c4 9DF80630 		ldrb	r3, [sp, #6]	@ zero_extendqisi2
 8756 00c8 43F02003 		orr	r3, r3, #32
 8757 00cc 8DF80630 		strb	r3, [sp, #6]
 8758              	.L677:
1676:DMP/driver/eMPL/inv_mpu.c ****     user_ctrl |= BIT_DMP_EN;
 8759              		.loc 1 1676 3 is_stmt 1 view .LVU2551
1676:DMP/driver/eMPL/inv_mpu.c ****     user_ctrl |= BIT_DMP_EN;
 8760              		.loc 1 1676 18 is_stmt 0 view .LVU2552
 8761 00d0 2F4B     		ldr	r3, .L687
 8762 00d2 93F82430 		ldrb	r3, [r3, #36]	@ zero_extendqisi2
1676:DMP/driver/eMPL/inv_mpu.c ****     user_ctrl |= BIT_DMP_EN;
 8763              		.loc 1 1676 6 view .LVU2553
 8764 00d6 002B     		cmp	r3, #0
 8765 00d8 4AD0     		beq	.L678
1677:DMP/driver/eMPL/inv_mpu.c ****   else
 8766              		.loc 1 1677 5 is_stmt 1 view .LVU2554
1677:DMP/driver/eMPL/inv_mpu.c ****   else
 8767              		.loc 1 1677 15 is_stmt 0 view .LVU2555
 8768 00da 9DF80630 		ldrb	r3, [sp, #6]	@ zero_extendqisi2
 8769 00de 63F07F03 		orn	r3, r3, #127
 8770 00e2 8DF80630 		strb	r3, [sp, #6]
 8771              	.L679:
1680:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8772              		.loc 1 1680 3 is_stmt 1 view .LVU2556
1680:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8773              		.loc 1 1680 19 is_stmt 0 view .LVU2557
 8774 00e6 2A4B     		ldr	r3, .L687
 8775 00e8 5868     		ldr	r0, [r3, #4]
1680:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8776              		.loc 1 1680 32 view .LVU2558
 8777 00ea 1968     		ldr	r1, [r3]
1680:DMP/driver/eMPL/inv_mpu.c ****     return -1;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 243


 8778              		.loc 1 1680 7 view .LVU2559
 8779 00ec 0DF10703 		add	r3, sp, #7
 8780 00f0 0122     		movs	r2, #1
 8781 00f2 91F82610 		ldrb	r1, [r1, #38]	@ zero_extendqisi2
 8782 00f6 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 8783 00f8 FFF7FEFF 		bl	MPU_Write_Len
 8784              	.LVL600:
1680:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8785              		.loc 1 1680 6 view .LVU2560
 8786 00fc 0028     		cmp	r0, #0
 8787 00fe 41D1     		bne	.L681
1683:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8788              		.loc 1 1683 3 is_stmt 1 view .LVU2561
1683:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8789              		.loc 1 1683 19 is_stmt 0 view .LVU2562
 8790 0100 234B     		ldr	r3, .L687
 8791 0102 5868     		ldr	r0, [r3, #4]
1683:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8792              		.loc 1 1683 32 view .LVU2563
 8793 0104 1968     		ldr	r1, [r3]
1683:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8794              		.loc 1 1683 7 view .LVU2564
 8795 0106 0DF10603 		add	r3, sp, #6
 8796 010a 0122     		movs	r2, #1
 8797 010c 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 8798 010e 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 8799 0110 FFF7FEFF 		bl	MPU_Write_Len
 8800              	.LVL601:
1683:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8801              		.loc 1 1683 6 view .LVU2565
 8802 0114 C8BB     		cbnz	r0, .L682
1688:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.lp_accel_mode = 0;
 8803              		.loc 1 1688 3 is_stmt 1 view .LVU2566
1688:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.lp_accel_mode = 0;
 8804              		.loc 1 1688 23 is_stmt 0 view .LVU2567
 8805 0116 1E4B     		ldr	r3, .L687
 8806 0118 9C72     		strb	r4, [r3, #10]
1689:DMP/driver/eMPL/inv_mpu.c ****   delay_ms(50);
 8807              		.loc 1 1689 3 is_stmt 1 view .LVU2568
1689:DMP/driver/eMPL/inv_mpu.c ****   delay_ms(50);
 8808              		.loc 1 1689 29 is_stmt 0 view .LVU2569
 8809 011a 0024     		movs	r4, #0
 8810 011c 1C75     		strb	r4, [r3, #20]
1690:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 8811              		.loc 1 1690 3 is_stmt 1 view .LVU2570
 8812 011e 3220     		movs	r0, #50
 8813 0120 FFF7FEFF 		bl	HAL_Delay
 8814              	.LVL602:
1691:DMP/driver/eMPL/inv_mpu.c **** }
 8815              		.loc 1 1691 3 view .LVU2571
1691:DMP/driver/eMPL/inv_mpu.c **** }
 8816              		.loc 1 1691 10 is_stmt 0 view .LVU2572
 8817 0124 2046     		mov	r0, r4
 8818              	.L664:
1692:DMP/driver/eMPL/inv_mpu.c **** 
 8819              		.loc 1 1692 1 view .LVU2573
 8820 0126 02B0     		add	sp, sp, #8
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 244


 8821              	.LCFI153:
 8822              		.cfi_remember_state
 8823              		.cfi_def_cfa_offset 8
 8824              		@ sp needed
 8825 0128 10BD     		pop	{r4, pc}
 8826              	.LVL603:
 8827              	.L665:
 8828              	.LCFI154:
 8829              		.cfi_restore_state
1631:DMP/driver/eMPL/inv_mpu.c ****     data = 0;
 8830              		.loc 1 1631 8 is_stmt 1 view .LVU2574
1631:DMP/driver/eMPL/inv_mpu.c ****     data = 0;
 8831              		.loc 1 1631 11 is_stmt 0 view .LVU2575
 8832 012a 18B1     		cbz	r0, .L667
1632:DMP/driver/eMPL/inv_mpu.c ****   else
 8833              		.loc 1 1632 5 is_stmt 1 view .LVU2576
1632:DMP/driver/eMPL/inv_mpu.c ****   else
 8834              		.loc 1 1632 10 is_stmt 0 view .LVU2577
 8835 012c 0023     		movs	r3, #0
 8836 012e 8DF80730 		strb	r3, [sp, #7]
 8837 0132 6FE7     		b	.L666
 8838              	.L667:
1634:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 1, &data)) {
 8839              		.loc 1 1634 5 is_stmt 1 view .LVU2578
1634:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 1, &data)) {
 8840              		.loc 1 1634 10 is_stmt 0 view .LVU2579
 8841 0134 4023     		movs	r3, #64
 8842 0136 8DF80730 		strb	r3, [sp, #7]
 8843 013a 6BE7     		b	.L666
 8844              	.LVL604:
 8845              	.L684:
1636:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8846              		.loc 1 1636 5 is_stmt 1 view .LVU2580
1636:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8847              		.loc 1 1636 25 is_stmt 0 view .LVU2581
 8848 013c 144B     		ldr	r3, .L687
 8849 013e 0022     		movs	r2, #0
 8850 0140 9A72     		strb	r2, [r3, #10]
1637:DMP/driver/eMPL/inv_mpu.c ****   }
 8851              		.loc 1 1637 5 is_stmt 1 view .LVU2582
1637:DMP/driver/eMPL/inv_mpu.c ****   }
 8852              		.loc 1 1637 12 is_stmt 0 view .LVU2583
 8853 0142 4FF0FF30 		mov	r0, #-1
 8854 0146 EEE7     		b	.L664
 8855              	.L685:
1651:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8856              		.loc 1 1651 5 is_stmt 1 view .LVU2584
1651:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8857              		.loc 1 1651 25 is_stmt 0 view .LVU2585
 8858 0148 114B     		ldr	r3, .L687
 8859 014a 0022     		movs	r2, #0
 8860 014c 9A72     		strb	r2, [r3, #10]
1652:DMP/driver/eMPL/inv_mpu.c ****   }
 8861              		.loc 1 1652 5 is_stmt 1 view .LVU2586
1652:DMP/driver/eMPL/inv_mpu.c ****   }
 8862              		.loc 1 1652 12 is_stmt 0 view .LVU2587
 8863 014e 4FF0FF30 		mov	r0, #-1
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 245


 8864 0152 E8E7     		b	.L664
 8865              	.L686:
1657:DMP/driver/eMPL/inv_mpu.c **** 
 8866              		.loc 1 1657 5 is_stmt 1 view .LVU2588
 8867 0154 0020     		movs	r0, #0
 8868 0156 FFF7FEFF 		bl	mpu_set_int_latched
 8869              	.LVL605:
 8870 015a A1E7     		b	.L675
 8871              	.L676:
1673:DMP/driver/eMPL/inv_mpu.c ****     user_ctrl &= ~BIT_AUX_IF_EN;
 8872              		.loc 1 1673 5 view .LVU2589
1673:DMP/driver/eMPL/inv_mpu.c ****     user_ctrl &= ~BIT_AUX_IF_EN;
 8873              		.loc 1 1673 10 is_stmt 0 view .LVU2590
 8874 015c 1023     		movs	r3, #16
 8875 015e 8DF80730 		strb	r3, [sp, #7]
1674:DMP/driver/eMPL/inv_mpu.c ****   }
 8876              		.loc 1 1674 5 is_stmt 1 view .LVU2591
1674:DMP/driver/eMPL/inv_mpu.c ****   }
 8877              		.loc 1 1674 15 is_stmt 0 view .LVU2592
 8878 0162 9DF80630 		ldrb	r3, [sp, #6]	@ zero_extendqisi2
 8879 0166 23F02003 		bic	r3, r3, #32
 8880 016a 8DF80630 		strb	r3, [sp, #6]
 8881 016e AFE7     		b	.L677
 8882              	.L678:
1679:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->s1_do, 1, &data))
 8883              		.loc 1 1679 5 is_stmt 1 view .LVU2593
1679:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->s1_do, 1, &data))
 8884              		.loc 1 1679 15 is_stmt 0 view .LVU2594
 8885 0170 9DF80630 		ldrb	r3, [sp, #6]	@ zero_extendqisi2
 8886 0174 03F07F03 		and	r3, r3, #127
 8887 0178 8DF80630 		strb	r3, [sp, #6]
 8888 017c B3E7     		b	.L679
 8889              	.L680:
1667:DMP/driver/eMPL/inv_mpu.c ****   /* Handle AKM power management. */
 8890              		.loc 1 1667 12 view .LVU2595
 8891 017e 4FF0FF30 		mov	r0, #-1
 8892 0182 D0E7     		b	.L664
 8893              	.L681:
1681:DMP/driver/eMPL/inv_mpu.c ****   /* Enable/disable I2C master mode. */
 8894              		.loc 1 1681 12 view .LVU2596
 8895 0184 4FF0FF30 		mov	r0, #-1
 8896 0188 CDE7     		b	.L664
 8897              	.L682:
1684:DMP/driver/eMPL/inv_mpu.c **** #endif
 8898              		.loc 1 1684 12 view .LVU2597
 8899 018a 4FF0FF30 		mov	r0, #-1
 8900 018e CAE7     		b	.L664
 8901              	.L688:
 8902              		.align	2
 8903              	.L687:
 8904 0190 00000000 		.word	st
 8905              		.cfi_endproc
 8906              	.LFE199:
 8908              		.section	.text.mpu_init,"ax",%progbits
 8909              		.align	1
 8910              		.global	mpu_init
 8911              		.syntax unified
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 246


 8912              		.thumb
 8913              		.thumb_func
 8915              	mpu_init:
 8916              	.LVL606:
 8917              	.LFB172:
 735:DMP/driver/eMPL/inv_mpu.c ****   unsigned char data[6];
 8918              		.loc 1 735 45 is_stmt 1 view -0
 8919              		.cfi_startproc
 8920              		@ args = 0, pretend = 0, frame = 8
 8921              		@ frame_needed = 0, uses_anonymous_args = 0
 735:DMP/driver/eMPL/inv_mpu.c ****   unsigned char data[6];
 8922              		.loc 1 735 45 is_stmt 0 view .LVU2599
 8923 0000 10B5     		push	{r4, lr}
 8924              	.LCFI155:
 8925              		.cfi_def_cfa_offset 8
 8926              		.cfi_offset 4, -8
 8927              		.cfi_offset 14, -4
 8928 0002 82B0     		sub	sp, sp, #8
 8929              	.LCFI156:
 8930              		.cfi_def_cfa_offset 16
 736:DMP/driver/eMPL/inv_mpu.c **** 
 8931              		.loc 1 736 3 is_stmt 1 view .LVU2600
 739:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 1, data))
 8932              		.loc 1 739 3 view .LVU2601
 739:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 1, data))
 8933              		.loc 1 739 11 is_stmt 0 view .LVU2602
 8934 0004 8023     		movs	r3, #128
 8935 0006 8DF80030 		strb	r3, [sp]
 740:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8936              		.loc 1 740 3 is_stmt 1 view .LVU2603
 740:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8937              		.loc 1 740 19 is_stmt 0 view .LVU2604
 8938 000a 434B     		ldr	r3, .L701
 8939 000c 5868     		ldr	r0, [r3, #4]
 8940              	.LVL607:
 740:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8941              		.loc 1 740 32 view .LVU2605
 8942 000e 1968     		ldr	r1, [r3]
 740:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8943              		.loc 1 740 7 view .LVU2606
 8944 0010 6B46     		mov	r3, sp
 8945 0012 0122     		movs	r2, #1
 8946 0014 497D     		ldrb	r1, [r1, #21]	@ zero_extendqisi2
 8947 0016 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 8948 0018 FFF7FEFF 		bl	MPU_Write_Len
 8949              	.LVL608:
 740:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8950              		.loc 1 740 6 view .LVU2607
 8951 001c 0028     		cmp	r0, #0
 8952 001e 60D1     		bne	.L691
 742:DMP/driver/eMPL/inv_mpu.c **** 
 8953              		.loc 1 742 3 is_stmt 1 view .LVU2608
 8954 0020 6420     		movs	r0, #100
 8955 0022 FFF7FEFF 		bl	HAL_Delay
 8956              	.LVL609:
 745:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 1, data))
 8957              		.loc 1 745 3 view .LVU2609
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 247


 745:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 1, data))
 8958              		.loc 1 745 11 is_stmt 0 view .LVU2610
 8959 0026 0023     		movs	r3, #0
 8960 0028 8DF80030 		strb	r3, [sp]
 746:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8961              		.loc 1 746 3 is_stmt 1 view .LVU2611
 746:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8962              		.loc 1 746 19 is_stmt 0 view .LVU2612
 8963 002c 3A4B     		ldr	r3, .L701
 8964 002e 5868     		ldr	r0, [r3, #4]
 746:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8965              		.loc 1 746 32 view .LVU2613
 8966 0030 1968     		ldr	r1, [r3]
 746:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8967              		.loc 1 746 7 view .LVU2614
 8968 0032 6B46     		mov	r3, sp
 8969 0034 0122     		movs	r2, #1
 8970 0036 497D     		ldrb	r1, [r1, #21]	@ zero_extendqisi2
 8971 0038 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 8972 003a FFF7FEFF 		bl	MPU_Write_Len
 8973              	.LVL610:
 746:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8974              		.loc 1 746 6 view .LVU2615
 8975 003e 0028     		cmp	r0, #0
 8976 0040 52D1     		bne	.L692
 749:DMP/driver/eMPL/inv_mpu.c **** 
 8977              		.loc 1 749 3 is_stmt 1 view .LVU2616
 749:DMP/driver/eMPL/inv_mpu.c **** 
 8978              		.loc 1 749 26 is_stmt 0 view .LVU2617
 8979 0042 354B     		ldr	r3, .L701
 8980 0044 0022     		movs	r2, #0
 8981 0046 DA74     		strb	r2, [r3, #19]
 755:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->accel_cfg2, 1, data))
 8982              		.loc 1 755 3 is_stmt 1 view .LVU2618
 755:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->accel_cfg2, 1, data))
 8983              		.loc 1 755 11 is_stmt 0 view .LVU2619
 8984 0048 4822     		movs	r2, #72
 8985 004a 8DF80020 		strb	r2, [sp]
 756:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8986              		.loc 1 756 3 is_stmt 1 view .LVU2620
 756:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8987              		.loc 1 756 19 is_stmt 0 view .LVU2621
 8988 004e 5868     		ldr	r0, [r3, #4]
 756:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8989              		.loc 1 756 32 view .LVU2622
 8990 0050 1968     		ldr	r1, [r3]
 756:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8991              		.loc 1 756 7 view .LVU2623
 8992 0052 6B46     		mov	r3, sp
 8993 0054 0122     		movs	r2, #1
 8994 0056 097A     		ldrb	r1, [r1, #8]	@ zero_extendqisi2
 8995 0058 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 8996 005a FFF7FEFF 		bl	MPU_Write_Len
 8997              	.LVL611:
 756:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 8998              		.loc 1 756 6 view .LVU2624
 8999 005e 0028     		cmp	r0, #0
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 248


 9000 0060 45D1     		bne	.L693
 761:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.gyro_fsr = 0xFF;
 9001              		.loc 1 761 3 is_stmt 1 view .LVU2625
 761:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.gyro_fsr = 0xFF;
 9002              		.loc 1 761 23 is_stmt 0 view .LVU2626
 9003 0062 2D4B     		ldr	r3, .L701
 9004 0064 FF22     		movs	r2, #255
 9005 0066 9A72     		strb	r2, [r3, #10]
 762:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.accel_fsr = 0xFF;
 9006              		.loc 1 762 3 is_stmt 1 view .LVU2627
 762:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.accel_fsr = 0xFF;
 9007              		.loc 1 762 24 is_stmt 0 view .LVU2628
 9008 0068 1A72     		strb	r2, [r3, #8]
 763:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.lpf = 0xFF;
 9009              		.loc 1 763 3 is_stmt 1 view .LVU2629
 763:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.lpf = 0xFF;
 9010              		.loc 1 763 25 is_stmt 0 view .LVU2630
 9011 006a 5A72     		strb	r2, [r3, #9]
 764:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.sample_rate = 0xFFFF;
 9012              		.loc 1 764 3 is_stmt 1 view .LVU2631
 764:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.sample_rate = 0xFFFF;
 9013              		.loc 1 764 19 is_stmt 0 view .LVU2632
 9014 006c DA72     		strb	r2, [r3, #11]
 765:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.fifo_enable = 0xFF;
 9015              		.loc 1 765 3 is_stmt 1 view .LVU2633
 765:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.fifo_enable = 0xFF;
 9016              		.loc 1 765 27 is_stmt 0 view .LVU2634
 9017 006e 4FF6FF71 		movw	r1, #65535
 9018 0072 D981     		strh	r1, [r3, #14]	@ movhi
 766:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.bypass_mode = 0xFF;
 9019              		.loc 1 766 3 is_stmt 1 view .LVU2635
 766:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.bypass_mode = 0xFF;
 9020              		.loc 1 766 27 is_stmt 0 view .LVU2636
 9021 0074 1A74     		strb	r2, [r3, #16]
 767:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
 9022              		.loc 1 767 3 is_stmt 1 view .LVU2637
 767:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
 9023              		.loc 1 767 27 is_stmt 0 view .LVU2638
 9024 0076 9A74     		strb	r2, [r3, #18]
 769:DMP/driver/eMPL/inv_mpu.c **** #endif
 9025              		.loc 1 769 3 is_stmt 1 view .LVU2639
 769:DMP/driver/eMPL/inv_mpu.c **** #endif
 9026              		.loc 1 769 35 is_stmt 0 view .LVU2640
 9027 0078 1985     		strh	r1, [r3, #40]	@ movhi
 772:DMP/driver/eMPL/inv_mpu.c ****   /* Handled in next call to mpu_set_bypass. */
 9028              		.loc 1 772 3 is_stmt 1 view .LVU2641
 772:DMP/driver/eMPL/inv_mpu.c ****   /* Handled in next call to mpu_set_bypass. */
 9029              		.loc 1 772 23 is_stmt 0 view .LVU2642
 9030 007a 0122     		movs	r2, #1
 9031 007c 1A73     		strb	r2, [r3, #12]
 774:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.latched_int = 0;
 9032              		.loc 1 774 3 is_stmt 1 view .LVU2643
 774:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.latched_int = 0;
 9033              		.loc 1 774 30 is_stmt 0 view .LVU2644
 9034 007e 83F82220 		strb	r2, [r3, #34]
 775:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.int_motion_only = 0;
 9035              		.loc 1 775 3 is_stmt 1 view .LVU2645
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 249


 775:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.int_motion_only = 0;
 9036              		.loc 1 775 27 is_stmt 0 view .LVU2646
 9037 0082 0022     		movs	r2, #0
 9038 0084 83F82320 		strb	r2, [r3, #35]
 776:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.lp_accel_mode = 0;
 9039              		.loc 1 776 3 is_stmt 1 view .LVU2647
 776:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.lp_accel_mode = 0;
 9040              		.loc 1 776 31 is_stmt 0 view .LVU2648
 9041 0088 5A75     		strb	r2, [r3, #21]
 777:DMP/driver/eMPL/inv_mpu.c ****   memset(&st.chip_cfg.cache, 0, sizeof(st.chip_cfg.cache));
 9042              		.loc 1 777 3 is_stmt 1 view .LVU2649
 777:DMP/driver/eMPL/inv_mpu.c ****   memset(&st.chip_cfg.cache, 0, sizeof(st.chip_cfg.cache));
 9043              		.loc 1 777 29 is_stmt 0 view .LVU2650
 9044 008a 1A75     		strb	r2, [r3, #20]
 778:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.dmp_on = 0;
 9045              		.loc 1 778 3 is_stmt 1 view .LVU2651
 9046 008c C3F81620 		str	r2, [r3, #22]	@ unaligned
 9047 0090 C3F81A20 		str	r2, [r3, #26]	@ unaligned
 9048 0094 C3F81E20 		str	r2, [r3, #30]	@ unaligned
 779:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.dmp_loaded = 0;
 9049              		.loc 1 779 3 view .LVU2652
 779:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.dmp_loaded = 0;
 9050              		.loc 1 779 22 is_stmt 0 view .LVU2653
 9051 0098 83F82420 		strb	r2, [r3, #36]
 780:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.dmp_sample_rate = 0;
 9052              		.loc 1 780 3 is_stmt 1 view .LVU2654
 780:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.dmp_sample_rate = 0;
 9053              		.loc 1 780 26 is_stmt 0 view .LVU2655
 9054 009c 83F82520 		strb	r2, [r3, #37]
 781:DMP/driver/eMPL/inv_mpu.c **** 
 9055              		.loc 1 781 3 is_stmt 1 view .LVU2656
 781:DMP/driver/eMPL/inv_mpu.c **** 
 9056              		.loc 1 781 31 is_stmt 0 view .LVU2657
 9057 00a0 DA84     		strh	r2, [r3, #38]	@ movhi
 783:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9058              		.loc 1 783 3 is_stmt 1 view .LVU2658
 783:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9059              		.loc 1 783 7 is_stmt 0 view .LVU2659
 9060 00a2 4FF4FA60 		mov	r0, #2000
 9061 00a6 FFF7FEFF 		bl	mpu_set_gyro_fsr
 9062              	.LVL612:
 783:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9063              		.loc 1 783 6 view .LVU2660
 9064 00aa 18BB     		cbnz	r0, .L694
 785:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9065              		.loc 1 785 3 is_stmt 1 view .LVU2661
 785:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9066              		.loc 1 785 7 is_stmt 0 view .LVU2662
 9067 00ac 0220     		movs	r0, #2
 9068 00ae FFF7FEFF 		bl	mpu_set_accel_fsr
 9069              	.LVL613:
 785:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9070              		.loc 1 785 6 view .LVU2663
 9071 00b2 10BB     		cbnz	r0, .L695
 787:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9072              		.loc 1 787 3 is_stmt 1 view .LVU2664
 787:DMP/driver/eMPL/inv_mpu.c ****     return -1;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 250


 9073              		.loc 1 787 7 is_stmt 0 view .LVU2665
 9074 00b4 2A20     		movs	r0, #42
 9075 00b6 FFF7FEFF 		bl	mpu_set_lpf
 9076              	.LVL614:
 787:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9077              		.loc 1 787 6 view .LVU2666
 9078 00ba 08BB     		cbnz	r0, .L696
 789:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9079              		.loc 1 789 3 is_stmt 1 view .LVU2667
 789:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9080              		.loc 1 789 7 is_stmt 0 view .LVU2668
 9081 00bc 3220     		movs	r0, #50
 9082 00be FFF7FEFF 		bl	mpu_set_sample_rate
 9083              	.LVL615:
 789:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9084              		.loc 1 789 6 view .LVU2669
 9085 00c2 00BB     		cbnz	r0, .L697
 791:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9086              		.loc 1 791 3 is_stmt 1 view .LVU2670
 791:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9087              		.loc 1 791 7 is_stmt 0 view .LVU2671
 9088 00c4 FFF7FEFF 		bl	mpu_configure_fifo
 9089              	.LVL616:
 791:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9090              		.loc 1 791 6 view .LVU2672
 9091 00c8 00BB     		cbnz	r0, .L698
 800:DMP/driver/eMPL/inv_mpu.c ****   if (mpu_set_compass_sample_rate(10))
 9092              		.loc 1 800 3 is_stmt 1 view .LVU2673
 9093 00ca FFF7FEFF 		bl	setup_compass
 9094              	.LVL617:
 801:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9095              		.loc 1 801 3 view .LVU2674
 801:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9096              		.loc 1 801 7 is_stmt 0 view .LVU2675
 9097 00ce 0A20     		movs	r0, #10
 9098 00d0 FFF7FEFF 		bl	mpu_set_compass_sample_rate
 9099              	.LVL618:
 801:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9100              		.loc 1 801 6 view .LVU2676
 9101 00d4 0446     		mov	r4, r0
 9102 00d6 E0B9     		cbnz	r0, .L699
 809:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 9103              		.loc 1 809 3 is_stmt 1 view .LVU2677
 9104 00d8 FFF7FEFF 		bl	mpu_set_sensors
 9105              	.LVL619:
 810:DMP/driver/eMPL/inv_mpu.c **** }
 9106              		.loc 1 810 3 view .LVU2678
 9107              	.L689:
 811:DMP/driver/eMPL/inv_mpu.c **** 
 9108              		.loc 1 811 1 is_stmt 0 view .LVU2679
 9109 00dc 2046     		mov	r0, r4
 9110 00de 02B0     		add	sp, sp, #8
 9111              	.LCFI157:
 9112              		.cfi_remember_state
 9113              		.cfi_def_cfa_offset 8
 9114              		@ sp needed
 9115 00e0 10BD     		pop	{r4, pc}
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 251


 9116              	.L691:
 9117              	.LCFI158:
 9118              		.cfi_restore_state
 741:DMP/driver/eMPL/inv_mpu.c ****   delay_ms(100);
 9119              		.loc 1 741 12 view .LVU2680
 9120 00e2 4FF0FF34 		mov	r4, #-1
 9121 00e6 F9E7     		b	.L689
 9122              	.L692:
 747:DMP/driver/eMPL/inv_mpu.c **** 
 9123              		.loc 1 747 12 view .LVU2681
 9124 00e8 4FF0FF34 		mov	r4, #-1
 9125 00ec F6E7     		b	.L689
 9126              	.L693:
 757:DMP/driver/eMPL/inv_mpu.c **** #endif
 9127              		.loc 1 757 12 view .LVU2682
 9128 00ee 4FF0FF34 		mov	r4, #-1
 9129 00f2 F3E7     		b	.L689
 9130              	.L694:
 784:DMP/driver/eMPL/inv_mpu.c ****   if (mpu_set_accel_fsr(2))
 9131              		.loc 1 784 12 view .LVU2683
 9132 00f4 4FF0FF34 		mov	r4, #-1
 9133 00f8 F0E7     		b	.L689
 9134              	.L695:
 786:DMP/driver/eMPL/inv_mpu.c ****   if (mpu_set_lpf(42))
 9135              		.loc 1 786 12 view .LVU2684
 9136 00fa 4FF0FF34 		mov	r4, #-1
 9137 00fe EDE7     		b	.L689
 9138              	.L696:
 788:DMP/driver/eMPL/inv_mpu.c ****   if (mpu_set_sample_rate(50))
 9139              		.loc 1 788 12 view .LVU2685
 9140 0100 4FF0FF34 		mov	r4, #-1
 9141 0104 EAE7     		b	.L689
 9142              	.L697:
 790:DMP/driver/eMPL/inv_mpu.c ****   if (mpu_configure_fifo(0))
 9143              		.loc 1 790 12 view .LVU2686
 9144 0106 4FF0FF34 		mov	r4, #-1
 9145 010a E7E7     		b	.L689
 9146              	.L698:
 792:DMP/driver/eMPL/inv_mpu.c **** 
 9147              		.loc 1 792 12 view .LVU2687
 9148 010c 4FF0FF34 		mov	r4, #-1
 9149 0110 E4E7     		b	.L689
 9150              	.L699:
 802:DMP/driver/eMPL/inv_mpu.c **** #else
 9151              		.loc 1 802 12 view .LVU2688
 9152 0112 4FF0FF34 		mov	r4, #-1
 9153 0116 E1E7     		b	.L689
 9154              	.L702:
 9155              		.align	2
 9156              	.L701:
 9157 0118 00000000 		.word	st
 9158              		.cfi_endproc
 9159              	.LFE172:
 9161              		.section	.text.mpu_write_mem,"ax",%progbits
 9162              		.align	1
 9163              		.global	mpu_write_mem
 9164              		.syntax unified
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 252


 9165              		.thumb
 9166              		.thumb_func
 9168              	mpu_write_mem:
 9169              	.LVL620:
 9170              	.LFB213:
2753:DMP/driver/eMPL/inv_mpu.c ****   unsigned char tmp[2];
 9171              		.loc 1 2753 40 is_stmt 1 view -0
 9172              		.cfi_startproc
 9173              		@ args = 0, pretend = 0, frame = 8
 9174              		@ frame_needed = 0, uses_anonymous_args = 0
2754:DMP/driver/eMPL/inv_mpu.c **** 
 9175              		.loc 1 2754 3 view .LVU2690
2756:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9176              		.loc 1 2756 3 view .LVU2691
2756:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9177              		.loc 1 2756 6 is_stmt 0 view .LVU2692
 9178 0000 3AB3     		cbz	r2, .L705
2753:DMP/driver/eMPL/inv_mpu.c ****   unsigned char tmp[2];
 9179              		.loc 1 2753 40 view .LVU2693
 9180 0002 70B5     		push	{r4, r5, r6, lr}
 9181              	.LCFI159:
 9182              		.cfi_def_cfa_offset 16
 9183              		.cfi_offset 4, -16
 9184              		.cfi_offset 5, -12
 9185              		.cfi_offset 6, -8
 9186              		.cfi_offset 14, -4
 9187 0004 82B0     		sub	sp, sp, #8
 9188              	.LCFI160:
 9189              		.cfi_def_cfa_offset 24
 9190 0006 0C46     		mov	r4, r1
 9191 0008 1646     		mov	r6, r2
2758:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9192              		.loc 1 2758 3 is_stmt 1 view .LVU2694
2758:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9193              		.loc 1 2758 19 is_stmt 0 view .LVU2695
 9194 000a 194B     		ldr	r3, .L714
 9195 000c 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
2758:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9196              		.loc 1 2758 6 view .LVU2696
 9197 000e 1BB3     		cbz	r3, .L706
2761:DMP/driver/eMPL/inv_mpu.c ****   tmp[1] = (unsigned char)(mem_addr & 0xFF);
 9198              		.loc 1 2761 3 is_stmt 1 view .LVU2697
2761:DMP/driver/eMPL/inv_mpu.c ****   tmp[1] = (unsigned char)(mem_addr & 0xFF);
 9199              		.loc 1 2761 12 is_stmt 0 view .LVU2698
 9200 0010 030A     		lsrs	r3, r0, #8
2761:DMP/driver/eMPL/inv_mpu.c ****   tmp[1] = (unsigned char)(mem_addr & 0xFF);
 9201              		.loc 1 2761 10 view .LVU2699
 9202 0012 8DF80430 		strb	r3, [sp, #4]
2762:DMP/driver/eMPL/inv_mpu.c **** 
 9203              		.loc 1 2762 3 is_stmt 1 view .LVU2700
2762:DMP/driver/eMPL/inv_mpu.c **** 
 9204              		.loc 1 2762 12 is_stmt 0 view .LVU2701
 9205 0016 C0B2     		uxtb	r0, r0
 9206              	.LVL621:
2762:DMP/driver/eMPL/inv_mpu.c **** 
 9207              		.loc 1 2762 10 view .LVU2702
 9208 0018 8DF80500 		strb	r0, [sp, #5]
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 253


2765:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9209              		.loc 1 2765 3 is_stmt 1 view .LVU2703
2765:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9210              		.loc 1 2765 14 is_stmt 0 view .LVU2704
 9211 001c 0844     		add	r0, r0, r1
2765:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9212              		.loc 1 2765 27 view .LVU2705
 9213 001e 144B     		ldr	r3, .L714
 9214 0020 5D68     		ldr	r5, [r3, #4]
2765:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9215              		.loc 1 2765 30 view .LVU2706
 9216 0022 6B89     		ldrh	r3, [r5, #10]
2765:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9217              		.loc 1 2765 6 view .LVU2707
 9218 0024 9842     		cmp	r0, r3
 9219 0026 1ADC     		bgt	.L707
2768:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9220              		.loc 1 2768 3 is_stmt 1 view .LVU2708
2768:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9221              		.loc 1 2768 32 is_stmt 0 view .LVU2709
 9222 0028 114B     		ldr	r3, .L714
 9223 002a 1968     		ldr	r1, [r3]
 9224              	.LVL622:
2768:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9225              		.loc 1 2768 7 view .LVU2710
 9226 002c 01AB     		add	r3, sp, #4
 9227 002e 0222     		movs	r2, #2
 9228              	.LVL623:
2768:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9229              		.loc 1 2768 7 view .LVU2711
 9230 0030 C97E     		ldrb	r1, [r1, #27]	@ zero_extendqisi2
 9231 0032 2878     		ldrb	r0, [r5]	@ zero_extendqisi2
 9232 0034 FFF7FEFF 		bl	MPU_Write_Len
 9233              	.LVL624:
2768:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9234              		.loc 1 2768 6 view .LVU2712
 9235 0038 A0B9     		cbnz	r0, .L708
2770:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9236              		.loc 1 2770 3 is_stmt 1 view .LVU2713
2770:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9237              		.loc 1 2770 19 is_stmt 0 view .LVU2714
 9238 003a 0D4B     		ldr	r3, .L714
 9239 003c 5868     		ldr	r0, [r3, #4]
2770:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9240              		.loc 1 2770 32 view .LVU2715
 9241 003e 1968     		ldr	r1, [r3]
2770:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9242              		.loc 1 2770 7 view .LVU2716
 9243 0040 3346     		mov	r3, r6
 9244 0042 E2B2     		uxtb	r2, r4
 9245 0044 097E     		ldrb	r1, [r1, #24]	@ zero_extendqisi2
 9246 0046 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 9247 0048 FFF7FEFF 		bl	MPU_Write_Len
 9248              	.LVL625:
2770:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9249              		.loc 1 2770 6 view .LVU2717
 9250 004c 68B9     		cbnz	r0, .L709
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 254


 9251              	.L703:
2773:DMP/driver/eMPL/inv_mpu.c **** 
 9252              		.loc 1 2773 1 view .LVU2718
 9253 004e 02B0     		add	sp, sp, #8
 9254              	.LCFI161:
 9255              		.cfi_def_cfa_offset 16
 9256              		@ sp needed
 9257 0050 70BD     		pop	{r4, r5, r6, pc}
 9258              	.LVL626:
 9259              	.L705:
 9260              	.LCFI162:
 9261              		.cfi_def_cfa_offset 0
 9262              		.cfi_restore 4
 9263              		.cfi_restore 5
 9264              		.cfi_restore 6
 9265              		.cfi_restore 14
2757:DMP/driver/eMPL/inv_mpu.c ****   if (!st.chip_cfg.sensors)
 9266              		.loc 1 2757 12 view .LVU2719
 9267 0052 4FF0FF30 		mov	r0, #-1
 9268              	.LVL627:
2773:DMP/driver/eMPL/inv_mpu.c **** 
 9269              		.loc 1 2773 1 view .LVU2720
 9270 0056 7047     		bx	lr
 9271              	.LVL628:
 9272              	.L706:
 9273              	.LCFI163:
 9274              		.cfi_def_cfa_offset 24
 9275              		.cfi_offset 4, -16
 9276              		.cfi_offset 5, -12
 9277              		.cfi_offset 6, -8
 9278              		.cfi_offset 14, -4
2759:DMP/driver/eMPL/inv_mpu.c **** 
 9279              		.loc 1 2759 12 view .LVU2721
 9280 0058 4FF0FF30 		mov	r0, #-1
 9281              	.LVL629:
2759:DMP/driver/eMPL/inv_mpu.c **** 
 9282              		.loc 1 2759 12 view .LVU2722
 9283 005c F7E7     		b	.L703
 9284              	.L707:
2766:DMP/driver/eMPL/inv_mpu.c **** 
 9285              		.loc 1 2766 12 view .LVU2723
 9286 005e 4FF0FF30 		mov	r0, #-1
 9287 0062 F4E7     		b	.L703
 9288              	.LVL630:
 9289              	.L708:
2769:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->mem_r_w, length, data))
 9290              		.loc 1 2769 12 view .LVU2724
 9291 0064 4FF0FF30 		mov	r0, #-1
 9292 0068 F1E7     		b	.L703
 9293              	.L709:
2771:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 9294              		.loc 1 2771 12 view .LVU2725
 9295 006a 4FF0FF30 		mov	r0, #-1
 9296 006e EEE7     		b	.L703
 9297              	.L715:
 9298              		.align	2
 9299              	.L714:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 255


 9300 0070 00000000 		.word	st
 9301              		.cfi_endproc
 9302              	.LFE213:
 9304              		.section	.text.mpu_read_mem,"ax",%progbits
 9305              		.align	1
 9306              		.global	mpu_read_mem
 9307              		.syntax unified
 9308              		.thumb
 9309              		.thumb_func
 9311              	mpu_read_mem:
 9312              	.LVL631:
 9313              	.LFB214:
2785:DMP/driver/eMPL/inv_mpu.c ****   unsigned char tmp[2];
 9314              		.loc 1 2785 39 is_stmt 1 view -0
 9315              		.cfi_startproc
 9316              		@ args = 0, pretend = 0, frame = 8
 9317              		@ frame_needed = 0, uses_anonymous_args = 0
2786:DMP/driver/eMPL/inv_mpu.c **** 
 9318              		.loc 1 2786 3 view .LVU2727
2788:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9319              		.loc 1 2788 3 view .LVU2728
2788:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9320              		.loc 1 2788 6 is_stmt 0 view .LVU2729
 9321 0000 3AB3     		cbz	r2, .L718
2785:DMP/driver/eMPL/inv_mpu.c ****   unsigned char tmp[2];
 9322              		.loc 1 2785 39 view .LVU2730
 9323 0002 70B5     		push	{r4, r5, r6, lr}
 9324              	.LCFI164:
 9325              		.cfi_def_cfa_offset 16
 9326              		.cfi_offset 4, -16
 9327              		.cfi_offset 5, -12
 9328              		.cfi_offset 6, -8
 9329              		.cfi_offset 14, -4
 9330 0004 82B0     		sub	sp, sp, #8
 9331              	.LCFI165:
 9332              		.cfi_def_cfa_offset 24
 9333 0006 0C46     		mov	r4, r1
 9334 0008 1646     		mov	r6, r2
2790:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9335              		.loc 1 2790 3 is_stmt 1 view .LVU2731
2790:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9336              		.loc 1 2790 19 is_stmt 0 view .LVU2732
 9337 000a 194B     		ldr	r3, .L727
 9338 000c 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
2790:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9339              		.loc 1 2790 6 view .LVU2733
 9340 000e 1BB3     		cbz	r3, .L719
2793:DMP/driver/eMPL/inv_mpu.c ****   tmp[1] = (unsigned char)(mem_addr & 0xFF);
 9341              		.loc 1 2793 3 is_stmt 1 view .LVU2734
2793:DMP/driver/eMPL/inv_mpu.c ****   tmp[1] = (unsigned char)(mem_addr & 0xFF);
 9342              		.loc 1 2793 12 is_stmt 0 view .LVU2735
 9343 0010 030A     		lsrs	r3, r0, #8
2793:DMP/driver/eMPL/inv_mpu.c ****   tmp[1] = (unsigned char)(mem_addr & 0xFF);
 9344              		.loc 1 2793 10 view .LVU2736
 9345 0012 8DF80430 		strb	r3, [sp, #4]
2794:DMP/driver/eMPL/inv_mpu.c **** 
 9346              		.loc 1 2794 3 is_stmt 1 view .LVU2737
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 256


2794:DMP/driver/eMPL/inv_mpu.c **** 
 9347              		.loc 1 2794 12 is_stmt 0 view .LVU2738
 9348 0016 C0B2     		uxtb	r0, r0
 9349              	.LVL632:
2794:DMP/driver/eMPL/inv_mpu.c **** 
 9350              		.loc 1 2794 10 view .LVU2739
 9351 0018 8DF80500 		strb	r0, [sp, #5]
2797:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9352              		.loc 1 2797 3 is_stmt 1 view .LVU2740
2797:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9353              		.loc 1 2797 14 is_stmt 0 view .LVU2741
 9354 001c 0844     		add	r0, r0, r1
2797:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9355              		.loc 1 2797 27 view .LVU2742
 9356 001e 144B     		ldr	r3, .L727
 9357 0020 5D68     		ldr	r5, [r3, #4]
2797:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9358              		.loc 1 2797 30 view .LVU2743
 9359 0022 6B89     		ldrh	r3, [r5, #10]
2797:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9360              		.loc 1 2797 6 view .LVU2744
 9361 0024 9842     		cmp	r0, r3
 9362 0026 1ADC     		bgt	.L720
2800:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9363              		.loc 1 2800 3 is_stmt 1 view .LVU2745
2800:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9364              		.loc 1 2800 32 is_stmt 0 view .LVU2746
 9365 0028 114B     		ldr	r3, .L727
 9366 002a 1968     		ldr	r1, [r3]
 9367              	.LVL633:
2800:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9368              		.loc 1 2800 7 view .LVU2747
 9369 002c 01AB     		add	r3, sp, #4
 9370 002e 0222     		movs	r2, #2
 9371              	.LVL634:
2800:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9372              		.loc 1 2800 7 view .LVU2748
 9373 0030 C97E     		ldrb	r1, [r1, #27]	@ zero_extendqisi2
 9374 0032 2878     		ldrb	r0, [r5]	@ zero_extendqisi2
 9375 0034 FFF7FEFF 		bl	MPU_Write_Len
 9376              	.LVL635:
2800:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9377              		.loc 1 2800 6 view .LVU2749
 9378 0038 A0B9     		cbnz	r0, .L721
2802:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9379              		.loc 1 2802 3 is_stmt 1 view .LVU2750
2802:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9380              		.loc 1 2802 18 is_stmt 0 view .LVU2751
 9381 003a 0D4B     		ldr	r3, .L727
 9382 003c 5868     		ldr	r0, [r3, #4]
2802:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9383              		.loc 1 2802 31 view .LVU2752
 9384 003e 1968     		ldr	r1, [r3]
2802:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9385              		.loc 1 2802 7 view .LVU2753
 9386 0040 3346     		mov	r3, r6
 9387 0042 E2B2     		uxtb	r2, r4
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 257


 9388 0044 097E     		ldrb	r1, [r1, #24]	@ zero_extendqisi2
 9389 0046 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 9390 0048 FFF7FEFF 		bl	MPU_Read_Len
 9391              	.LVL636:
2802:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9392              		.loc 1 2802 6 view .LVU2754
 9393 004c 68B9     		cbnz	r0, .L722
 9394              	.L716:
2805:DMP/driver/eMPL/inv_mpu.c **** 
 9395              		.loc 1 2805 1 view .LVU2755
 9396 004e 02B0     		add	sp, sp, #8
 9397              	.LCFI166:
 9398              		.cfi_def_cfa_offset 16
 9399              		@ sp needed
 9400 0050 70BD     		pop	{r4, r5, r6, pc}
 9401              	.LVL637:
 9402              	.L718:
 9403              	.LCFI167:
 9404              		.cfi_def_cfa_offset 0
 9405              		.cfi_restore 4
 9406              		.cfi_restore 5
 9407              		.cfi_restore 6
 9408              		.cfi_restore 14
2789:DMP/driver/eMPL/inv_mpu.c ****   if (!st.chip_cfg.sensors)
 9409              		.loc 1 2789 12 view .LVU2756
 9410 0052 4FF0FF30 		mov	r0, #-1
 9411              	.LVL638:
2805:DMP/driver/eMPL/inv_mpu.c **** 
 9412              		.loc 1 2805 1 view .LVU2757
 9413 0056 7047     		bx	lr
 9414              	.LVL639:
 9415              	.L719:
 9416              	.LCFI168:
 9417              		.cfi_def_cfa_offset 24
 9418              		.cfi_offset 4, -16
 9419              		.cfi_offset 5, -12
 9420              		.cfi_offset 6, -8
 9421              		.cfi_offset 14, -4
2791:DMP/driver/eMPL/inv_mpu.c **** 
 9422              		.loc 1 2791 12 view .LVU2758
 9423 0058 4FF0FF30 		mov	r0, #-1
 9424              	.LVL640:
2791:DMP/driver/eMPL/inv_mpu.c **** 
 9425              		.loc 1 2791 12 view .LVU2759
 9426 005c F7E7     		b	.L716
 9427              	.L720:
2798:DMP/driver/eMPL/inv_mpu.c **** 
 9428              		.loc 1 2798 12 view .LVU2760
 9429 005e 4FF0FF30 		mov	r0, #-1
 9430 0062 F4E7     		b	.L716
 9431              	.LVL641:
 9432              	.L721:
2801:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_read(st.hw->addr, st.reg->mem_r_w, length, data))
 9433              		.loc 1 2801 12 view .LVU2761
 9434 0064 4FF0FF30 		mov	r0, #-1
 9435 0068 F1E7     		b	.L716
 9436              	.L722:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 258


2803:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 9437              		.loc 1 2803 12 view .LVU2762
 9438 006a 4FF0FF30 		mov	r0, #-1
 9439 006e EEE7     		b	.L716
 9440              	.L728:
 9441              		.align	2
 9442              	.L727:
 9443 0070 00000000 		.word	st
 9444              		.cfi_endproc
 9445              	.LFE214:
 9447              		.section	.text.mpu_load_firmware,"ax",%progbits
 9448              		.align	1
 9449              		.global	mpu_load_firmware
 9450              		.syntax unified
 9451              		.thumb
 9452              		.thumb_func
 9454              	mpu_load_firmware:
 9455              	.LVL642:
 9456              	.LFB215:
2816:DMP/driver/eMPL/inv_mpu.c ****   unsigned short ii;
 9457              		.loc 1 2816 78 is_stmt 1 view -0
 9458              		.cfi_startproc
 9459              		@ args = 0, pretend = 0, frame = 24
 9460              		@ frame_needed = 0, uses_anonymous_args = 0
2816:DMP/driver/eMPL/inv_mpu.c ****   unsigned short ii;
 9461              		.loc 1 2816 78 is_stmt 0 view .LVU2764
 9462 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 9463              	.LCFI169:
 9464              		.cfi_def_cfa_offset 36
 9465              		.cfi_offset 4, -36
 9466              		.cfi_offset 5, -32
 9467              		.cfi_offset 6, -28
 9468              		.cfi_offset 7, -24
 9469              		.cfi_offset 8, -20
 9470              		.cfi_offset 9, -16
 9471              		.cfi_offset 10, -12
 9472              		.cfi_offset 11, -8
 9473              		.cfi_offset 14, -4
 9474 0004 87B0     		sub	sp, sp, #28
 9475              	.LCFI170:
 9476              		.cfi_def_cfa_offset 64
 9477 0006 9A46     		mov	r10, r3
2817:DMP/driver/eMPL/inv_mpu.c ****   unsigned short this_write;
 9478              		.loc 1 2817 3 is_stmt 1 view .LVU2765
2818:DMP/driver/eMPL/inv_mpu.c ****   /* Must divide evenly into st.hw->bank_size to avoid bank crossings. */
 9479              		.loc 1 2818 3 view .LVU2766
2821:DMP/driver/eMPL/inv_mpu.c **** 
 9480              		.loc 1 2821 3 view .LVU2767
2823:DMP/driver/eMPL/inv_mpu.c ****     /* DMP should only be loaded once. */
 9481              		.loc 1 2823 3 view .LVU2768
2823:DMP/driver/eMPL/inv_mpu.c ****     /* DMP should only be loaded once. */
 9482              		.loc 1 2823 18 is_stmt 0 view .LVU2769
 9483 0008 294B     		ldr	r3, .L741
 9484              	.LVL643:
2823:DMP/driver/eMPL/inv_mpu.c ****     /* DMP should only be loaded once. */
 9485              		.loc 1 2823 18 view .LVU2770
 9486 000a 93F82530 		ldrb	r3, [r3, #37]	@ zero_extendqisi2
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 259


2823:DMP/driver/eMPL/inv_mpu.c ****     /* DMP should only be loaded once. */
 9487              		.loc 1 2823 6 view .LVU2771
 9488 000e 002B     		cmp	r3, #0
 9489 0010 3CD1     		bne	.L733
 9490 0012 0746     		mov	r7, r0
 9491 0014 8846     		mov	r8, r1
 9492 0016 9146     		mov	r9, r2
2827:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9493              		.loc 1 2827 3 is_stmt 1 view .LVU2772
2827:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9494              		.loc 1 2827 6 is_stmt 0 view .LVU2773
 9495 0018 0029     		cmp	r1, #0
 9496 001a 3AD0     		beq	.L734
2829:DMP/driver/eMPL/inv_mpu.c ****     this_write = min(LOAD_CHUNK, length - ii);
 9497              		.loc 1 2829 11 view .LVU2774
 9498 001c 0024     		movs	r4, #0
 9499              	.LVL644:
 9500              	.L731:
2829:DMP/driver/eMPL/inv_mpu.c ****     this_write = min(LOAD_CHUNK, length - ii);
 9501              		.loc 1 2829 19 is_stmt 1 discriminator 1 view .LVU2775
 9502 001e BC42     		cmp	r4, r7
 9503 0020 1BD2     		bcs	.L740
2830:DMP/driver/eMPL/inv_mpu.c ****     if (mpu_write_mem(ii, this_write, (unsigned char *)&firmware[ii]))
 9504              		.loc 1 2830 5 view .LVU2776
2830:DMP/driver/eMPL/inv_mpu.c ****     if (mpu_write_mem(ii, this_write, (unsigned char *)&firmware[ii]))
 9505              		.loc 1 2830 18 is_stmt 0 view .LVU2777
 9506 0022 3E1B     		subs	r6, r7, r4
 9507 0024 102E     		cmp	r6, #16
 9508 0026 A8BF     		it	ge
 9509 0028 1026     		movge	r6, #16
2830:DMP/driver/eMPL/inv_mpu.c ****     if (mpu_write_mem(ii, this_write, (unsigned char *)&firmware[ii]))
 9510              		.loc 1 2830 16 view .LVU2778
 9511 002a B5B2     		uxth	r5, r6
 9512              	.LVL645:
2831:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 9513              		.loc 1 2831 5 is_stmt 1 view .LVU2779
2831:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 9514              		.loc 1 2831 56 is_stmt 0 view .LVU2780
 9515 002c 08EB040B 		add	fp, r8, r4
2831:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 9516              		.loc 1 2831 9 view .LVU2781
 9517 0030 5A46     		mov	r2, fp
 9518 0032 2946     		mov	r1, r5
 9519 0034 2046     		mov	r0, r4
 9520 0036 FFF7FEFF 		bl	mpu_write_mem
 9521              	.LVL646:
2831:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 9522              		.loc 1 2831 8 view .LVU2782
 9523 003a 68BB     		cbnz	r0, .L735
2833:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 9524              		.loc 1 2833 5 is_stmt 1 view .LVU2783
2833:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 9525              		.loc 1 2833 9 is_stmt 0 view .LVU2784
 9526 003c 02AA     		add	r2, sp, #8
 9527 003e 2946     		mov	r1, r5
 9528 0040 2046     		mov	r0, r4
 9529 0042 FFF7FEFF 		bl	mpu_read_mem
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 260


 9530              	.LVL647:
2833:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 9531              		.loc 1 2833 8 view .LVU2785
 9532 0046 50BB     		cbnz	r0, .L736
2835:DMP/driver/eMPL/inv_mpu.c ****       return -2;
 9533              		.loc 1 2835 5 is_stmt 1 view .LVU2786
2835:DMP/driver/eMPL/inv_mpu.c ****       return -2;
 9534              		.loc 1 2835 9 is_stmt 0 view .LVU2787
 9535 0048 2A46     		mov	r2, r5
 9536 004a 02A9     		add	r1, sp, #8
 9537 004c 5846     		mov	r0, fp
 9538 004e FFF7FEFF 		bl	memcmp
 9539              	.LVL648:
2835:DMP/driver/eMPL/inv_mpu.c ****       return -2;
 9540              		.loc 1 2835 8 view .LVU2788
 9541 0052 38BB     		cbnz	r0, .L737
2829:DMP/driver/eMPL/inv_mpu.c ****     this_write = min(LOAD_CHUNK, length - ii);
 9542              		.loc 1 2829 32 is_stmt 1 discriminator 2 view .LVU2789
 9543 0054 2544     		add	r5, r5, r4
 9544              	.LVL649:
2829:DMP/driver/eMPL/inv_mpu.c ****     this_write = min(LOAD_CHUNK, length - ii);
 9545              		.loc 1 2829 32 is_stmt 0 discriminator 2 view .LVU2790
 9546 0056 ACB2     		uxth	r4, r5
 9547              	.LVL650:
2829:DMP/driver/eMPL/inv_mpu.c ****     this_write = min(LOAD_CHUNK, length - ii);
 9548              		.loc 1 2829 32 discriminator 2 view .LVU2791
 9549 0058 E1E7     		b	.L731
 9550              	.LVL651:
 9551              	.L740:
2840:DMP/driver/eMPL/inv_mpu.c ****   tmp[1] = start_addr & 0xFF;
 9552              		.loc 1 2840 3 is_stmt 1 view .LVU2792
2840:DMP/driver/eMPL/inv_mpu.c ****   tmp[1] = start_addr & 0xFF;
 9553              		.loc 1 2840 10 is_stmt 0 view .LVU2793
 9554 005a 4FEA1923 		lsr	r3, r9, #8
 9555 005e 8DF80430 		strb	r3, [sp, #4]
2841:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->prgm_start_h, 2, tmp))
 9556              		.loc 1 2841 3 is_stmt 1 view .LVU2794
2841:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->prgm_start_h, 2, tmp))
 9557              		.loc 1 2841 10 is_stmt 0 view .LVU2795
 9558 0062 8DF80590 		strb	r9, [sp, #5]
2842:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9559              		.loc 1 2842 3 is_stmt 1 view .LVU2796
2842:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9560              		.loc 1 2842 19 is_stmt 0 view .LVU2797
 9561 0066 124B     		ldr	r3, .L741
 9562 0068 5868     		ldr	r0, [r3, #4]
2842:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9563              		.loc 1 2842 32 view .LVU2798
 9564 006a 1968     		ldr	r1, [r3]
2842:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9565              		.loc 1 2842 7 view .LVU2799
 9566 006c 01AB     		add	r3, sp, #4
 9567 006e 0222     		movs	r2, #2
 9568 0070 497F     		ldrb	r1, [r1, #29]	@ zero_extendqisi2
 9569 0072 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 9570 0074 FFF7FEFF 		bl	MPU_Write_Len
 9571              	.LVL652:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 261


2842:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 9572              		.loc 1 2842 6 view .LVU2800
 9573 0078 B8B9     		cbnz	r0, .L738
2845:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.dmp_sample_rate = sample_rate;
 9574              		.loc 1 2845 3 is_stmt 1 view .LVU2801
2845:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.dmp_sample_rate = sample_rate;
 9575              		.loc 1 2845 26 is_stmt 0 view .LVU2802
 9576 007a 0D4B     		ldr	r3, .L741
 9577 007c 0122     		movs	r2, #1
 9578 007e 83F82520 		strb	r2, [r3, #37]
2846:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 9579              		.loc 1 2846 3 is_stmt 1 view .LVU2803
2846:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 9580              		.loc 1 2846 31 is_stmt 0 view .LVU2804
 9581 0082 A3F826A0 		strh	r10, [r3, #38]	@ movhi
2847:DMP/driver/eMPL/inv_mpu.c **** }
 9582              		.loc 1 2847 3 is_stmt 1 view .LVU2805
 9583              	.LVL653:
 9584              	.L729:
2848:DMP/driver/eMPL/inv_mpu.c **** 
 9585              		.loc 1 2848 1 is_stmt 0 view .LVU2806
 9586 0086 07B0     		add	sp, sp, #28
 9587              	.LCFI171:
 9588              		.cfi_remember_state
 9589              		.cfi_def_cfa_offset 36
 9590              		@ sp needed
 9591 0088 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 9592              	.LVL654:
 9593              	.L733:
 9594              	.LCFI172:
 9595              		.cfi_restore_state
2825:DMP/driver/eMPL/inv_mpu.c **** 
 9596              		.loc 1 2825 12 view .LVU2807
 9597 008c 4FF0FF30 		mov	r0, #-1
 9598              	.LVL655:
2825:DMP/driver/eMPL/inv_mpu.c **** 
 9599              		.loc 1 2825 12 view .LVU2808
 9600 0090 F9E7     		b	.L729
 9601              	.LVL656:
 9602              	.L734:
2828:DMP/driver/eMPL/inv_mpu.c ****   for (ii = 0; ii < length; ii += this_write) {
 9603              		.loc 1 2828 12 view .LVU2809
 9604 0092 4FF0FF30 		mov	r0, #-1
 9605              	.LVL657:
2828:DMP/driver/eMPL/inv_mpu.c ****   for (ii = 0; ii < length; ii += this_write) {
 9606              		.loc 1 2828 12 view .LVU2810
 9607 0096 F6E7     		b	.L729
 9608              	.LVL658:
 9609              	.L735:
2832:DMP/driver/eMPL/inv_mpu.c ****     if (mpu_read_mem(ii, this_write, cur))
 9610              		.loc 1 2832 14 view .LVU2811
 9611 0098 4FF0FF30 		mov	r0, #-1
 9612 009c F3E7     		b	.L729
 9613              	.L736:
2834:DMP/driver/eMPL/inv_mpu.c ****     if (memcmp(firmware + ii, cur, this_write))
 9614              		.loc 1 2834 14 view .LVU2812
 9615 009e 4FF0FF30 		mov	r0, #-1
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 262


 9616 00a2 F0E7     		b	.L729
 9617              	.L737:
2836:DMP/driver/eMPL/inv_mpu.c ****   }
 9618              		.loc 1 2836 14 view .LVU2813
 9619 00a4 6FF00100 		mvn	r0, #1
 9620 00a8 EDE7     		b	.L729
 9621              	.LVL659:
 9622              	.L738:
2843:DMP/driver/eMPL/inv_mpu.c **** 
 9623              		.loc 1 2843 12 view .LVU2814
 9624 00aa 4FF0FF30 		mov	r0, #-1
 9625 00ae EAE7     		b	.L729
 9626              	.L742:
 9627              		.align	2
 9628              	.L741:
 9629 00b0 00000000 		.word	st
 9630              		.cfi_endproc
 9631              	.LFE215:
 9633              		.section	.text.mpu_set_dmp_state,"ax",%progbits
 9634              		.align	1
 9635              		.global	mpu_set_dmp_state
 9636              		.syntax unified
 9637              		.thumb
 9638              		.thumb_func
 9640              	mpu_set_dmp_state:
 9641              	.LVL660:
 9642              	.LFB216:
2855:DMP/driver/eMPL/inv_mpu.c ****   unsigned char tmp;
 9643              		.loc 1 2855 45 is_stmt 1 view -0
 9644              		.cfi_startproc
 9645              		@ args = 0, pretend = 0, frame = 8
 9646              		@ frame_needed = 0, uses_anonymous_args = 0
2856:DMP/driver/eMPL/inv_mpu.c ****   if (st.chip_cfg.dmp_on == enable)
 9647              		.loc 1 2856 3 view .LVU2816
2857:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 9648              		.loc 1 2857 3 view .LVU2817
2857:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 9649              		.loc 1 2857 18 is_stmt 0 view .LVU2818
 9650 0000 234B     		ldr	r3, .L752
 9651 0002 93F82430 		ldrb	r3, [r3, #36]	@ zero_extendqisi2
2857:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 9652              		.loc 1 2857 6 view .LVU2819
 9653 0006 8342     		cmp	r3, r0
 9654 0008 3CD0     		beq	.L746
2855:DMP/driver/eMPL/inv_mpu.c ****   unsigned char tmp;
 9655              		.loc 1 2855 45 view .LVU2820
 9656 000a 30B5     		push	{r4, r5, lr}
 9657              	.LCFI173:
 9658              		.cfi_def_cfa_offset 12
 9659              		.cfi_offset 4, -12
 9660              		.cfi_offset 5, -8
 9661              		.cfi_offset 14, -4
 9662 000c 83B0     		sub	sp, sp, #12
 9663              	.LCFI174:
 9664              		.cfi_def_cfa_offset 24
2860:DMP/driver/eMPL/inv_mpu.c ****     if (!st.chip_cfg.dmp_loaded)
 9665              		.loc 1 2860 3 is_stmt 1 view .LVU2821
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 263


2860:DMP/driver/eMPL/inv_mpu.c ****     if (!st.chip_cfg.dmp_loaded)
 9666              		.loc 1 2860 6 is_stmt 0 view .LVU2822
 9667 000e 18B3     		cbz	r0, .L745
2861:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 9668              		.loc 1 2861 5 is_stmt 1 view .LVU2823
2861:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 9669              		.loc 1 2861 21 is_stmt 0 view .LVU2824
 9670 0010 1F4B     		ldr	r3, .L752
 9671 0012 93F82530 		ldrb	r3, [r3, #37]	@ zero_extendqisi2
2861:DMP/driver/eMPL/inv_mpu.c ****       return -1;
 9672              		.loc 1 2861 8 view .LVU2825
 9673 0016 002B     		cmp	r3, #0
 9674 0018 36D0     		beq	.L747
2864:DMP/driver/eMPL/inv_mpu.c ****     /* Disable bypass mode. */
 9675              		.loc 1 2864 5 is_stmt 1 view .LVU2826
 9676 001a 0020     		movs	r0, #0
 9677              	.LVL661:
2864:DMP/driver/eMPL/inv_mpu.c ****     /* Disable bypass mode. */
 9678              		.loc 1 2864 5 is_stmt 0 view .LVU2827
 9679 001c FFF7FEFF 		bl	set_int_enable
 9680              	.LVL662:
2866:DMP/driver/eMPL/inv_mpu.c ****     /* Keep constant sample rate, FIFO rate controlled by DMP. */
 9681              		.loc 1 2866 5 is_stmt 1 view .LVU2828
 9682 0020 0020     		movs	r0, #0
 9683 0022 FFF7FEFF 		bl	mpu_set_bypass
 9684              	.LVL663:
2868:DMP/driver/eMPL/inv_mpu.c ****     /* Remove FIFO elements. */
 9685              		.loc 1 2868 5 view .LVU2829
 9686 0026 1A4D     		ldr	r5, .L752
 9687 0028 E88C     		ldrh	r0, [r5, #38]
 9688 002a FFF7FEFF 		bl	mpu_set_sample_rate
 9689              	.LVL664:
2870:DMP/driver/eMPL/inv_mpu.c ****     i2c_write(st.hw->addr, 0x23, 1, &tmp);
 9690              		.loc 1 2870 5 view .LVU2830
2870:DMP/driver/eMPL/inv_mpu.c ****     i2c_write(st.hw->addr, 0x23, 1, &tmp);
 9691              		.loc 1 2870 9 is_stmt 0 view .LVU2831
 9692 002e 0024     		movs	r4, #0
 9693 0030 8DF80740 		strb	r4, [sp, #7]
2871:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.dmp_on = 1;
 9694              		.loc 1 2871 5 is_stmt 1 view .LVU2832
2871:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.dmp_on = 1;
 9695              		.loc 1 2871 17 is_stmt 0 view .LVU2833
 9696 0034 6868     		ldr	r0, [r5, #4]
2871:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.dmp_on = 1;
 9697              		.loc 1 2871 5 view .LVU2834
 9698 0036 0DF10703 		add	r3, sp, #7
 9699 003a 0122     		movs	r2, #1
 9700 003c 2321     		movs	r1, #35
 9701 003e 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 9702 0040 FFF7FEFF 		bl	MPU_Write_Len
 9703              	.LVL665:
2872:DMP/driver/eMPL/inv_mpu.c ****     /* Enable DMP interrupt. */
 9704              		.loc 1 2872 5 is_stmt 1 view .LVU2835
2872:DMP/driver/eMPL/inv_mpu.c ****     /* Enable DMP interrupt. */
 9705              		.loc 1 2872 24 is_stmt 0 view .LVU2836
 9706 0044 0120     		movs	r0, #1
 9707 0046 85F82400 		strb	r0, [r5, #36]
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 264


2874:DMP/driver/eMPL/inv_mpu.c ****     mpu_reset_fifo();
 9708              		.loc 1 2874 5 is_stmt 1 view .LVU2837
 9709 004a FFF7FEFF 		bl	set_int_enable
 9710              	.LVL666:
2875:DMP/driver/eMPL/inv_mpu.c ****   } else {
 9711              		.loc 1 2875 5 view .LVU2838
 9712 004e FFF7FEFF 		bl	mpu_reset_fifo
 9713              	.LVL667:
2885:DMP/driver/eMPL/inv_mpu.c **** }
 9714              		.loc 1 2885 10 is_stmt 0 view .LVU2839
 9715 0052 2046     		mov	r0, r4
 9716              	.L743:
2886:DMP/driver/eMPL/inv_mpu.c **** 
 9717              		.loc 1 2886 1 view .LVU2840
 9718 0054 03B0     		add	sp, sp, #12
 9719              	.LCFI175:
 9720              		.cfi_remember_state
 9721              		.cfi_def_cfa_offset 12
 9722              		@ sp needed
 9723 0056 30BD     		pop	{r4, r5, pc}
 9724              	.LVL668:
 9725              	.L745:
 9726              	.LCFI176:
 9727              		.cfi_restore_state
2878:DMP/driver/eMPL/inv_mpu.c ****     /* Restore FIFO settings. */
 9728              		.loc 1 2878 5 is_stmt 1 view .LVU2841
 9729 0058 0020     		movs	r0, #0
 9730              	.LVL669:
2878:DMP/driver/eMPL/inv_mpu.c ****     /* Restore FIFO settings. */
 9731              		.loc 1 2878 5 is_stmt 0 view .LVU2842
 9732 005a FFF7FEFF 		bl	set_int_enable
 9733              	.LVL670:
2880:DMP/driver/eMPL/inv_mpu.c ****     i2c_write(st.hw->addr, 0x23, 1, &tmp);
 9734              		.loc 1 2880 5 is_stmt 1 view .LVU2843
2880:DMP/driver/eMPL/inv_mpu.c ****     i2c_write(st.hw->addr, 0x23, 1, &tmp);
 9735              		.loc 1 2880 22 is_stmt 0 view .LVU2844
 9736 005e 0C4D     		ldr	r5, .L752
 9737 0060 2B7C     		ldrb	r3, [r5, #16]	@ zero_extendqisi2
2880:DMP/driver/eMPL/inv_mpu.c ****     i2c_write(st.hw->addr, 0x23, 1, &tmp);
 9738              		.loc 1 2880 9 view .LVU2845
 9739 0062 8DF80730 		strb	r3, [sp, #7]
2881:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.dmp_on = 0;
 9740              		.loc 1 2881 5 is_stmt 1 view .LVU2846
2881:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.dmp_on = 0;
 9741              		.loc 1 2881 17 is_stmt 0 view .LVU2847
 9742 0066 6868     		ldr	r0, [r5, #4]
2881:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.dmp_on = 0;
 9743              		.loc 1 2881 5 view .LVU2848
 9744 0068 0DF10703 		add	r3, sp, #7
 9745 006c 0122     		movs	r2, #1
 9746 006e 2321     		movs	r1, #35
 9747 0070 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 9748 0072 FFF7FEFF 		bl	MPU_Write_Len
 9749              	.LVL671:
2882:DMP/driver/eMPL/inv_mpu.c ****     mpu_reset_fifo();
 9750              		.loc 1 2882 5 is_stmt 1 view .LVU2849
2882:DMP/driver/eMPL/inv_mpu.c ****     mpu_reset_fifo();
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 265


 9751              		.loc 1 2882 24 is_stmt 0 view .LVU2850
 9752 0076 0024     		movs	r4, #0
 9753 0078 85F82440 		strb	r4, [r5, #36]
2883:DMP/driver/eMPL/inv_mpu.c ****   }
 9754              		.loc 1 2883 5 is_stmt 1 view .LVU2851
 9755 007c FFF7FEFF 		bl	mpu_reset_fifo
 9756              	.LVL672:
2885:DMP/driver/eMPL/inv_mpu.c **** }
 9757              		.loc 1 2885 10 is_stmt 0 view .LVU2852
 9758 0080 2046     		mov	r0, r4
 9759 0082 E7E7     		b	.L743
 9760              	.LVL673:
 9761              	.L746:
 9762              	.LCFI177:
 9763              		.cfi_def_cfa_offset 0
 9764              		.cfi_restore 4
 9765              		.cfi_restore 5
 9766              		.cfi_restore 14
2858:DMP/driver/eMPL/inv_mpu.c **** 
 9767              		.loc 1 2858 12 view .LVU2853
 9768 0084 0020     		movs	r0, #0
 9769              	.LVL674:
2886:DMP/driver/eMPL/inv_mpu.c **** 
 9770              		.loc 1 2886 1 view .LVU2854
 9771 0086 7047     		bx	lr
 9772              	.LVL675:
 9773              	.L747:
 9774              	.LCFI178:
 9775              		.cfi_def_cfa_offset 24
 9776              		.cfi_offset 4, -12
 9777              		.cfi_offset 5, -8
 9778              		.cfi_offset 14, -4
2862:DMP/driver/eMPL/inv_mpu.c ****     /* Disable data ready interrupt. */
 9779              		.loc 1 2862 14 view .LVU2855
 9780 0088 4FF0FF30 		mov	r0, #-1
 9781              	.LVL676:
2862:DMP/driver/eMPL/inv_mpu.c ****     /* Disable data ready interrupt. */
 9782              		.loc 1 2862 14 view .LVU2856
 9783 008c E2E7     		b	.L743
 9784              	.L753:
 9785 008e 00BF     		.align	2
 9786              	.L752:
 9787 0090 00000000 		.word	st
 9788              		.cfi_endproc
 9789              	.LFE216:
 9791              		.section	.rodata.mpu_run_6500_self_test.str1.4,"aMS",%progbits,1
 9792              		.align	2
 9793              	.LC29:
 9794 0000 53746172 		.ascii	"Starting MPU6500 HWST!\015\000"
 9794      74696E67 
 9794      204D5055 
 9794      36353030 
 9794      20485753 
 9795              		.align	2
 9796              	.LC30:
 9797 0018 52657472 		.ascii	"Retrieving Biases\015\000"
 9797      69657669 
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 266


 9797      6E672042 
 9797      69617365 
 9797      730D00
 9798 002b 00       		.align	2
 9799              	.LC31:
 9800 002c 52657472 		.ascii	"Retrieving Biases Error - possible I2C error\000"
 9800      69657669 
 9800      6E672042 
 9800      69617365 
 9800      73204572 
 9801 0059 000000   		.align	2
 9802              	.LC32:
 9803 005c 52657472 		.ascii	"Retrieving ST Biases\000"
 9803      69657669 
 9803      6E672053 
 9803      54204269 
 9803      61736573 
 9804 0071 000000   		.align	2
 9805              	.LC33:
 9806 0074 52657472 		.ascii	"Retrieving ST Biases Error - possible I2C error\000"
 9806      69657669 
 9806      6E672053 
 9806      54204269 
 9806      61736573 
 9807              		.align	2
 9808              	.LC34:
 9809 00a4 41636365 		.ascii	"Accel Self Test Results: %d\012\000"
 9809      6C205365 
 9809      6C662054 
 9809      65737420 
 9809      52657375 
 9810 00c1 000000   		.align	2
 9811              	.LC35:
 9812 00c4 4779726F 		.ascii	"Gyro Self Test Results: %d\012\000"
 9812      2053656C 
 9812      66205465 
 9812      73742052 
 9812      6573756C 
 9813              		.align	2
 9814              	.LC36:
 9815 00e0 436F6D70 		.ascii	"Compass Self Test Results: %d\012\000"
 9815      61737320 
 9815      53656C66 
 9815      20546573 
 9815      74205265 
 9816 00ff 00       		.align	2
 9817              	.LC37:
 9818 0100 45786974 		.ascii	"Exiting HWST\000"
 9818      696E6720 
 9818      48575354 
 9818      00
 9819              		.section	.text.mpu_run_6500_self_test,"ax",%progbits
 9820              		.align	1
 9821              		.global	mpu_run_6500_self_test
 9822              		.syntax unified
 9823              		.thumb
 9824              		.thumb_func
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 267


 9826              	mpu_run_6500_self_test:
 9827              	.LVL677:
 9828              	.LFB211:
2531:DMP/driver/eMPL/inv_mpu.c ****   const unsigned char tries = 2;
 9829              		.loc 1 2531 74 is_stmt 1 view -0
 9830              		.cfi_startproc
 9831              		@ args = 0, pretend = 0, frame = 32
 9832              		@ frame_needed = 0, uses_anonymous_args = 0
2531:DMP/driver/eMPL/inv_mpu.c ****   const unsigned char tries = 2;
 9833              		.loc 1 2531 74 is_stmt 0 view .LVU2858
 9834 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 9835              	.LCFI179:
 9836              		.cfi_def_cfa_offset 28
 9837              		.cfi_offset 4, -28
 9838              		.cfi_offset 5, -24
 9839              		.cfi_offset 6, -20
 9840              		.cfi_offset 7, -16
 9841              		.cfi_offset 8, -12
 9842              		.cfi_offset 9, -8
 9843              		.cfi_offset 14, -4
 9844 0004 89B0     		sub	sp, sp, #36
 9845              	.LCFI180:
 9846              		.cfi_def_cfa_offset 64
 9847 0006 0646     		mov	r6, r0
 9848 0008 8946     		mov	r9, r1
2532:DMP/driver/eMPL/inv_mpu.c ****   long gyro_st[3], accel_st[3];
 9849              		.loc 1 2532 3 is_stmt 1 view .LVU2859
 9850              	.LVL678:
2533:DMP/driver/eMPL/inv_mpu.c ****   unsigned char accel_result, gyro_result;
 9851              		.loc 1 2533 3 view .LVU2860
2534:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
 9852              		.loc 1 2534 3 view .LVU2861
2536:DMP/driver/eMPL/inv_mpu.c **** #endif
 9853              		.loc 1 2536 3 view .LVU2862
2538:DMP/driver/eMPL/inv_mpu.c **** 
 9854              		.loc 1 2538 3 view .LVU2863
2540:DMP/driver/eMPL/inv_mpu.c ****   unsigned char accel_fsr, fifo_sensors, sensors_on;
 9855              		.loc 1 2540 3 view .LVU2864
2541:DMP/driver/eMPL/inv_mpu.c ****   unsigned short gyro_fsr, sample_rate, lpf;
 9856              		.loc 1 2541 3 view .LVU2865
2542:DMP/driver/eMPL/inv_mpu.c ****   unsigned char dmp_was_on;
 9857              		.loc 1 2542 3 view .LVU2866
2543:DMP/driver/eMPL/inv_mpu.c **** 
 9858              		.loc 1 2543 3 view .LVU2867
2545:DMP/driver/eMPL/inv_mpu.c ****     log_i("Starting MPU6500 HWST!\r\n");
 9859              		.loc 1 2545 3 view .LVU2868
2545:DMP/driver/eMPL/inv_mpu.c ****     log_i("Starting MPU6500 HWST!\r\n");
 9860              		.loc 1 2545 6 is_stmt 0 view .LVU2869
 9861 000a 1446     		mov	r4, r2
 9862 000c 2ABB     		cbnz	r2, .L779
 9863              	.LVL679:
 9864              	.L755:
2548:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_dmp_state(0);
 9865              		.loc 1 2548 3 is_stmt 1 view .LVU2870
2548:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_dmp_state(0);
 9866              		.loc 1 2548 18 is_stmt 0 view .LVU2871
 9867 000e 5D4B     		ldr	r3, .L791
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 268


 9868 0010 93F82470 		ldrb	r7, [r3, #36]	@ zero_extendqisi2
2548:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_dmp_state(0);
 9869              		.loc 1 2548 6 view .LVU2872
 9870 0014 2FBB     		cbnz	r7, .L780
 9871              	.L756:
 9872              	.LVL680:
2555:DMP/driver/eMPL/inv_mpu.c ****   mpu_get_accel_fsr(&accel_fsr);
 9873              		.loc 1 2555 3 is_stmt 1 view .LVU2873
 9874 0016 01A8     		add	r0, sp, #4
 9875 0018 FFF7FEFF 		bl	mpu_get_gyro_fsr
 9876              	.LVL681:
2556:DMP/driver/eMPL/inv_mpu.c ****   mpu_get_lpf(&lpf);
 9877              		.loc 1 2556 3 view .LVU2874
 9878 001c 0DF10700 		add	r0, sp, #7
 9879 0020 FFF7FEFF 		bl	mpu_get_accel_fsr
 9880              	.LVL682:
2557:DMP/driver/eMPL/inv_mpu.c ****   mpu_get_sample_rate(&sample_rate);
 9881              		.loc 1 2557 3 view .LVU2875
 9882 0024 6846     		mov	r0, sp
 9883 0026 FFF7FEFF 		bl	mpu_get_lpf
 9884              	.LVL683:
2558:DMP/driver/eMPL/inv_mpu.c ****   sensors_on = st.chip_cfg.sensors;
 9885              		.loc 1 2558 3 view .LVU2876
 9886 002a 0DF10200 		add	r0, sp, #2
 9887 002e FFF7FEFF 		bl	mpu_get_sample_rate
 9888              	.LVL684:
2559:DMP/driver/eMPL/inv_mpu.c ****   mpu_get_fifo_config(&fifo_sensors);
 9889              		.loc 1 2559 3 view .LVU2877
2559:DMP/driver/eMPL/inv_mpu.c ****   mpu_get_fifo_config(&fifo_sensors);
 9890              		.loc 1 2559 14 is_stmt 0 view .LVU2878
 9891 0032 544B     		ldr	r3, .L791
 9892 0034 93F80A80 		ldrb	r8, [r3, #10]	@ zero_extendqisi2
 9893              	.LVL685:
2560:DMP/driver/eMPL/inv_mpu.c **** 
 9894              		.loc 1 2560 3 is_stmt 1 view .LVU2879
 9895 0038 0DF10600 		add	r0, sp, #6
 9896 003c FFF7FEFF 		bl	mpu_get_fifo_config
 9897              	.LVL686:
2562:DMP/driver/eMPL/inv_mpu.c ****     log_i("Retrieving Biases\r\n");
 9898              		.loc 1 2562 3 view .LVU2880
2562:DMP/driver/eMPL/inv_mpu.c ****     log_i("Retrieving Biases\r\n");
 9899              		.loc 1 2562 6 is_stmt 0 view .LVU2881
 9900 0040 A4B9     		cbnz	r4, .L781
 9901              	.L757:
2550:DMP/driver/eMPL/inv_mpu.c ****   } else
 9902              		.loc 1 2550 16 discriminator 1 view .LVU2882
 9903 0042 0025     		movs	r5, #0
 9904              	.L759:
 9905              	.LVL687:
2565:DMP/driver/eMPL/inv_mpu.c ****     if (!get_st_6500_biases(gyro, accel, 0, debug))
 9906              		.loc 1 2565 19 is_stmt 1 discriminator 1 view .LVU2883
 9907 0044 012D     		cmp	r5, #1
 9908 0046 15DC     		bgt	.L758
2566:DMP/driver/eMPL/inv_mpu.c ****       break;
 9909              		.loc 1 2566 5 view .LVU2884
2566:DMP/driver/eMPL/inv_mpu.c ****       break;
 9910              		.loc 1 2566 10 is_stmt 0 view .LVU2885
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 269


 9911 0048 2346     		mov	r3, r4
 9912 004a 0022     		movs	r2, #0
 9913 004c 4946     		mov	r1, r9
 9914 004e 3046     		mov	r0, r6
 9915 0050 FFF7FEFF 		bl	get_st_6500_biases
 9916              	.LVL688:
2566:DMP/driver/eMPL/inv_mpu.c ****       break;
 9917              		.loc 1 2566 8 view .LVU2886
 9918 0054 70B1     		cbz	r0, .L758
2565:DMP/driver/eMPL/inv_mpu.c ****     if (!get_st_6500_biases(gyro, accel, 0, debug))
 9919              		.loc 1 2565 30 is_stmt 1 discriminator 2 view .LVU2887
 9920 0056 0135     		adds	r5, r5, #1
 9921              	.LVL689:
2565:DMP/driver/eMPL/inv_mpu.c ****     if (!get_st_6500_biases(gyro, accel, 0, debug))
 9922              		.loc 1 2565 30 is_stmt 0 discriminator 2 view .LVU2888
 9923 0058 F4E7     		b	.L759
 9924              	.LVL690:
 9925              	.L779:
2546:DMP/driver/eMPL/inv_mpu.c **** 
 9926              		.loc 1 2546 5 is_stmt 1 view .LVU2889
 9927 005a 4B48     		ldr	r0, .L791+4
 9928              	.LVL691:
2546:DMP/driver/eMPL/inv_mpu.c **** 
 9929              		.loc 1 2546 5 is_stmt 0 view .LVU2890
 9930 005c FFF7FEFF 		bl	puts
 9931              	.LVL692:
2546:DMP/driver/eMPL/inv_mpu.c **** 
 9932              		.loc 1 2546 5 view .LVU2891
 9933 0060 D5E7     		b	.L755
 9934              	.L780:
2549:DMP/driver/eMPL/inv_mpu.c ****     dmp_was_on = 1;
 9935              		.loc 1 2549 5 is_stmt 1 view .LVU2892
 9936 0062 0020     		movs	r0, #0
 9937 0064 FFF7FEFF 		bl	mpu_set_dmp_state
 9938              	.LVL693:
2550:DMP/driver/eMPL/inv_mpu.c ****   } else
 9939              		.loc 1 2550 5 view .LVU2893
2550:DMP/driver/eMPL/inv_mpu.c ****   } else
 9940              		.loc 1 2550 16 is_stmt 0 view .LVU2894
 9941 0068 0127     		movs	r7, #1
 9942 006a D4E7     		b	.L756
 9943              	.LVL694:
 9944              	.L781:
2563:DMP/driver/eMPL/inv_mpu.c **** 
 9945              		.loc 1 2563 5 is_stmt 1 view .LVU2895
 9946 006c 4748     		ldr	r0, .L791+8
 9947 006e FFF7FEFF 		bl	puts
 9948              	.LVL695:
 9949 0072 E6E7     		b	.L757
 9950              	.LVL696:
 9951              	.L758:
2568:DMP/driver/eMPL/inv_mpu.c ****     /* If we reach this point, we most likely encountered an I2C error.
 9952              		.loc 1 2568 3 view .LVU2896
2568:DMP/driver/eMPL/inv_mpu.c ****     /* If we reach this point, we most likely encountered an I2C error.
 9953              		.loc 1 2568 6 is_stmt 0 view .LVU2897
 9954 0074 022D     		cmp	r5, #2
 9955 0076 0CD0     		beq	.L782
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 270


2579:DMP/driver/eMPL/inv_mpu.c ****     log_i("Retrieving ST Biases\n");
 9956              		.loc 1 2579 3 is_stmt 1 view .LVU2898
2579:DMP/driver/eMPL/inv_mpu.c ****     log_i("Retrieving ST Biases\n");
 9957              		.loc 1 2579 6 is_stmt 0 view .LVU2899
 9958 0078 9CB9     		cbnz	r4, .L783
 9959              	.L764:
2550:DMP/driver/eMPL/inv_mpu.c ****   } else
 9960              		.loc 1 2550 16 discriminator 1 view .LVU2900
 9961 007a 0025     		movs	r5, #0
 9962              	.LVL697:
 9963              	.L766:
2582:DMP/driver/eMPL/inv_mpu.c ****     if (!get_st_6500_biases(gyro_st, accel_st, 1, debug))
 9964              		.loc 1 2582 19 is_stmt 1 discriminator 1 view .LVU2901
 9965 007c 012D     		cmp	r5, #1
 9966 007e 14DC     		bgt	.L765
2583:DMP/driver/eMPL/inv_mpu.c ****       break;
 9967              		.loc 1 2583 5 view .LVU2902
2583:DMP/driver/eMPL/inv_mpu.c ****       break;
 9968              		.loc 1 2583 10 is_stmt 0 view .LVU2903
 9969 0080 2346     		mov	r3, r4
 9970 0082 0122     		movs	r2, #1
 9971 0084 02A9     		add	r1, sp, #8
 9972 0086 05A8     		add	r0, sp, #20
 9973 0088 FFF7FEFF 		bl	get_st_6500_biases
 9974              	.LVL698:
2583:DMP/driver/eMPL/inv_mpu.c ****       break;
 9975              		.loc 1 2583 8 view .LVU2904
 9976 008c 68B1     		cbz	r0, .L765
2582:DMP/driver/eMPL/inv_mpu.c ****     if (!get_st_6500_biases(gyro_st, accel_st, 1, debug))
 9977              		.loc 1 2582 30 is_stmt 1 discriminator 2 view .LVU2905
 9978 008e 0135     		adds	r5, r5, #1
 9979              	.LVL699:
2582:DMP/driver/eMPL/inv_mpu.c ****     if (!get_st_6500_biases(gyro_st, accel_st, 1, debug))
 9980              		.loc 1 2582 30 is_stmt 0 discriminator 2 view .LVU2906
 9981 0090 F4E7     		b	.L766
 9982              	.L782:
2572:DMP/driver/eMPL/inv_mpu.c ****       log_i("Retrieving Biases Error - possible I2C error\n");
 9983              		.loc 1 2572 5 is_stmt 1 view .LVU2907
2572:DMP/driver/eMPL/inv_mpu.c ****       log_i("Retrieving Biases Error - possible I2C error\n");
 9984              		.loc 1 2572 8 is_stmt 0 view .LVU2908
 9985 0092 0CB9     		cbnz	r4, .L784
2575:DMP/driver/eMPL/inv_mpu.c ****     goto restore;
 9986              		.loc 1 2575 12 view .LVU2909
 9987 0094 0025     		movs	r5, #0
 9988              	.LVL700:
2575:DMP/driver/eMPL/inv_mpu.c ****     goto restore;
 9989              		.loc 1 2575 12 view .LVU2910
 9990 0096 33E0     		b	.L762
 9991              	.LVL701:
 9992              	.L784:
2573:DMP/driver/eMPL/inv_mpu.c **** 
 9993              		.loc 1 2573 7 is_stmt 1 view .LVU2911
 9994 0098 3D48     		ldr	r0, .L791+12
 9995 009a FFF7FEFF 		bl	puts
 9996              	.LVL702:
2575:DMP/driver/eMPL/inv_mpu.c ****     goto restore;
 9997              		.loc 1 2575 5 view .LVU2912
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 271


2576:DMP/driver/eMPL/inv_mpu.c ****   }
 9998              		.loc 1 2576 5 view .LVU2913
2575:DMP/driver/eMPL/inv_mpu.c ****     goto restore;
 9999              		.loc 1 2575 12 is_stmt 0 view .LVU2914
 10000 009e 0025     		movs	r5, #0
 10001              	.LVL703:
2576:DMP/driver/eMPL/inv_mpu.c ****   }
 10002              		.loc 1 2576 5 view .LVU2915
 10003 00a0 2DE0     		b	.L763
 10004              	.LVL704:
 10005              	.L783:
2580:DMP/driver/eMPL/inv_mpu.c **** 
 10006              		.loc 1 2580 5 is_stmt 1 view .LVU2916
 10007 00a2 3C48     		ldr	r0, .L791+16
 10008 00a4 FFF7FEFF 		bl	puts
 10009              	.LVL705:
 10010 00a8 E7E7     		b	.L764
 10011              	.L765:
2585:DMP/driver/eMPL/inv_mpu.c **** 
 10012              		.loc 1 2585 3 view .LVU2917
2585:DMP/driver/eMPL/inv_mpu.c **** 
 10013              		.loc 1 2585 6 is_stmt 0 view .LVU2918
 10014 00aa 022D     		cmp	r5, #2
 10015 00ac 07D1     		bne	.L768
2587:DMP/driver/eMPL/inv_mpu.c ****       log_i("Retrieving ST Biases Error - possible I2C error\n");
 10016              		.loc 1 2587 5 is_stmt 1 view .LVU2919
2587:DMP/driver/eMPL/inv_mpu.c ****       log_i("Retrieving ST Biases Error - possible I2C error\n");
 10017              		.loc 1 2587 8 is_stmt 0 view .LVU2920
 10018 00ae 0CB9     		cbnz	r4, .L785
2591:DMP/driver/eMPL/inv_mpu.c ****     goto restore;
 10019              		.loc 1 2591 12 view .LVU2921
 10020 00b0 0025     		movs	r5, #0
 10021              	.LVL706:
2591:DMP/driver/eMPL/inv_mpu.c ****     goto restore;
 10022              		.loc 1 2591 12 view .LVU2922
 10023 00b2 25E0     		b	.L762
 10024              	.LVL707:
 10025              	.L785:
2588:DMP/driver/eMPL/inv_mpu.c **** 
 10026              		.loc 1 2588 7 is_stmt 1 view .LVU2923
 10027 00b4 3848     		ldr	r0, .L791+20
 10028 00b6 FFF7FEFF 		bl	puts
 10029              	.LVL708:
2591:DMP/driver/eMPL/inv_mpu.c ****     goto restore;
 10030              		.loc 1 2591 5 view .LVU2924
2592:DMP/driver/eMPL/inv_mpu.c ****   }
 10031              		.loc 1 2592 5 view .LVU2925
2591:DMP/driver/eMPL/inv_mpu.c ****     goto restore;
 10032              		.loc 1 2591 12 is_stmt 0 view .LVU2926
 10033 00ba 0025     		movs	r5, #0
 10034              	.LVL709:
2592:DMP/driver/eMPL/inv_mpu.c ****   }
 10035              		.loc 1 2592 5 view .LVU2927
 10036 00bc 1FE0     		b	.L763
 10037              	.LVL710:
 10038              	.L768:
2595:DMP/driver/eMPL/inv_mpu.c ****   if (debug)
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 272


 10039              		.loc 1 2595 3 is_stmt 1 view .LVU2928
2595:DMP/driver/eMPL/inv_mpu.c ****   if (debug)
 10040              		.loc 1 2595 18 is_stmt 0 view .LVU2929
 10041 00be 2246     		mov	r2, r4
 10042 00c0 02A9     		add	r1, sp, #8
 10043 00c2 4846     		mov	r0, r9
 10044 00c4 FFF7FEFF 		bl	accel_6500_self_test
 10045              	.LVL711:
2595:DMP/driver/eMPL/inv_mpu.c ****   if (debug)
 10046              		.loc 1 2595 16 view .LVU2930
 10047 00c8 5FFA80F9 		uxtb	r9, r0
 10048              	.LVL712:
2596:DMP/driver/eMPL/inv_mpu.c ****     log_i("Accel Self Test Results: %d\n", accel_result);
 10049              		.loc 1 2596 3 is_stmt 1 view .LVU2931
2596:DMP/driver/eMPL/inv_mpu.c ****     log_i("Accel Self Test Results: %d\n", accel_result);
 10050              		.loc 1 2596 6 is_stmt 0 view .LVU2932
 10051 00cc 002C     		cmp	r4, #0
 10052 00ce 3FD1     		bne	.L786
 10053              	.L769:
2599:DMP/driver/eMPL/inv_mpu.c ****   if (debug)
 10054              		.loc 1 2599 3 is_stmt 1 view .LVU2933
2599:DMP/driver/eMPL/inv_mpu.c ****   if (debug)
 10055              		.loc 1 2599 17 is_stmt 0 view .LVU2934
 10056 00d0 2246     		mov	r2, r4
 10057 00d2 05A9     		add	r1, sp, #20
 10058 00d4 3046     		mov	r0, r6
 10059 00d6 FFF7FEFF 		bl	gyro_6500_self_test
 10060              	.LVL713:
2599:DMP/driver/eMPL/inv_mpu.c ****   if (debug)
 10061              		.loc 1 2599 15 view .LVU2935
 10062 00da C5B2     		uxtb	r5, r0
 10063              	.LVL714:
2600:DMP/driver/eMPL/inv_mpu.c ****     log_i("Gyro Self Test Results: %d\n", gyro_result);
 10064              		.loc 1 2600 3 is_stmt 1 view .LVU2936
2600:DMP/driver/eMPL/inv_mpu.c ****     log_i("Gyro Self Test Results: %d\n", gyro_result);
 10065              		.loc 1 2600 6 is_stmt 0 view .LVU2937
 10066 00dc 002C     		cmp	r4, #0
 10067 00de 3CD1     		bne	.L787
 10068              	.L770:
2603:DMP/driver/eMPL/inv_mpu.c ****   if (!gyro_result)
 10069              		.loc 1 2603 3 is_stmt 1 view .LVU2938
 10070              	.LVL715:
2604:DMP/driver/eMPL/inv_mpu.c ****     result |= 0x01;
 10071              		.loc 1 2604 3 view .LVU2939
2604:DMP/driver/eMPL/inv_mpu.c ****     result |= 0x01;
 10072              		.loc 1 2604 6 is_stmt 0 view .LVU2940
 10073 00e0 002D     		cmp	r5, #0
 10074 00e2 3FD0     		beq	.L777
2603:DMP/driver/eMPL/inv_mpu.c ****   if (!gyro_result)
 10075              		.loc 1 2603 10 view .LVU2941
 10076 00e4 0025     		movs	r5, #0
 10077              	.LVL716:
 10078              	.L771:
2606:DMP/driver/eMPL/inv_mpu.c ****     result |= 0x02;
 10079              		.loc 1 2606 3 is_stmt 1 view .LVU2942
2606:DMP/driver/eMPL/inv_mpu.c ****     result |= 0x02;
 10080              		.loc 1 2606 6 is_stmt 0 view .LVU2943
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 273


 10081 00e6 B9F1000F 		cmp	r9, #0
 10082 00ea 01D1     		bne	.L772
2607:DMP/driver/eMPL/inv_mpu.c **** 
 10083              		.loc 1 2607 5 is_stmt 1 view .LVU2944
2607:DMP/driver/eMPL/inv_mpu.c **** 
 10084              		.loc 1 2607 12 is_stmt 0 view .LVU2945
 10085 00ec 45F00205 		orr	r5, r5, #2
 10086              	.LVL717:
 10087              	.L772:
2610:DMP/driver/eMPL/inv_mpu.c ****   if (debug)
 10088              		.loc 1 2610 3 is_stmt 1 view .LVU2946
2610:DMP/driver/eMPL/inv_mpu.c ****   if (debug)
 10089              		.loc 1 2610 20 is_stmt 0 view .LVU2947
 10090 00f0 FFF7FEFF 		bl	compass_self_test
 10091              	.LVL718:
2610:DMP/driver/eMPL/inv_mpu.c ****   if (debug)
 10092              		.loc 1 2610 18 view .LVU2948
 10093 00f4 C6B2     		uxtb	r6, r0
 10094              	.LVL719:
2611:DMP/driver/eMPL/inv_mpu.c ****     log_i("Compass Self Test Results: %d\n", compass_result);
 10095              		.loc 1 2611 3 is_stmt 1 view .LVU2949
2611:DMP/driver/eMPL/inv_mpu.c ****     log_i("Compass Self Test Results: %d\n", compass_result);
 10096              		.loc 1 2611 6 is_stmt 0 view .LVU2950
 10097 00f6 BCBB     		cbnz	r4, .L788
 10098              	.L773:
2613:DMP/driver/eMPL/inv_mpu.c ****     result |= 0x04;
 10099              		.loc 1 2613 3 is_stmt 1 view .LVU2951
2613:DMP/driver/eMPL/inv_mpu.c ****     result |= 0x04;
 10100              		.loc 1 2613 6 is_stmt 0 view .LVU2952
 10101 00f8 0EB9     		cbnz	r6, .L763
2614:DMP/driver/eMPL/inv_mpu.c **** #else
 10102              		.loc 1 2614 5 is_stmt 1 view .LVU2953
2614:DMP/driver/eMPL/inv_mpu.c **** #else
 10103              		.loc 1 2614 12 is_stmt 0 view .LVU2954
 10104 00fa 45F00405 		orr	r5, r5, #4
 10105              	.LVL720:
 10106              	.L763:
2619:DMP/driver/eMPL/inv_mpu.c ****     log_i("Exiting HWST\n");
 10107              		.loc 1 2619 3 is_stmt 1 view .LVU2955
2619:DMP/driver/eMPL/inv_mpu.c ****     log_i("Exiting HWST\n");
 10108              		.loc 1 2619 6 is_stmt 0 view .LVU2956
 10109 00fe C4BB     		cbnz	r4, .L789
 10110              	.LVL721:
 10111              	.L762:
2622:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.accel_fsr = 0xFF;
 10112              		.loc 1 2622 3 is_stmt 1 view .LVU2957
2622:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.accel_fsr = 0xFF;
 10113              		.loc 1 2622 24 is_stmt 0 view .LVU2958
 10114 0100 204B     		ldr	r3, .L791
 10115 0102 FF22     		movs	r2, #255
 10116 0104 1A72     		strb	r2, [r3, #8]
2623:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.lpf = 0xFF;
 10117              		.loc 1 2623 3 is_stmt 1 view .LVU2959
2623:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.lpf = 0xFF;
 10118              		.loc 1 2623 25 is_stmt 0 view .LVU2960
 10119 0106 5A72     		strb	r2, [r3, #9]
2624:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.sample_rate = 0xFFFF;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 274


 10120              		.loc 1 2624 3 is_stmt 1 view .LVU2961
2624:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.sample_rate = 0xFFFF;
 10121              		.loc 1 2624 19 is_stmt 0 view .LVU2962
 10122 0108 DA72     		strb	r2, [r3, #11]
2625:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.sensors = 0xFF;
 10123              		.loc 1 2625 3 is_stmt 1 view .LVU2963
2625:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.sensors = 0xFF;
 10124              		.loc 1 2625 27 is_stmt 0 view .LVU2964
 10125 010a 4FF6FF71 		movw	r1, #65535
 10126 010e D981     		strh	r1, [r3, #14]	@ movhi
2626:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.fifo_enable = 0xFF;
 10127              		.loc 1 2626 3 is_stmt 1 view .LVU2965
2626:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.fifo_enable = 0xFF;
 10128              		.loc 1 2626 23 is_stmt 0 view .LVU2966
 10129 0110 9A72     		strb	r2, [r3, #10]
2627:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.clk_src = INV_CLK_PLL;
 10130              		.loc 1 2627 3 is_stmt 1 view .LVU2967
2627:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.clk_src = INV_CLK_PLL;
 10131              		.loc 1 2627 27 is_stmt 0 view .LVU2968
 10132 0112 1A74     		strb	r2, [r3, #16]
2628:DMP/driver/eMPL/inv_mpu.c ****   mpu_set_gyro_fsr(gyro_fsr);
 10133              		.loc 1 2628 3 is_stmt 1 view .LVU2969
2628:DMP/driver/eMPL/inv_mpu.c ****   mpu_set_gyro_fsr(gyro_fsr);
 10134              		.loc 1 2628 23 is_stmt 0 view .LVU2970
 10135 0114 0122     		movs	r2, #1
 10136 0116 1A73     		strb	r2, [r3, #12]
2629:DMP/driver/eMPL/inv_mpu.c ****   mpu_set_accel_fsr(accel_fsr);
 10137              		.loc 1 2629 3 is_stmt 1 view .LVU2971
 10138 0118 BDF80400 		ldrh	r0, [sp, #4]
 10139 011c FFF7FEFF 		bl	mpu_set_gyro_fsr
 10140              	.LVL722:
2630:DMP/driver/eMPL/inv_mpu.c ****   mpu_set_lpf(lpf);
 10141              		.loc 1 2630 3 view .LVU2972
 10142 0120 9DF80700 		ldrb	r0, [sp, #7]	@ zero_extendqisi2
 10143 0124 FFF7FEFF 		bl	mpu_set_accel_fsr
 10144              	.LVL723:
2631:DMP/driver/eMPL/inv_mpu.c ****   mpu_set_sample_rate(sample_rate);
 10145              		.loc 1 2631 3 view .LVU2973
 10146 0128 BDF80000 		ldrh	r0, [sp]
 10147 012c FFF7FEFF 		bl	mpu_set_lpf
 10148              	.LVL724:
2632:DMP/driver/eMPL/inv_mpu.c ****   mpu_set_sensors(sensors_on);
 10149              		.loc 1 2632 3 view .LVU2974
 10150 0130 BDF80200 		ldrh	r0, [sp, #2]
 10151 0134 FFF7FEFF 		bl	mpu_set_sample_rate
 10152              	.LVL725:
2633:DMP/driver/eMPL/inv_mpu.c ****   mpu_configure_fifo(fifo_sensors);
 10153              		.loc 1 2633 3 view .LVU2975
 10154 0138 4046     		mov	r0, r8
 10155 013a FFF7FEFF 		bl	mpu_set_sensors
 10156              	.LVL726:
2634:DMP/driver/eMPL/inv_mpu.c **** 
 10157              		.loc 1 2634 3 view .LVU2976
 10158 013e 9DF80600 		ldrb	r0, [sp, #6]	@ zero_extendqisi2
 10159 0142 FFF7FEFF 		bl	mpu_configure_fifo
 10160              	.LVL727:
2636:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_dmp_state(1);
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 275


 10161              		.loc 1 2636 3 view .LVU2977
2636:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_dmp_state(1);
 10162              		.loc 1 2636 6 is_stmt 0 view .LVU2978
 10163 0146 C7B9     		cbnz	r7, .L790
 10164              	.L754:
2640:DMP/driver/eMPL/inv_mpu.c **** #endif
 10165              		.loc 1 2640 1 view .LVU2979
 10166 0148 2846     		mov	r0, r5
 10167 014a 09B0     		add	sp, sp, #36
 10168              	.LCFI181:
 10169              		.cfi_remember_state
 10170              		.cfi_def_cfa_offset 28
 10171              		@ sp needed
 10172 014c BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 10173              	.LVL728:
 10174              	.L786:
 10175              	.LCFI182:
 10176              		.cfi_restore_state
2597:DMP/driver/eMPL/inv_mpu.c **** 
 10177              		.loc 1 2597 5 is_stmt 1 view .LVU2980
 10178 0150 4946     		mov	r1, r9
 10179 0152 1248     		ldr	r0, .L791+24
 10180 0154 FFF7FEFF 		bl	printf
 10181              	.LVL729:
 10182 0158 BAE7     		b	.L769
 10183              	.LVL730:
 10184              	.L787:
2601:DMP/driver/eMPL/inv_mpu.c **** 
 10185              		.loc 1 2601 5 view .LVU2981
 10186 015a 2946     		mov	r1, r5
 10187 015c 1048     		ldr	r0, .L791+28
 10188 015e FFF7FEFF 		bl	printf
 10189              	.LVL731:
 10190 0162 BDE7     		b	.L770
 10191              	.LVL732:
 10192              	.L777:
2605:DMP/driver/eMPL/inv_mpu.c ****   if (!accel_result)
 10193              		.loc 1 2605 12 is_stmt 0 view .LVU2982
 10194 0164 0125     		movs	r5, #1
 10195              	.LVL733:
2605:DMP/driver/eMPL/inv_mpu.c ****   if (!accel_result)
 10196              		.loc 1 2605 12 view .LVU2983
 10197 0166 BEE7     		b	.L771
 10198              	.LVL734:
 10199              	.L788:
2612:DMP/driver/eMPL/inv_mpu.c ****   if (!compass_result)
 10200              		.loc 1 2612 5 is_stmt 1 view .LVU2984
 10201 0168 3146     		mov	r1, r6
 10202 016a 0E48     		ldr	r0, .L791+32
 10203 016c FFF7FEFF 		bl	printf
 10204              	.LVL735:
 10205 0170 C2E7     		b	.L773
 10206              	.LVL736:
 10207              	.L789:
2620:DMP/driver/eMPL/inv_mpu.c ****   /* Set to invalid values to ensure no I2C writes are skipped. */
 10208              		.loc 1 2620 5 view .LVU2985
 10209 0172 0D48     		ldr	r0, .L791+36
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 276


 10210 0174 FFF7FEFF 		bl	puts
 10211              	.LVL737:
 10212 0178 C2E7     		b	.L762
 10213              	.LVL738:
 10214              	.L790:
2637:DMP/driver/eMPL/inv_mpu.c **** 
 10215              		.loc 1 2637 5 view .LVU2986
 10216 017a 0120     		movs	r0, #1
 10217 017c FFF7FEFF 		bl	mpu_set_dmp_state
 10218              	.LVL739:
2639:DMP/driver/eMPL/inv_mpu.c **** }
 10219              		.loc 1 2639 3 view .LVU2987
2639:DMP/driver/eMPL/inv_mpu.c **** }
 10220              		.loc 1 2639 10 is_stmt 0 view .LVU2988
 10221 0180 E2E7     		b	.L754
 10222              	.L792:
 10223 0182 00BF     		.align	2
 10224              	.L791:
 10225 0184 00000000 		.word	st
 10226 0188 00000000 		.word	.LC29
 10227 018c 18000000 		.word	.LC30
 10228 0190 2C000000 		.word	.LC31
 10229 0194 5C000000 		.word	.LC32
 10230 0198 74000000 		.word	.LC33
 10231 019c A4000000 		.word	.LC34
 10232 01a0 C4000000 		.word	.LC35
 10233 01a4 E0000000 		.word	.LC36
 10234 01a8 00010000 		.word	.LC37
 10235              		.cfi_endproc
 10236              	.LFE211:
 10238              		.section	.text.mpu_run_self_test,"ax",%progbits
 10239              		.align	1
 10240              		.global	mpu_run_self_test
 10241              		.syntax unified
 10242              		.thumb
 10243              		.thumb_func
 10245              	mpu_run_self_test:
 10246              	.LVL740:
 10247              	.LFB212:
2649:DMP/driver/eMPL/inv_mpu.c **** #ifdef MPU6050
 10248              		.loc 1 2649 48 is_stmt 1 view -0
 10249              		.cfi_startproc
 10250              		@ args = 0, pretend = 0, frame = 8
 10251              		@ frame_needed = 0, uses_anonymous_args = 0
2649:DMP/driver/eMPL/inv_mpu.c **** #ifdef MPU6050
 10252              		.loc 1 2649 48 is_stmt 0 view .LVU2990
 10253 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 10254              	.LCFI183:
 10255              		.cfi_def_cfa_offset 24
 10256              		.cfi_offset 4, -24
 10257              		.cfi_offset 5, -20
 10258              		.cfi_offset 6, -16
 10259              		.cfi_offset 7, -12
 10260              		.cfi_offset 8, -8
 10261              		.cfi_offset 14, -4
 10262 0004 82B0     		sub	sp, sp, #8
 10263              	.LCFI184:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 277


 10264              		.cfi_def_cfa_offset 32
 10265 0006 0546     		mov	r5, r0
 10266 0008 0E46     		mov	r6, r1
2659:DMP/driver/eMPL/inv_mpu.c ****   unsigned char accel_fsr, fifo_sensors, sensors_on;
 10267              		.loc 1 2659 3 is_stmt 1 view .LVU2991
2660:DMP/driver/eMPL/inv_mpu.c ****   unsigned short gyro_fsr, sample_rate, lpf;
 10268              		.loc 1 2660 3 view .LVU2992
2661:DMP/driver/eMPL/inv_mpu.c ****   unsigned char dmp_was_on;
 10269              		.loc 1 2661 3 view .LVU2993
2662:DMP/driver/eMPL/inv_mpu.c **** 
 10270              		.loc 1 2662 3 view .LVU2994
2664:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_dmp_state(0);
 10271              		.loc 1 2664 3 view .LVU2995
2664:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_dmp_state(0);
 10272              		.loc 1 2664 18 is_stmt 0 view .LVU2996
 10273 000a 274B     		ldr	r3, .L799
 10274 000c 93F82470 		ldrb	r7, [r3, #36]	@ zero_extendqisi2
2664:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_dmp_state(0);
 10275              		.loc 1 2664 6 view .LVU2997
 10276 0010 002F     		cmp	r7, #0
 10277 0012 40D1     		bne	.L797
 10278              	.LVL741:
 10279              	.L794:
2671:DMP/driver/eMPL/inv_mpu.c ****   mpu_get_accel_fsr(&accel_fsr);
 10280              		.loc 1 2671 3 is_stmt 1 view .LVU2998
 10281 0014 01A8     		add	r0, sp, #4
 10282 0016 FFF7FEFF 		bl	mpu_get_gyro_fsr
 10283              	.LVL742:
2672:DMP/driver/eMPL/inv_mpu.c ****   mpu_get_lpf(&lpf);
 10284              		.loc 1 2672 3 view .LVU2999
 10285 001a 0DF10700 		add	r0, sp, #7
 10286 001e FFF7FEFF 		bl	mpu_get_accel_fsr
 10287              	.LVL743:
2673:DMP/driver/eMPL/inv_mpu.c ****   mpu_get_sample_rate(&sample_rate);
 10288              		.loc 1 2673 3 view .LVU3000
 10289 0022 6846     		mov	r0, sp
 10290 0024 FFF7FEFF 		bl	mpu_get_lpf
 10291              	.LVL744:
2674:DMP/driver/eMPL/inv_mpu.c ****   sensors_on = st.chip_cfg.sensors;
 10292              		.loc 1 2674 3 view .LVU3001
 10293 0028 0DF10200 		add	r0, sp, #2
 10294 002c FFF7FEFF 		bl	mpu_get_sample_rate
 10295              	.LVL745:
2675:DMP/driver/eMPL/inv_mpu.c ****   mpu_get_fifo_config(&fifo_sensors);
 10296              		.loc 1 2675 3 view .LVU3002
2675:DMP/driver/eMPL/inv_mpu.c ****   mpu_get_fifo_config(&fifo_sensors);
 10297              		.loc 1 2675 14 is_stmt 0 view .LVU3003
 10298 0030 1D4C     		ldr	r4, .L799
 10299 0032 94F80A80 		ldrb	r8, [r4, #10]	@ zero_extendqisi2
 10300              	.LVL746:
2676:DMP/driver/eMPL/inv_mpu.c **** 
 10301              		.loc 1 2676 3 is_stmt 1 view .LVU3004
 10302 0036 0DF10600 		add	r0, sp, #6
 10303 003a FFF7FEFF 		bl	mpu_get_fifo_config
 10304              	.LVL747:
2719:DMP/driver/eMPL/inv_mpu.c ****   result = 0x7;
 10305              		.loc 1 2719 3 view .LVU3005
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 278


 10306 003e 0022     		movs	r2, #0
 10307 0040 3146     		mov	r1, r6
 10308 0042 2846     		mov	r0, r5
 10309 0044 FFF7FEFF 		bl	get_st_biases
 10310              	.LVL748:
2720:DMP/driver/eMPL/inv_mpu.c **** #endif
 10311              		.loc 1 2720 3 view .LVU3006
2723:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.accel_fsr = 0xFF;
 10312              		.loc 1 2723 3 view .LVU3007
2723:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.accel_fsr = 0xFF;
 10313              		.loc 1 2723 24 is_stmt 0 view .LVU3008
 10314 0048 FF23     		movs	r3, #255
 10315 004a 2372     		strb	r3, [r4, #8]
2724:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.lpf = 0xFF;
 10316              		.loc 1 2724 3 is_stmt 1 view .LVU3009
2724:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.lpf = 0xFF;
 10317              		.loc 1 2724 25 is_stmt 0 view .LVU3010
 10318 004c 6372     		strb	r3, [r4, #9]
2725:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.sample_rate = 0xFFFF;
 10319              		.loc 1 2725 3 is_stmt 1 view .LVU3011
2725:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.sample_rate = 0xFFFF;
 10320              		.loc 1 2725 19 is_stmt 0 view .LVU3012
 10321 004e E372     		strb	r3, [r4, #11]
2726:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.sensors = 0xFF;
 10322              		.loc 1 2726 3 is_stmt 1 view .LVU3013
2726:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.sensors = 0xFF;
 10323              		.loc 1 2726 27 is_stmt 0 view .LVU3014
 10324 0050 4FF6FF72 		movw	r2, #65535
 10325 0054 E281     		strh	r2, [r4, #14]	@ movhi
2727:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.fifo_enable = 0xFF;
 10326              		.loc 1 2727 3 is_stmt 1 view .LVU3015
2727:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.fifo_enable = 0xFF;
 10327              		.loc 1 2727 23 is_stmt 0 view .LVU3016
 10328 0056 A372     		strb	r3, [r4, #10]
2728:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.clk_src = INV_CLK_PLL;
 10329              		.loc 1 2728 3 is_stmt 1 view .LVU3017
2728:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.clk_src = INV_CLK_PLL;
 10330              		.loc 1 2728 27 is_stmt 0 view .LVU3018
 10331 0058 2374     		strb	r3, [r4, #16]
2729:DMP/driver/eMPL/inv_mpu.c ****   mpu_set_gyro_fsr(gyro_fsr);
 10332              		.loc 1 2729 3 is_stmt 1 view .LVU3019
2729:DMP/driver/eMPL/inv_mpu.c ****   mpu_set_gyro_fsr(gyro_fsr);
 10333              		.loc 1 2729 23 is_stmt 0 view .LVU3020
 10334 005a 0123     		movs	r3, #1
 10335 005c 2373     		strb	r3, [r4, #12]
2730:DMP/driver/eMPL/inv_mpu.c ****   mpu_set_accel_fsr(accel_fsr);
 10336              		.loc 1 2730 3 is_stmt 1 view .LVU3021
 10337 005e BDF80400 		ldrh	r0, [sp, #4]
 10338 0062 FFF7FEFF 		bl	mpu_set_gyro_fsr
 10339              	.LVL749:
2731:DMP/driver/eMPL/inv_mpu.c ****   mpu_set_lpf(lpf);
 10340              		.loc 1 2731 3 view .LVU3022
 10341 0066 9DF80700 		ldrb	r0, [sp, #7]	@ zero_extendqisi2
 10342 006a FFF7FEFF 		bl	mpu_set_accel_fsr
 10343              	.LVL750:
2732:DMP/driver/eMPL/inv_mpu.c ****   mpu_set_sample_rate(sample_rate);
 10344              		.loc 1 2732 3 view .LVU3023
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 279


 10345 006e BDF80000 		ldrh	r0, [sp]
 10346 0072 FFF7FEFF 		bl	mpu_set_lpf
 10347              	.LVL751:
2733:DMP/driver/eMPL/inv_mpu.c ****   mpu_set_sensors(sensors_on);
 10348              		.loc 1 2733 3 view .LVU3024
 10349 0076 BDF80200 		ldrh	r0, [sp, #2]
 10350 007a FFF7FEFF 		bl	mpu_set_sample_rate
 10351              	.LVL752:
2734:DMP/driver/eMPL/inv_mpu.c ****   mpu_configure_fifo(fifo_sensors);
 10352              		.loc 1 2734 3 view .LVU3025
 10353 007e 4046     		mov	r0, r8
 10354 0080 FFF7FEFF 		bl	mpu_set_sensors
 10355              	.LVL753:
2735:DMP/driver/eMPL/inv_mpu.c **** 
 10356              		.loc 1 2735 3 view .LVU3026
 10357 0084 9DF80600 		ldrb	r0, [sp, #6]	@ zero_extendqisi2
 10358 0088 FFF7FEFF 		bl	mpu_configure_fifo
 10359              	.LVL754:
2737:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_dmp_state(1);
 10360              		.loc 1 2737 3 view .LVU3027
2737:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_dmp_state(1);
 10361              		.loc 1 2737 6 is_stmt 0 view .LVU3028
 10362 008c 47B9     		cbnz	r7, .L798
 10363              	.L795:
2740:DMP/driver/eMPL/inv_mpu.c **** }
 10364              		.loc 1 2740 3 is_stmt 1 view .LVU3029
2741:DMP/driver/eMPL/inv_mpu.c **** 
 10365              		.loc 1 2741 1 is_stmt 0 view .LVU3030
 10366 008e 0720     		movs	r0, #7
 10367 0090 02B0     		add	sp, sp, #8
 10368              	.LCFI185:
 10369              		.cfi_remember_state
 10370              		.cfi_def_cfa_offset 24
 10371              		@ sp needed
 10372 0092 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 10373              	.LVL755:
 10374              	.L797:
 10375              	.LCFI186:
 10376              		.cfi_restore_state
2665:DMP/driver/eMPL/inv_mpu.c ****     dmp_was_on = 1;
 10377              		.loc 1 2665 5 is_stmt 1 view .LVU3031
 10378 0096 0020     		movs	r0, #0
 10379              	.LVL756:
2665:DMP/driver/eMPL/inv_mpu.c ****     dmp_was_on = 1;
 10380              		.loc 1 2665 5 is_stmt 0 view .LVU3032
 10381 0098 FFF7FEFF 		bl	mpu_set_dmp_state
 10382              	.LVL757:
2666:DMP/driver/eMPL/inv_mpu.c ****   } else
 10383              		.loc 1 2666 5 is_stmt 1 view .LVU3033
2666:DMP/driver/eMPL/inv_mpu.c ****   } else
 10384              		.loc 1 2666 16 is_stmt 0 view .LVU3034
 10385 009c 0127     		movs	r7, #1
 10386 009e B9E7     		b	.L794
 10387              	.LVL758:
 10388              	.L798:
2738:DMP/driver/eMPL/inv_mpu.c **** 
 10389              		.loc 1 2738 5 is_stmt 1 view .LVU3035
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 280


 10390 00a0 0120     		movs	r0, #1
 10391 00a2 FFF7FEFF 		bl	mpu_set_dmp_state
 10392              	.LVL759:
 10393 00a6 F2E7     		b	.L795
 10394              	.L800:
 10395              		.align	2
 10396              	.L799:
 10397 00a8 00000000 		.word	st
 10398              		.cfi_endproc
 10399              	.LFE212:
 10401              		.section	.text.mpu_get_dmp_state,"ax",%progbits
 10402              		.align	1
 10403              		.global	mpu_get_dmp_state
 10404              		.syntax unified
 10405              		.thumb
 10406              		.thumb_func
 10408              	mpu_get_dmp_state:
 10409              	.LVL760:
 10410              	.LFB217:
2893:DMP/driver/eMPL/inv_mpu.c ****   enabled[0] = st.chip_cfg.dmp_on;
 10411              		.loc 1 2893 47 view -0
 10412              		.cfi_startproc
 10413              		@ args = 0, pretend = 0, frame = 0
 10414              		@ frame_needed = 0, uses_anonymous_args = 0
 10415              		@ link register save eliminated.
2894:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 10416              		.loc 1 2894 3 view .LVU3037
2894:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 10417              		.loc 1 2894 27 is_stmt 0 view .LVU3038
 10418 0000 024B     		ldr	r3, .L802
 10419 0002 93F82430 		ldrb	r3, [r3, #36]	@ zero_extendqisi2
2894:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 10420              		.loc 1 2894 14 view .LVU3039
 10421 0006 0370     		strb	r3, [r0]
2895:DMP/driver/eMPL/inv_mpu.c **** }
 10422              		.loc 1 2895 3 is_stmt 1 view .LVU3040
2896:DMP/driver/eMPL/inv_mpu.c **** 
 10423              		.loc 1 2896 1 is_stmt 0 view .LVU3041
 10424 0008 0020     		movs	r0, #0
 10425              	.LVL761:
2896:DMP/driver/eMPL/inv_mpu.c **** 
 10426              		.loc 1 2896 1 view .LVU3042
 10427 000a 7047     		bx	lr
 10428              	.L803:
 10429              		.align	2
 10430              	.L802:
 10431 000c 00000000 		.word	st
 10432              		.cfi_endproc
 10433              	.LFE217:
 10435              		.section	.text.mpu_get_compass_reg,"ax",%progbits
 10436              		.align	1
 10437              		.global	mpu_get_compass_reg
 10438              		.syntax unified
 10439              		.thumb
 10440              		.thumb_func
 10442              	mpu_get_compass_reg:
 10443              	.LVL762:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 281


 10444              	.LFB219:
2999:DMP/driver/eMPL/inv_mpu.c **** #endif
3000:DMP/driver/eMPL/inv_mpu.c **** 
3001:DMP/driver/eMPL/inv_mpu.c **** /**
3002:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Read raw compass data.
3003:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] data        Raw data in hardware units.
3004:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] timestamp   Timestamp in milliseconds. Null if not needed.
3005:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
3006:DMP/driver/eMPL/inv_mpu.c ****  */
3007:DMP/driver/eMPL/inv_mpu.c **** int mpu_get_compass_reg(short *data, unsigned long *timestamp) {
 10445              		.loc 1 3007 64 is_stmt 1 view -0
 10446              		.cfi_startproc
 10447              		@ args = 0, pretend = 0, frame = 16
 10448              		@ frame_needed = 0, uses_anonymous_args = 0
3008:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
3009:DMP/driver/eMPL/inv_mpu.c ****   unsigned char tmp[9];
 10449              		.loc 1 3009 3 view .LVU3044
3010:DMP/driver/eMPL/inv_mpu.c **** 
3011:DMP/driver/eMPL/inv_mpu.c ****   if (!(st.chip_cfg.sensors & INV_XYZ_COMPASS))
 10450              		.loc 1 3011 3 view .LVU3045
 10451              		.loc 1 3011 20 is_stmt 0 view .LVU3046
 10452 0000 2B4B     		ldr	r3, .L814
 10453 0002 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 10454              		.loc 1 3011 6 view .LVU3047
 10455 0004 13F0010F 		tst	r3, #1
 10456 0008 46D0     		beq	.L806
3007:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
 10457              		.loc 1 3007 64 view .LVU3048
 10458 000a 10B5     		push	{r4, lr}
 10459              	.LCFI187:
 10460              		.cfi_def_cfa_offset 8
 10461              		.cfi_offset 4, -8
 10462              		.cfi_offset 14, -4
 10463 000c 84B0     		sub	sp, sp, #16
 10464              	.LCFI188:
 10465              		.cfi_def_cfa_offset 24
 10466 000e 0446     		mov	r4, r0
3012:DMP/driver/eMPL/inv_mpu.c ****     return -1;
3013:DMP/driver/eMPL/inv_mpu.c **** 
3014:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_BYPASS
3015:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_read(st.chip_cfg.compass_addr, AKM_REG_ST1, 8, tmp))
3016:DMP/driver/eMPL/inv_mpu.c ****     return -1;
3017:DMP/driver/eMPL/inv_mpu.c ****   tmp[8] = AKM_SINGLE_MEASUREMENT;
3018:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.chip_cfg.compass_addr, AKM_REG_CNTL, 1, tmp + 8))
3019:DMP/driver/eMPL/inv_mpu.c ****     return -1;
3020:DMP/driver/eMPL/inv_mpu.c **** #else
3021:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_read(st.hw->addr, st.reg->raw_compass, 8, tmp))
 10467              		.loc 1 3021 3 is_stmt 1 view .LVU3049
 10468              		.loc 1 3021 18 is_stmt 0 view .LVU3050
 10469 0010 274B     		ldr	r3, .L814
 10470 0012 5868     		ldr	r0, [r3, #4]
 10471              	.LVL763:
 10472              		.loc 1 3021 31 view .LVU3051
 10473 0014 1968     		ldr	r1, [r3]
 10474              	.LVL764:
 10475              		.loc 1 3021 7 view .LVU3052
 10476 0016 01AB     		add	r3, sp, #4
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 282


 10477 0018 0822     		movs	r2, #8
 10478 001a 91F82810 		ldrb	r1, [r1, #40]	@ zero_extendqisi2
 10479 001e 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 10480 0020 FFF7FEFF 		bl	MPU_Read_Len
 10481              	.LVL765:
 10482              		.loc 1 3021 6 view .LVU3053
 10483 0024 0028     		cmp	r0, #0
 10484 0026 3AD1     		bne	.L807
3022:DMP/driver/eMPL/inv_mpu.c ****     return -1;
3023:DMP/driver/eMPL/inv_mpu.c **** #endif
3024:DMP/driver/eMPL/inv_mpu.c **** 
3025:DMP/driver/eMPL/inv_mpu.c **** #if defined AK8975_SECONDARY
3026:DMP/driver/eMPL/inv_mpu.c ****   /* AK8975 doesn't have the overrun error bit. */
3027:DMP/driver/eMPL/inv_mpu.c ****   if (!(tmp[0] & AKM_DATA_READY))
3028:DMP/driver/eMPL/inv_mpu.c ****     return -2;
3029:DMP/driver/eMPL/inv_mpu.c ****   if ((tmp[7] & AKM_OVERFLOW) || (tmp[7] & AKM_DATA_ERROR))
3030:DMP/driver/eMPL/inv_mpu.c ****     return -3;
3031:DMP/driver/eMPL/inv_mpu.c **** #elif defined AK8963_SECONDARY
3032:DMP/driver/eMPL/inv_mpu.c ****   /* AK8963 doesn't have the data read error bit. */
3033:DMP/driver/eMPL/inv_mpu.c ****   if (!(tmp[0] & AKM_DATA_READY) || (tmp[0] & AKM_DATA_OVERRUN))
 10485              		.loc 1 3033 3 is_stmt 1 view .LVU3054
 10486              		.loc 1 3033 12 is_stmt 0 view .LVU3055
 10487 0028 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 10488              		.loc 1 3033 6 view .LVU3056
 10489 002c 03F00303 		and	r3, r3, #3
 10490 0030 012B     		cmp	r3, #1
 10491 0032 37D1     		bne	.L808
3034:DMP/driver/eMPL/inv_mpu.c ****     return -2;
3035:DMP/driver/eMPL/inv_mpu.c ****   if (tmp[7] & AKM_OVERFLOW)
 10492              		.loc 1 3035 3 is_stmt 1 view .LVU3057
 10493              		.loc 1 3035 7 is_stmt 0 view .LVU3058
 10494 0034 9DF90B30 		ldrsb	r3, [sp, #11]
 10495              		.loc 1 3035 6 view .LVU3059
 10496 0038 002B     		cmp	r3, #0
 10497 003a 36DB     		blt	.L809
3036:DMP/driver/eMPL/inv_mpu.c ****     return -3;
3037:DMP/driver/eMPL/inv_mpu.c **** #endif
3038:DMP/driver/eMPL/inv_mpu.c ****   data[0] = (tmp[2] << 8) | tmp[1];
 10498              		.loc 1 3038 3 is_stmt 1 view .LVU3060
 10499              		.loc 1 3038 17 is_stmt 0 view .LVU3061
 10500 003c 9DF80630 		ldrb	r3, [sp, #6]	@ zero_extendqisi2
 10501              		.loc 1 3038 32 view .LVU3062
 10502 0040 9DF80510 		ldrb	r1, [sp, #5]	@ zero_extendqisi2
 10503              		.loc 1 3038 27 view .LVU3063
 10504 0044 41EA0321 		orr	r1, r1, r3, lsl #8
 10505 0048 09B2     		sxth	r1, r1
 10506              		.loc 1 3038 11 view .LVU3064
 10507 004a 2180     		strh	r1, [r4]	@ movhi
3039:DMP/driver/eMPL/inv_mpu.c ****   data[1] = (tmp[4] << 8) | tmp[3];
 10508              		.loc 1 3039 3 is_stmt 1 view .LVU3065
 10509              		.loc 1 3039 17 is_stmt 0 view .LVU3066
 10510 004c 9DF80830 		ldrb	r3, [sp, #8]	@ zero_extendqisi2
 10511              		.loc 1 3039 32 view .LVU3067
 10512 0050 9DF80720 		ldrb	r2, [sp, #7]	@ zero_extendqisi2
 10513              		.loc 1 3039 27 view .LVU3068
 10514 0054 42EA0322 		orr	r2, r2, r3, lsl #8
 10515 0058 12B2     		sxth	r2, r2
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 283


 10516              		.loc 1 3039 11 view .LVU3069
 10517 005a 6280     		strh	r2, [r4, #2]	@ movhi
3040:DMP/driver/eMPL/inv_mpu.c ****   data[2] = (tmp[6] << 8) | tmp[5];
 10518              		.loc 1 3040 3 is_stmt 1 view .LVU3070
 10519              		.loc 1 3040 17 is_stmt 0 view .LVU3071
 10520 005c 9DF80A00 		ldrb	r0, [sp, #10]	@ zero_extendqisi2
 10521              		.loc 1 3040 32 view .LVU3072
 10522 0060 9DF80930 		ldrb	r3, [sp, #9]	@ zero_extendqisi2
 10523              		.loc 1 3040 27 view .LVU3073
 10524 0064 43EA0023 		orr	r3, r3, r0, lsl #8
 10525 0068 1BB2     		sxth	r3, r3
 10526              		.loc 1 3040 11 view .LVU3074
 10527 006a A380     		strh	r3, [r4, #4]	@ movhi
3041:DMP/driver/eMPL/inv_mpu.c **** 
3042:DMP/driver/eMPL/inv_mpu.c ****   data[0] = ((long)data[0] * st.chip_cfg.mag_sens_adj[0]) >> 8;
 10528              		.loc 1 3042 3 is_stmt 1 view .LVU3075
 10529              		.loc 1 3042 54 is_stmt 0 view .LVU3076
 10530 006c 1048     		ldr	r0, .L814
 10531 006e B0F92CC0 		ldrsh	ip, [r0, #44]
 10532              		.loc 1 3042 28 view .LVU3077
 10533 0072 0CFB01F1 		mul	r1, ip, r1
 10534              		.loc 1 3042 59 view .LVU3078
 10535 0076 0912     		asrs	r1, r1, #8
 10536              		.loc 1 3042 11 view .LVU3079
 10537 0078 2180     		strh	r1, [r4]	@ movhi
3043:DMP/driver/eMPL/inv_mpu.c ****   data[1] = ((long)data[1] * st.chip_cfg.mag_sens_adj[1]) >> 8;
 10538              		.loc 1 3043 3 is_stmt 1 view .LVU3080
 10539              		.loc 1 3043 54 is_stmt 0 view .LVU3081
 10540 007a B0F92E10 		ldrsh	r1, [r0, #46]
 10541              		.loc 1 3043 28 view .LVU3082
 10542 007e 01FB02F2 		mul	r2, r1, r2
 10543              		.loc 1 3043 59 view .LVU3083
 10544 0082 1212     		asrs	r2, r2, #8
 10545              		.loc 1 3043 11 view .LVU3084
 10546 0084 6280     		strh	r2, [r4, #2]	@ movhi
3044:DMP/driver/eMPL/inv_mpu.c ****   data[2] = ((long)data[2] * st.chip_cfg.mag_sens_adj[2]) >> 8;
 10547              		.loc 1 3044 3 is_stmt 1 view .LVU3085
 10548              		.loc 1 3044 54 is_stmt 0 view .LVU3086
 10549 0086 B0F93020 		ldrsh	r2, [r0, #48]
 10550              		.loc 1 3044 28 view .LVU3087
 10551 008a 02FB03F3 		mul	r3, r2, r3
 10552              		.loc 1 3044 59 view .LVU3088
 10553 008e 1B12     		asrs	r3, r3, #8
 10554              		.loc 1 3044 11 view .LVU3089
 10555 0090 A380     		strh	r3, [r4, #4]	@ movhi
3045:DMP/driver/eMPL/inv_mpu.c **** 
3046:DMP/driver/eMPL/inv_mpu.c ****   if (timestamp)
 10556              		.loc 1 3046 3 is_stmt 1 view .LVU3090
3047:DMP/driver/eMPL/inv_mpu.c ****     get_ms(timestamp);
3048:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 10557              		.loc 1 3048 10 is_stmt 0 view .LVU3091
 10558 0092 0020     		movs	r0, #0
 10559              	.L804:
3049:DMP/driver/eMPL/inv_mpu.c **** #else
3050:DMP/driver/eMPL/inv_mpu.c ****   return -1;
3051:DMP/driver/eMPL/inv_mpu.c **** #endif
3052:DMP/driver/eMPL/inv_mpu.c **** }
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 284


 10560              		.loc 1 3052 1 view .LVU3092
 10561 0094 04B0     		add	sp, sp, #16
 10562              	.LCFI189:
 10563              		.cfi_def_cfa_offset 8
 10564              		@ sp needed
 10565 0096 10BD     		pop	{r4, pc}
 10566              	.LVL766:
 10567              	.L806:
 10568              	.LCFI190:
 10569              		.cfi_def_cfa_offset 0
 10570              		.cfi_restore 4
 10571              		.cfi_restore 14
3012:DMP/driver/eMPL/inv_mpu.c **** 
 10572              		.loc 1 3012 12 view .LVU3093
 10573 0098 4FF0FF30 		mov	r0, #-1
 10574              	.LVL767:
 10575              		.loc 1 3052 1 view .LVU3094
 10576 009c 7047     		bx	lr
 10577              	.LVL768:
 10578              	.L807:
 10579              	.LCFI191:
 10580              		.cfi_def_cfa_offset 24
 10581              		.cfi_offset 4, -8
 10582              		.cfi_offset 14, -4
3022:DMP/driver/eMPL/inv_mpu.c **** #endif
 10583              		.loc 1 3022 12 view .LVU3095
 10584 009e 4FF0FF30 		mov	r0, #-1
 10585 00a2 F7E7     		b	.L804
 10586              	.L808:
3034:DMP/driver/eMPL/inv_mpu.c ****   if (tmp[7] & AKM_OVERFLOW)
 10587              		.loc 1 3034 12 view .LVU3096
 10588 00a4 6FF00100 		mvn	r0, #1
 10589 00a8 F4E7     		b	.L804
 10590              	.L809:
3036:DMP/driver/eMPL/inv_mpu.c **** #endif
 10591              		.loc 1 3036 12 view .LVU3097
 10592 00aa 6FF00200 		mvn	r0, #2
 10593 00ae F1E7     		b	.L804
 10594              	.L815:
 10595              		.align	2
 10596              	.L814:
 10597 00b0 00000000 		.word	st
 10598              		.cfi_endproc
 10599              	.LFE219:
 10601              		.section	.text.mpu_get_compass_fsr,"ax",%progbits
 10602              		.align	1
 10603              		.global	mpu_get_compass_fsr
 10604              		.syntax unified
 10605              		.thumb
 10606              		.thumb_func
 10608              	mpu_get_compass_fsr:
 10609              	.LVL769:
 10610              	.LFB220:
3053:DMP/driver/eMPL/inv_mpu.c **** 
3054:DMP/driver/eMPL/inv_mpu.c **** /**
3055:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Get the compass full-scale range.
3056:DMP/driver/eMPL/inv_mpu.c ****  *  @param[out] fsr Current full-scale range.
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 285


3057:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
3058:DMP/driver/eMPL/inv_mpu.c ****  */
3059:DMP/driver/eMPL/inv_mpu.c **** int mpu_get_compass_fsr(unsigned short *fsr) {
 10611              		.loc 1 3059 46 is_stmt 1 view -0
 10612              		.cfi_startproc
 10613              		@ args = 0, pretend = 0, frame = 0
 10614              		@ frame_needed = 0, uses_anonymous_args = 0
 10615              		@ link register save eliminated.
3060:DMP/driver/eMPL/inv_mpu.c **** #ifdef AK89xx_SECONDARY
3061:DMP/driver/eMPL/inv_mpu.c ****   fsr[0] = st.hw->compass_fsr;
 10616              		.loc 1 3061 3 view .LVU3099
 10617              		.loc 1 3061 14 is_stmt 0 view .LVU3100
 10618 0000 024B     		ldr	r3, .L817
 10619 0002 5B68     		ldr	r3, [r3, #4]
 10620              		.loc 1 3061 17 view .LVU3101
 10621 0004 9B89     		ldrh	r3, [r3, #12]
 10622              		.loc 1 3061 10 view .LVU3102
 10623 0006 0380     		strh	r3, [r0]	@ movhi
3062:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 10624              		.loc 1 3062 3 is_stmt 1 view .LVU3103
3063:DMP/driver/eMPL/inv_mpu.c **** #else
3064:DMP/driver/eMPL/inv_mpu.c ****   return -1;
3065:DMP/driver/eMPL/inv_mpu.c **** #endif
3066:DMP/driver/eMPL/inv_mpu.c **** }
 10625              		.loc 1 3066 1 is_stmt 0 view .LVU3104
 10626 0008 0020     		movs	r0, #0
 10627              	.LVL770:
 10628              		.loc 1 3066 1 view .LVU3105
 10629 000a 7047     		bx	lr
 10630              	.L818:
 10631              		.align	2
 10632              	.L817:
 10633 000c 00000000 		.word	st
 10634              		.cfi_endproc
 10635              	.LFE220:
 10637              		.section	.text.mpu_lp_motion_interrupt,"ax",%progbits
 10638              		.align	1
 10639              		.global	mpu_lp_motion_interrupt
 10640              		.syntax unified
 10641              		.thumb
 10642              		.thumb_func
 10644              	mpu_lp_motion_interrupt:
 10645              	.LVL771:
 10646              	.LFB221:
3067:DMP/driver/eMPL/inv_mpu.c **** 
3068:DMP/driver/eMPL/inv_mpu.c **** /**
3069:DMP/driver/eMPL/inv_mpu.c ****  *  @brief      Enters LP accel motion interrupt mode.
3070:DMP/driver/eMPL/inv_mpu.c ****  *  The behaviour of this feature is very different between the MPU6050 and the
3071:DMP/driver/eMPL/inv_mpu.c ****  *  MPU6500. Each chip's version of this feature is explained below.
3072:DMP/driver/eMPL/inv_mpu.c ****  *
3073:DMP/driver/eMPL/inv_mpu.c ****  *  \n The hardware motion threshold can be between 32mg and 8160mg in 32mg
3074:DMP/driver/eMPL/inv_mpu.c ****  *  increments.
3075:DMP/driver/eMPL/inv_mpu.c ****  *
3076:DMP/driver/eMPL/inv_mpu.c ****  *  \n Low-power accel mode supports the following frequencies:
3077:DMP/driver/eMPL/inv_mpu.c ****  *  \n 1.25Hz, 5Hz, 20Hz, 40Hz
3078:DMP/driver/eMPL/inv_mpu.c ****  *
3079:DMP/driver/eMPL/inv_mpu.c ****  *  \n MPU6500:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 286


3080:DMP/driver/eMPL/inv_mpu.c ****  *  \n Unlike the MPU6050 version, the hardware does not "lock in" a reference
3081:DMP/driver/eMPL/inv_mpu.c ****  *  sample. The hardware monitors the accel data and detects any large change
3082:DMP/driver/eMPL/inv_mpu.c ****  *  over a short period of time.
3083:DMP/driver/eMPL/inv_mpu.c ****  *
3084:DMP/driver/eMPL/inv_mpu.c ****  *  \n The hardware motion threshold can be between 4mg and 1020mg in 4mg
3085:DMP/driver/eMPL/inv_mpu.c ****  *  increments.
3086:DMP/driver/eMPL/inv_mpu.c ****  *
3087:DMP/driver/eMPL/inv_mpu.c ****  *  \n MPU6500 Low-power accel mode supports the following frequencies:
3088:DMP/driver/eMPL/inv_mpu.c ****  *  \n 1.25Hz, 2.5Hz, 5Hz, 10Hz, 20Hz, 40Hz, 80Hz, 160Hz, 320Hz, 640Hz
3089:DMP/driver/eMPL/inv_mpu.c ****  *
3090:DMP/driver/eMPL/inv_mpu.c ****  *  \n\n NOTES:
3091:DMP/driver/eMPL/inv_mpu.c ****  *  \n The driver will round down @e thresh to the nearest supported value if
3092:DMP/driver/eMPL/inv_mpu.c ****  *  an unsupported threshold is selected.
3093:DMP/driver/eMPL/inv_mpu.c ****  *  \n To select a fractional wake-up frequency, round down the value passed to
3094:DMP/driver/eMPL/inv_mpu.c ****  *  @e lpa_freq.
3095:DMP/driver/eMPL/inv_mpu.c ****  *  \n The MPU6500 does not support a delay parameter. If this function is used
3096:DMP/driver/eMPL/inv_mpu.c ****  *  for the MPU6500, the value passed to @e time will be ignored.
3097:DMP/driver/eMPL/inv_mpu.c ****  *  \n To disable this mode, set @e lpa_freq to zero. The driver will restore
3098:DMP/driver/eMPL/inv_mpu.c ****  *  the previous configuration.
3099:DMP/driver/eMPL/inv_mpu.c ****  *
3100:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  thresh      Motion threshold in mg.
3101:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  time        Duration in milliseconds that the accel data must
3102:DMP/driver/eMPL/inv_mpu.c ****  *                          exceed @e thresh before motion is reported.
3103:DMP/driver/eMPL/inv_mpu.c ****  *  @param[in]  lpa_freq    Minimum sampling rate, or zero to disable.
3104:DMP/driver/eMPL/inv_mpu.c ****  *  @return     0 if successful.
3105:DMP/driver/eMPL/inv_mpu.c ****  */
3106:DMP/driver/eMPL/inv_mpu.c **** int mpu_lp_motion_interrupt(unsigned short thresh, unsigned char time,
3107:DMP/driver/eMPL/inv_mpu.c ****                             unsigned short lpa_freq) {
 10647              		.loc 1 3107 54 is_stmt 1 view -0
 10648              		.cfi_startproc
 10649              		@ args = 0, pretend = 0, frame = 8
 10650              		@ frame_needed = 0, uses_anonymous_args = 0
 10651              		.loc 1 3107 54 is_stmt 0 view .LVU3107
 10652 0000 70B5     		push	{r4, r5, r6, lr}
 10653              	.LCFI192:
 10654              		.cfi_def_cfa_offset 16
 10655              		.cfi_offset 4, -16
 10656              		.cfi_offset 5, -12
 10657              		.cfi_offset 6, -8
 10658              		.cfi_offset 14, -4
 10659 0002 82B0     		sub	sp, sp, #8
 10660              	.LCFI193:
 10661              		.cfi_def_cfa_offset 24
3108:DMP/driver/eMPL/inv_mpu.c **** 
3109:DMP/driver/eMPL/inv_mpu.c **** #if defined MPU6500
3110:DMP/driver/eMPL/inv_mpu.c ****   unsigned char data[3];
 10662              		.loc 1 3110 3 is_stmt 1 view .LVU3108
3111:DMP/driver/eMPL/inv_mpu.c **** #endif
3112:DMP/driver/eMPL/inv_mpu.c ****   if (lpa_freq) {
 10663              		.loc 1 3112 3 view .LVU3109
 10664              		.loc 1 3112 6 is_stmt 0 view .LVU3110
 10665 0004 002A     		cmp	r2, #0
 10666 0006 00F0D080 		beq	.L841
 10667 000a 1546     		mov	r5, r2
 10668              	.LBB6:
3113:DMP/driver/eMPL/inv_mpu.c **** #if defined MPU6500
3114:DMP/driver/eMPL/inv_mpu.c ****     unsigned char thresh_hw;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 287


 10669              		.loc 1 3114 5 is_stmt 1 view .LVU3111
3115:DMP/driver/eMPL/inv_mpu.c **** 
3116:DMP/driver/eMPL/inv_mpu.c ****     /* 1LSb = 4mg. */
3117:DMP/driver/eMPL/inv_mpu.c ****     if (thresh > 1020)
 10670              		.loc 1 3117 5 view .LVU3112
 10671              		.loc 1 3117 8 is_stmt 0 view .LVU3113
 10672 000c B0F57F7F 		cmp	r0, #1020
 10673 0010 04D8     		bhi	.L842
3118:DMP/driver/eMPL/inv_mpu.c ****       thresh_hw = 255;
3119:DMP/driver/eMPL/inv_mpu.c ****     else if (thresh < 4)
 10674              		.loc 1 3119 10 is_stmt 1 view .LVU3114
 10675              		.loc 1 3119 13 is_stmt 0 view .LVU3115
 10676 0012 0328     		cmp	r0, #3
 10677 0014 56D9     		bls	.L843
3120:DMP/driver/eMPL/inv_mpu.c ****       thresh_hw = 1;
3121:DMP/driver/eMPL/inv_mpu.c ****     else
3122:DMP/driver/eMPL/inv_mpu.c ****       thresh_hw = thresh >> 2;
 10678              		.loc 1 3122 7 is_stmt 1 view .LVU3116
 10679              		.loc 1 3122 17 is_stmt 0 view .LVU3117
 10680 0016 C0F38704 		ubfx	r4, r0, #2, #8
 10681              	.LVL772:
 10682              		.loc 1 3122 17 view .LVU3118
 10683 001a 00E0     		b	.L821
 10684              	.LVL773:
 10685              	.L842:
3118:DMP/driver/eMPL/inv_mpu.c ****       thresh_hw = 255;
 10686              		.loc 1 3118 17 view .LVU3119
 10687 001c FF24     		movs	r4, #255
 10688              	.L821:
 10689              	.LVL774:
3123:DMP/driver/eMPL/inv_mpu.c **** #endif
3124:DMP/driver/eMPL/inv_mpu.c **** 
3125:DMP/driver/eMPL/inv_mpu.c ****     if (!time)
 10690              		.loc 1 3125 5 is_stmt 1 view .LVU3120
3126:DMP/driver/eMPL/inv_mpu.c ****       /* Minimum duration must be 1ms. */
3127:DMP/driver/eMPL/inv_mpu.c ****       time = 1;
3128:DMP/driver/eMPL/inv_mpu.c **** 
3129:DMP/driver/eMPL/inv_mpu.c **** #if defined MPU6500
3130:DMP/driver/eMPL/inv_mpu.c ****     if (lpa_freq > 640)
 10691              		.loc 1 3130 5 view .LVU3121
 10692              		.loc 1 3130 8 is_stmt 0 view .LVU3122
 10693 001e B5F5207F 		cmp	r5, #640
 10694 0022 00F20481 		bhi	.L844
3131:DMP/driver/eMPL/inv_mpu.c ****       /* At this point, the chip has not been re-configured, so the
3132:DMP/driver/eMPL/inv_mpu.c ****        * function can safely exit.
3133:DMP/driver/eMPL/inv_mpu.c ****        */
3134:DMP/driver/eMPL/inv_mpu.c ****       return -1;
3135:DMP/driver/eMPL/inv_mpu.c **** #endif
3136:DMP/driver/eMPL/inv_mpu.c **** 
3137:DMP/driver/eMPL/inv_mpu.c ****     if (!st.chip_cfg.int_motion_only) {
 10695              		.loc 1 3137 5 is_stmt 1 view .LVU3123
 10696              		.loc 1 3137 21 is_stmt 0 view .LVU3124
 10697 0026 834B     		ldr	r3, .L851
 10698 0028 5B7D     		ldrb	r3, [r3, #21]	@ zero_extendqisi2
 10699              		.loc 1 3137 8 view .LVU3125
 10700 002a E3B9     		cbnz	r3, .L823
3138:DMP/driver/eMPL/inv_mpu.c ****       /* Store current settings for later. */
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 288


3139:DMP/driver/eMPL/inv_mpu.c ****       if (st.chip_cfg.dmp_on) {
 10701              		.loc 1 3139 7 is_stmt 1 view .LVU3126
 10702              		.loc 1 3139 22 is_stmt 0 view .LVU3127
 10703 002c 814B     		ldr	r3, .L851
 10704 002e 93F82430 		ldrb	r3, [r3, #36]	@ zero_extendqisi2
 10705              		.loc 1 3139 10 view .LVU3128
 10706 0032 002B     		cmp	r3, #0
 10707 0034 48D1     		bne	.L846
3140:DMP/driver/eMPL/inv_mpu.c ****         mpu_set_dmp_state(0);
3141:DMP/driver/eMPL/inv_mpu.c ****         st.chip_cfg.cache.dmp_on = 1;
3142:DMP/driver/eMPL/inv_mpu.c ****       } else
3143:DMP/driver/eMPL/inv_mpu.c ****         st.chip_cfg.cache.dmp_on = 0;
 10708              		.loc 1 3143 9 is_stmt 1 view .LVU3129
 10709              		.loc 1 3143 34 is_stmt 0 view .LVU3130
 10710 0036 7F4B     		ldr	r3, .L851
 10711 0038 0022     		movs	r2, #0
 10712              	.LVL775:
 10713              		.loc 1 3143 34 view .LVU3131
 10714 003a 83F82020 		strb	r2, [r3, #32]
 10715              	.LVL776:
 10716              	.L825:
3144:DMP/driver/eMPL/inv_mpu.c ****       mpu_get_gyro_fsr(&st.chip_cfg.cache.gyro_fsr);
 10717              		.loc 1 3144 7 is_stmt 1 view .LVU3132
 10718 003e 7E4E     		ldr	r6, .L851+4
 10719 0040 3046     		mov	r0, r6
 10720 0042 FFF7FEFF 		bl	mpu_get_gyro_fsr
 10721              	.LVL777:
3145:DMP/driver/eMPL/inv_mpu.c ****       mpu_get_accel_fsr(&st.chip_cfg.cache.accel_fsr);
 10722              		.loc 1 3145 7 view .LVU3133
 10723 0046 B01C     		adds	r0, r6, #2
 10724 0048 FFF7FEFF 		bl	mpu_get_accel_fsr
 10725              	.LVL778:
3146:DMP/driver/eMPL/inv_mpu.c ****       mpu_get_lpf(&st.chip_cfg.cache.lpf);
 10726              		.loc 1 3146 7 view .LVU3134
 10727 004c 301D     		adds	r0, r6, #4
 10728 004e FFF7FEFF 		bl	mpu_get_lpf
 10729              	.LVL779:
3147:DMP/driver/eMPL/inv_mpu.c ****       mpu_get_sample_rate(&st.chip_cfg.cache.sample_rate);
 10730              		.loc 1 3147 7 view .LVU3135
 10731 0052 B01D     		adds	r0, r6, #6
 10732 0054 FFF7FEFF 		bl	mpu_get_sample_rate
 10733              	.LVL780:
3148:DMP/driver/eMPL/inv_mpu.c ****       st.chip_cfg.cache.sensors_on = st.chip_cfg.sensors;
 10734              		.loc 1 3148 7 view .LVU3136
 10735              		.loc 1 3148 49 is_stmt 0 view .LVU3137
 10736 0058 16F80C3C 		ldrb	r3, [r6, #-12]	@ zero_extendqisi2
 10737              		.loc 1 3148 36 view .LVU3138
 10738 005c 3372     		strb	r3, [r6, #8]
3149:DMP/driver/eMPL/inv_mpu.c ****       mpu_get_fifo_config(&st.chip_cfg.cache.fifo_sensors);
 10739              		.loc 1 3149 7 is_stmt 1 view .LVU3139
 10740 005e 06F10900 		add	r0, r6, #9
 10741 0062 FFF7FEFF 		bl	mpu_get_fifo_config
 10742              	.LVL781:
 10743              	.L823:
3150:DMP/driver/eMPL/inv_mpu.c ****     }
3151:DMP/driver/eMPL/inv_mpu.c **** 
3152:DMP/driver/eMPL/inv_mpu.c **** #if defined MPU6500
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 289


3153:DMP/driver/eMPL/inv_mpu.c ****     /* Disable hardware interrupts. */
3154:DMP/driver/eMPL/inv_mpu.c ****     set_int_enable(0);
 10744              		.loc 1 3154 5 view .LVU3140
 10745 0066 0020     		movs	r0, #0
 10746 0068 FFF7FEFF 		bl	set_int_enable
 10747              	.LVL782:
3155:DMP/driver/eMPL/inv_mpu.c **** 
3156:DMP/driver/eMPL/inv_mpu.c ****     /* Enter full-power accel-only mode, no FIFO/DMP. */
3157:DMP/driver/eMPL/inv_mpu.c ****     data[0] = 0;
 10748              		.loc 1 3157 5 view .LVU3141
 10749              		.loc 1 3157 13 is_stmt 0 view .LVU3142
 10750 006c 0023     		movs	r3, #0
 10751 006e 8DF80430 		strb	r3, [sp, #4]
3158:DMP/driver/eMPL/inv_mpu.c ****     data[1] = 0;
 10752              		.loc 1 3158 5 is_stmt 1 view .LVU3143
 10753              		.loc 1 3158 13 is_stmt 0 view .LVU3144
 10754 0072 8DF80530 		strb	r3, [sp, #5]
3159:DMP/driver/eMPL/inv_mpu.c ****     data[2] = BIT_STBY_XYZG;
 10755              		.loc 1 3159 5 is_stmt 1 view .LVU3145
 10756              		.loc 1 3159 13 is_stmt 0 view .LVU3146
 10757 0076 0723     		movs	r3, #7
 10758 0078 8DF80630 		strb	r3, [sp, #6]
3160:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->user_ctrl, 3, data))
 10759              		.loc 1 3160 5 is_stmt 1 view .LVU3147
 10760              		.loc 1 3160 21 is_stmt 0 view .LVU3148
 10761 007c 6D4B     		ldr	r3, .L851
 10762 007e 5868     		ldr	r0, [r3, #4]
 10763              		.loc 1 3160 34 view .LVU3149
 10764 0080 1968     		ldr	r1, [r3]
 10765              		.loc 1 3160 9 view .LVU3150
 10766 0082 01AB     		add	r3, sp, #4
 10767 0084 0322     		movs	r2, #3
 10768 0086 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 10769 0088 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 10770 008a FFF7FEFF 		bl	MPU_Write_Len
 10771              	.LVL783:
 10772              		.loc 1 3160 8 view .LVU3151
 10773 008e 0028     		cmp	r0, #0
 10774 0090 40F0A380 		bne	.L838
3161:DMP/driver/eMPL/inv_mpu.c ****       goto lp_int_restore;
3162:DMP/driver/eMPL/inv_mpu.c **** 
3163:DMP/driver/eMPL/inv_mpu.c ****     /* Set motion threshold. */
3164:DMP/driver/eMPL/inv_mpu.c ****     data[0] = thresh_hw;
 10775              		.loc 1 3164 5 is_stmt 1 view .LVU3152
 10776              		.loc 1 3164 13 is_stmt 0 view .LVU3153
 10777 0094 8DF80440 		strb	r4, [sp, #4]
3165:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->motion_thr, 1, data))
 10778              		.loc 1 3165 5 is_stmt 1 view .LVU3154
 10779              		.loc 1 3165 21 is_stmt 0 view .LVU3155
 10780 0098 664B     		ldr	r3, .L851
 10781 009a 5868     		ldr	r0, [r3, #4]
 10782              		.loc 1 3165 34 view .LVU3156
 10783 009c 1968     		ldr	r1, [r3]
 10784              		.loc 1 3165 9 view .LVU3157
 10785 009e 01AB     		add	r3, sp, #4
 10786 00a0 0122     		movs	r2, #1
 10787 00a2 897A     		ldrb	r1, [r1, #10]	@ zero_extendqisi2
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 290


 10788 00a4 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 10789 00a6 FFF7FEFF 		bl	MPU_Write_Len
 10790              	.LVL784:
 10791              		.loc 1 3165 8 view .LVU3158
 10792 00aa 0028     		cmp	r0, #0
 10793 00ac 40F09580 		bne	.L838
3166:DMP/driver/eMPL/inv_mpu.c ****       goto lp_int_restore;
3167:DMP/driver/eMPL/inv_mpu.c **** 
3168:DMP/driver/eMPL/inv_mpu.c ****     /* Set wake frequency. */
3169:DMP/driver/eMPL/inv_mpu.c ****     if (lpa_freq == 1)
 10794              		.loc 1 3169 5 is_stmt 1 view .LVU3159
 10795              		.loc 1 3169 8 is_stmt 0 view .LVU3160
 10796 00b0 012D     		cmp	r5, #1
 10797 00b2 11D0     		beq	.L847
3170:DMP/driver/eMPL/inv_mpu.c ****       data[0] = INV_LPA_1_25HZ;
3171:DMP/driver/eMPL/inv_mpu.c ****     else if (lpa_freq == 2)
 10798              		.loc 1 3171 10 is_stmt 1 view .LVU3161
 10799              		.loc 1 3171 13 is_stmt 0 view .LVU3162
 10800 00b4 022D     		cmp	r5, #2
 10801 00b6 4BD0     		beq	.L848
3172:DMP/driver/eMPL/inv_mpu.c ****       data[0] = INV_LPA_2_5HZ;
3173:DMP/driver/eMPL/inv_mpu.c ****     else if (lpa_freq <= 5)
 10802              		.loc 1 3173 10 is_stmt 1 view .LVU3163
 10803              		.loc 1 3173 13 is_stmt 0 view .LVU3164
 10804 00b8 052D     		cmp	r5, #5
 10805 00ba 4DD8     		bhi	.L830
3174:DMP/driver/eMPL/inv_mpu.c ****       data[0] = INV_LPA_5HZ;
 10806              		.loc 1 3174 7 is_stmt 1 view .LVU3165
 10807              		.loc 1 3174 15 is_stmt 0 view .LVU3166
 10808 00bc 0423     		movs	r3, #4
 10809 00be 8DF80430 		strb	r3, [sp, #4]
 10810 00c2 0CE0     		b	.L828
 10811              	.LVL785:
 10812              	.L843:
3120:DMP/driver/eMPL/inv_mpu.c ****     else
 10813              		.loc 1 3120 17 view .LVU3167
 10814 00c4 0124     		movs	r4, #1
 10815 00c6 AAE7     		b	.L821
 10816              	.LVL786:
 10817              	.L846:
3140:DMP/driver/eMPL/inv_mpu.c ****         st.chip_cfg.cache.dmp_on = 1;
 10818              		.loc 1 3140 9 is_stmt 1 view .LVU3168
 10819 00c8 0020     		movs	r0, #0
 10820              	.LVL787:
3140:DMP/driver/eMPL/inv_mpu.c ****         st.chip_cfg.cache.dmp_on = 1;
 10821              		.loc 1 3140 9 is_stmt 0 view .LVU3169
 10822 00ca FFF7FEFF 		bl	mpu_set_dmp_state
 10823              	.LVL788:
3141:DMP/driver/eMPL/inv_mpu.c ****       } else
 10824              		.loc 1 3141 9 is_stmt 1 view .LVU3170
3141:DMP/driver/eMPL/inv_mpu.c ****       } else
 10825              		.loc 1 3141 34 is_stmt 0 view .LVU3171
 10826 00ce 594B     		ldr	r3, .L851
 10827 00d0 0122     		movs	r2, #1
 10828 00d2 83F82020 		strb	r2, [r3, #32]
 10829 00d6 B2E7     		b	.L825
 10830              	.L847:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 291


3170:DMP/driver/eMPL/inv_mpu.c ****     else if (lpa_freq == 2)
 10831              		.loc 1 3170 7 is_stmt 1 view .LVU3172
3170:DMP/driver/eMPL/inv_mpu.c ****     else if (lpa_freq == 2)
 10832              		.loc 1 3170 15 is_stmt 0 view .LVU3173
 10833 00d8 0223     		movs	r3, #2
 10834 00da 8DF80430 		strb	r3, [sp, #4]
 10835              	.L828:
3175:DMP/driver/eMPL/inv_mpu.c ****     else if (lpa_freq <= 10)
3176:DMP/driver/eMPL/inv_mpu.c ****       data[0] = INV_LPA_10HZ;
3177:DMP/driver/eMPL/inv_mpu.c ****     else if (lpa_freq <= 20)
3178:DMP/driver/eMPL/inv_mpu.c ****       data[0] = INV_LPA_20HZ;
3179:DMP/driver/eMPL/inv_mpu.c ****     else if (lpa_freq <= 40)
3180:DMP/driver/eMPL/inv_mpu.c ****       data[0] = INV_LPA_40HZ;
3181:DMP/driver/eMPL/inv_mpu.c ****     else if (lpa_freq <= 80)
3182:DMP/driver/eMPL/inv_mpu.c ****       data[0] = INV_LPA_80HZ;
3183:DMP/driver/eMPL/inv_mpu.c ****     else if (lpa_freq <= 160)
3184:DMP/driver/eMPL/inv_mpu.c ****       data[0] = INV_LPA_160HZ;
3185:DMP/driver/eMPL/inv_mpu.c ****     else if (lpa_freq <= 320)
3186:DMP/driver/eMPL/inv_mpu.c ****       data[0] = INV_LPA_320HZ;
3187:DMP/driver/eMPL/inv_mpu.c ****     else
3188:DMP/driver/eMPL/inv_mpu.c ****       data[0] = INV_LPA_640HZ;
3189:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->lp_accel_odr, 1, data))
 10836              		.loc 1 3189 5 is_stmt 1 view .LVU3174
 10837              		.loc 1 3189 21 is_stmt 0 view .LVU3175
 10838 00de 554B     		ldr	r3, .L851
 10839 00e0 5868     		ldr	r0, [r3, #4]
 10840              		.loc 1 3189 34 view .LVU3176
 10841 00e2 1968     		ldr	r1, [r3]
 10842              		.loc 1 3189 9 view .LVU3177
 10843 00e4 01AB     		add	r3, sp, #4
 10844 00e6 0122     		movs	r2, #1
 10845 00e8 497A     		ldrb	r1, [r1, #9]	@ zero_extendqisi2
 10846 00ea 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 10847 00ec FFF7FEFF 		bl	MPU_Write_Len
 10848              	.LVL789:
 10849              		.loc 1 3189 8 view .LVU3178
 10850 00f0 0028     		cmp	r0, #0
 10851 00f2 72D1     		bne	.L838
3190:DMP/driver/eMPL/inv_mpu.c ****       goto lp_int_restore;
3191:DMP/driver/eMPL/inv_mpu.c **** 
3192:DMP/driver/eMPL/inv_mpu.c ****     /* Enable motion interrupt (MPU6500 version). */
3193:DMP/driver/eMPL/inv_mpu.c ****     data[0] = BITS_WOM_EN;
 10852              		.loc 1 3193 5 is_stmt 1 view .LVU3179
 10853              		.loc 1 3193 13 is_stmt 0 view .LVU3180
 10854 00f4 C023     		movs	r3, #192
 10855 00f6 8DF80430 		strb	r3, [sp, #4]
3194:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->accel_intel, 1, data))
 10856              		.loc 1 3194 5 is_stmt 1 view .LVU3181
 10857              		.loc 1 3194 21 is_stmt 0 view .LVU3182
 10858 00fa 4E4B     		ldr	r3, .L851
 10859 00fc 5868     		ldr	r0, [r3, #4]
 10860              		.loc 1 3194 34 view .LVU3183
 10861 00fe 1968     		ldr	r1, [r3]
 10862              		.loc 1 3194 9 view .LVU3184
 10863 0100 01AB     		add	r3, sp, #4
 10864 0102 0122     		movs	r2, #1
 10865 0104 097D     		ldrb	r1, [r1, #20]	@ zero_extendqisi2
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 292


 10866 0106 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 10867 0108 FFF7FEFF 		bl	MPU_Write_Len
 10868              	.LVL790:
 10869              		.loc 1 3194 8 view .LVU3185
 10870 010c 0028     		cmp	r0, #0
 10871 010e 64D1     		bne	.L838
3195:DMP/driver/eMPL/inv_mpu.c ****       goto lp_int_restore;
3196:DMP/driver/eMPL/inv_mpu.c **** 
3197:DMP/driver/eMPL/inv_mpu.c ****     /* Enable cycle mode. */
3198:DMP/driver/eMPL/inv_mpu.c ****     data[0] = BIT_LPA_CYCLE;
 10872              		.loc 1 3198 5 is_stmt 1 view .LVU3186
 10873              		.loc 1 3198 13 is_stmt 0 view .LVU3187
 10874 0110 2023     		movs	r3, #32
 10875 0112 8DF80430 		strb	r3, [sp, #4]
3199:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->pwr_mgmt_1, 1, data))
 10876              		.loc 1 3199 5 is_stmt 1 view .LVU3188
 10877              		.loc 1 3199 21 is_stmt 0 view .LVU3189
 10878 0116 474B     		ldr	r3, .L851
 10879 0118 5868     		ldr	r0, [r3, #4]
 10880              		.loc 1 3199 34 view .LVU3190
 10881 011a 1968     		ldr	r1, [r3]
 10882              		.loc 1 3199 9 view .LVU3191
 10883 011c 01AB     		add	r3, sp, #4
 10884 011e 0122     		movs	r2, #1
 10885 0120 497D     		ldrb	r1, [r1, #21]	@ zero_extendqisi2
 10886 0122 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 10887 0124 FFF7FEFF 		bl	MPU_Write_Len
 10888              	.LVL791:
 10889              		.loc 1 3199 8 view .LVU3192
 10890 0128 0028     		cmp	r0, #0
 10891 012a 56D1     		bne	.L838
3200:DMP/driver/eMPL/inv_mpu.c ****       goto lp_int_restore;
3201:DMP/driver/eMPL/inv_mpu.c **** 
3202:DMP/driver/eMPL/inv_mpu.c ****     /* Enable interrupt. */
3203:DMP/driver/eMPL/inv_mpu.c ****     data[0] = BIT_MOT_INT_EN;
 10892              		.loc 1 3203 5 is_stmt 1 view .LVU3193
 10893              		.loc 1 3203 13 is_stmt 0 view .LVU3194
 10894 012c 4023     		movs	r3, #64
 10895 012e 8DF80430 		strb	r3, [sp, #4]
3204:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->int_enable, 1, data))
 10896              		.loc 1 3204 5 is_stmt 1 view .LVU3195
 10897              		.loc 1 3204 21 is_stmt 0 view .LVU3196
 10898 0132 404B     		ldr	r3, .L851
 10899 0134 5868     		ldr	r0, [r3, #4]
 10900              		.loc 1 3204 34 view .LVU3197
 10901 0136 1968     		ldr	r1, [r3]
 10902              		.loc 1 3204 9 view .LVU3198
 10903 0138 01AB     		add	r3, sp, #4
 10904 013a 0122     		movs	r2, #1
 10905 013c 497C     		ldrb	r1, [r1, #17]	@ zero_extendqisi2
 10906 013e 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 10907 0140 FFF7FEFF 		bl	MPU_Write_Len
 10908              	.LVL792:
 10909              		.loc 1 3204 8 view .LVU3199
 10910 0144 0028     		cmp	r0, #0
 10911 0146 48D1     		bne	.L838
3205:DMP/driver/eMPL/inv_mpu.c ****       goto lp_int_restore;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 293


3206:DMP/driver/eMPL/inv_mpu.c **** 
3207:DMP/driver/eMPL/inv_mpu.c ****     st.chip_cfg.int_motion_only = 1;
 10912              		.loc 1 3207 5 is_stmt 1 view .LVU3200
 10913              		.loc 1 3207 33 is_stmt 0 view .LVU3201
 10914 0148 3A4B     		ldr	r3, .L851
 10915 014a 0122     		movs	r2, #1
 10916 014c 5A75     		strb	r2, [r3, #21]
3208:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 10917              		.loc 1 3208 5 is_stmt 1 view .LVU3202
 10918              		.loc 1 3208 12 is_stmt 0 view .LVU3203
 10919 014e 6CE0     		b	.L819
 10920              	.L848:
3172:DMP/driver/eMPL/inv_mpu.c ****     else if (lpa_freq <= 5)
 10921              		.loc 1 3172 7 is_stmt 1 view .LVU3204
3172:DMP/driver/eMPL/inv_mpu.c ****     else if (lpa_freq <= 5)
 10922              		.loc 1 3172 15 is_stmt 0 view .LVU3205
 10923 0150 0323     		movs	r3, #3
 10924 0152 8DF80430 		strb	r3, [sp, #4]
 10925 0156 C2E7     		b	.L828
 10926              	.L830:
3175:DMP/driver/eMPL/inv_mpu.c ****       data[0] = INV_LPA_10HZ;
 10927              		.loc 1 3175 10 is_stmt 1 view .LVU3206
3175:DMP/driver/eMPL/inv_mpu.c ****       data[0] = INV_LPA_10HZ;
 10928              		.loc 1 3175 13 is_stmt 0 view .LVU3207
 10929 0158 0A2D     		cmp	r5, #10
 10930 015a 03D8     		bhi	.L831
3176:DMP/driver/eMPL/inv_mpu.c ****     else if (lpa_freq <= 20)
 10931              		.loc 1 3176 7 is_stmt 1 view .LVU3208
3176:DMP/driver/eMPL/inv_mpu.c ****     else if (lpa_freq <= 20)
 10932              		.loc 1 3176 15 is_stmt 0 view .LVU3209
 10933 015c 0523     		movs	r3, #5
 10934 015e 8DF80430 		strb	r3, [sp, #4]
 10935 0162 BCE7     		b	.L828
 10936              	.L831:
3177:DMP/driver/eMPL/inv_mpu.c ****       data[0] = INV_LPA_20HZ;
 10937              		.loc 1 3177 10 is_stmt 1 view .LVU3210
3177:DMP/driver/eMPL/inv_mpu.c ****       data[0] = INV_LPA_20HZ;
 10938              		.loc 1 3177 13 is_stmt 0 view .LVU3211
 10939 0164 142D     		cmp	r5, #20
 10940 0166 03D8     		bhi	.L832
3178:DMP/driver/eMPL/inv_mpu.c ****     else if (lpa_freq <= 40)
 10941              		.loc 1 3178 7 is_stmt 1 view .LVU3212
3178:DMP/driver/eMPL/inv_mpu.c ****     else if (lpa_freq <= 40)
 10942              		.loc 1 3178 15 is_stmt 0 view .LVU3213
 10943 0168 0623     		movs	r3, #6
 10944 016a 8DF80430 		strb	r3, [sp, #4]
 10945 016e B6E7     		b	.L828
 10946              	.L832:
3179:DMP/driver/eMPL/inv_mpu.c ****       data[0] = INV_LPA_40HZ;
 10947              		.loc 1 3179 10 is_stmt 1 view .LVU3214
3179:DMP/driver/eMPL/inv_mpu.c ****       data[0] = INV_LPA_40HZ;
 10948              		.loc 1 3179 13 is_stmt 0 view .LVU3215
 10949 0170 282D     		cmp	r5, #40
 10950 0172 03D8     		bhi	.L833
3180:DMP/driver/eMPL/inv_mpu.c ****     else if (lpa_freq <= 80)
 10951              		.loc 1 3180 7 is_stmt 1 view .LVU3216
3180:DMP/driver/eMPL/inv_mpu.c ****     else if (lpa_freq <= 80)
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 294


 10952              		.loc 1 3180 15 is_stmt 0 view .LVU3217
 10953 0174 0723     		movs	r3, #7
 10954 0176 8DF80430 		strb	r3, [sp, #4]
 10955 017a B0E7     		b	.L828
 10956              	.L833:
3181:DMP/driver/eMPL/inv_mpu.c ****       data[0] = INV_LPA_80HZ;
 10957              		.loc 1 3181 10 is_stmt 1 view .LVU3218
3181:DMP/driver/eMPL/inv_mpu.c ****       data[0] = INV_LPA_80HZ;
 10958              		.loc 1 3181 13 is_stmt 0 view .LVU3219
 10959 017c 502D     		cmp	r5, #80
 10960 017e 03D8     		bhi	.L834
3182:DMP/driver/eMPL/inv_mpu.c ****     else if (lpa_freq <= 160)
 10961              		.loc 1 3182 7 is_stmt 1 view .LVU3220
3182:DMP/driver/eMPL/inv_mpu.c ****     else if (lpa_freq <= 160)
 10962              		.loc 1 3182 15 is_stmt 0 view .LVU3221
 10963 0180 0823     		movs	r3, #8
 10964 0182 8DF80430 		strb	r3, [sp, #4]
 10965 0186 AAE7     		b	.L828
 10966              	.L834:
3183:DMP/driver/eMPL/inv_mpu.c ****       data[0] = INV_LPA_160HZ;
 10967              		.loc 1 3183 10 is_stmt 1 view .LVU3222
3183:DMP/driver/eMPL/inv_mpu.c ****       data[0] = INV_LPA_160HZ;
 10968              		.loc 1 3183 13 is_stmt 0 view .LVU3223
 10969 0188 A02D     		cmp	r5, #160
 10970 018a 03D8     		bhi	.L835
3184:DMP/driver/eMPL/inv_mpu.c ****     else if (lpa_freq <= 320)
 10971              		.loc 1 3184 7 is_stmt 1 view .LVU3224
3184:DMP/driver/eMPL/inv_mpu.c ****     else if (lpa_freq <= 320)
 10972              		.loc 1 3184 15 is_stmt 0 view .LVU3225
 10973 018c 0923     		movs	r3, #9
 10974 018e 8DF80430 		strb	r3, [sp, #4]
 10975 0192 A4E7     		b	.L828
 10976              	.L835:
3185:DMP/driver/eMPL/inv_mpu.c ****       data[0] = INV_LPA_320HZ;
 10977              		.loc 1 3185 10 is_stmt 1 view .LVU3226
3185:DMP/driver/eMPL/inv_mpu.c ****       data[0] = INV_LPA_320HZ;
 10978              		.loc 1 3185 13 is_stmt 0 view .LVU3227
 10979 0194 B5F5A07F 		cmp	r5, #320
 10980 0198 03D8     		bhi	.L836
3186:DMP/driver/eMPL/inv_mpu.c ****     else
 10981              		.loc 1 3186 7 is_stmt 1 view .LVU3228
3186:DMP/driver/eMPL/inv_mpu.c ****     else
 10982              		.loc 1 3186 15 is_stmt 0 view .LVU3229
 10983 019a 0A23     		movs	r3, #10
 10984 019c 8DF80430 		strb	r3, [sp, #4]
 10985 01a0 9DE7     		b	.L828
 10986              	.L836:
3188:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->lp_accel_odr, 1, data))
 10987              		.loc 1 3188 7 is_stmt 1 view .LVU3230
3188:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->lp_accel_odr, 1, data))
 10988              		.loc 1 3188 15 is_stmt 0 view .LVU3231
 10989 01a2 0B23     		movs	r3, #11
 10990 01a4 8DF80430 		strb	r3, [sp, #4]
 10991 01a8 99E7     		b	.L828
 10992              	.LVL793:
 10993              	.L841:
3188:DMP/driver/eMPL/inv_mpu.c ****     if (i2c_write(st.hw->addr, st.reg->lp_accel_odr, 1, data))
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 295


 10994              		.loc 1 3188 15 view .LVU3232
 10995              	.LBE6:
 10996              	.LBB7:
3209:DMP/driver/eMPL/inv_mpu.c **** #endif
3210:DMP/driver/eMPL/inv_mpu.c ****   } else {
3211:DMP/driver/eMPL/inv_mpu.c ****     /* Don't "restore" the previous state if no state has been saved. */
3212:DMP/driver/eMPL/inv_mpu.c ****     unsigned int ii;
3213:DMP/driver/eMPL/inv_mpu.c ****     char *cache_ptr = (char *)&st.chip_cfg.cache;
3214:DMP/driver/eMPL/inv_mpu.c ****     for (ii = 0; ii < sizeof(st.chip_cfg.cache); ii++) {
 10997              		.loc 1 3214 13 view .LVU3233
 10998 01aa 0023     		movs	r3, #0
 10999              	.LVL794:
 11000              	.L820:
 11001              		.loc 1 3214 21 is_stmt 1 discriminator 1 view .LVU3234
 11002 01ac 0B2B     		cmp	r3, #11
 11003 01ae 04D8     		bhi	.L849
3215:DMP/driver/eMPL/inv_mpu.c ****       if (cache_ptr[ii] != 0)
 11004              		.loc 1 3215 7 view .LVU3235
 11005              		.loc 1 3215 20 is_stmt 0 view .LVU3236
 11006 01b0 214A     		ldr	r2, .L851+4
 11007 01b2 D25C     		ldrb	r2, [r2, r3]	@ zero_extendqisi2
 11008              		.loc 1 3215 10 view .LVU3237
 11009 01b4 8AB9     		cbnz	r2, .L838
3214:DMP/driver/eMPL/inv_mpu.c ****       if (cache_ptr[ii] != 0)
 11010              		.loc 1 3214 52 is_stmt 1 discriminator 2 view .LVU3238
 11011 01b6 0133     		adds	r3, r3, #1
 11012              	.LVL795:
3214:DMP/driver/eMPL/inv_mpu.c ****       if (cache_ptr[ii] != 0)
 11013              		.loc 1 3214 52 is_stmt 0 discriminator 2 view .LVU3239
 11014 01b8 F8E7     		b	.L820
 11015              	.L849:
3216:DMP/driver/eMPL/inv_mpu.c ****         goto lp_int_restore;
3217:DMP/driver/eMPL/inv_mpu.c ****     }
3218:DMP/driver/eMPL/inv_mpu.c ****     /* If we reach this point, motion interrupt mode hasn't been used yet. */
3219:DMP/driver/eMPL/inv_mpu.c ****     return -1;
 11016              		.loc 1 3219 12 view .LVU3240
 11017 01ba 4FF0FF30 		mov	r0, #-1
 11018              	.LVL796:
 11019              		.loc 1 3219 12 view .LVU3241
 11020 01be 34E0     		b	.L819
 11021              	.LVL797:
 11022              	.L840:
 11023              		.loc 1 3219 12 view .LVU3242
 11024              	.LBE7:
3220:DMP/driver/eMPL/inv_mpu.c ****   }
3221:DMP/driver/eMPL/inv_mpu.c **** lp_int_restore:
3222:DMP/driver/eMPL/inv_mpu.c ****   /* Set to invalid values to ensure no I2C writes are skipped. */
3223:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.gyro_fsr = 0xFF;
3224:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.accel_fsr = 0xFF;
3225:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.lpf = 0xFF;
3226:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.sample_rate = 0xFFFF;
3227:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.sensors = 0xFF;
3228:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.fifo_enable = 0xFF;
3229:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.clk_src = INV_CLK_PLL;
3230:DMP/driver/eMPL/inv_mpu.c ****   mpu_set_sensors(st.chip_cfg.cache.sensors_on);
3231:DMP/driver/eMPL/inv_mpu.c ****   mpu_set_gyro_fsr(st.chip_cfg.cache.gyro_fsr);
3232:DMP/driver/eMPL/inv_mpu.c ****   mpu_set_accel_fsr(st.chip_cfg.cache.accel_fsr);
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 296


3233:DMP/driver/eMPL/inv_mpu.c ****   mpu_set_lpf(st.chip_cfg.cache.lpf);
3234:DMP/driver/eMPL/inv_mpu.c ****   mpu_set_sample_rate(st.chip_cfg.cache.sample_rate);
3235:DMP/driver/eMPL/inv_mpu.c ****   mpu_configure_fifo(st.chip_cfg.cache.fifo_sensors);
3236:DMP/driver/eMPL/inv_mpu.c **** 
3237:DMP/driver/eMPL/inv_mpu.c ****   if (st.chip_cfg.cache.dmp_on)
3238:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_dmp_state(1);
3239:DMP/driver/eMPL/inv_mpu.c **** 
3240:DMP/driver/eMPL/inv_mpu.c **** #ifdef MPU6500
3241:DMP/driver/eMPL/inv_mpu.c ****   /* Disable motion interrupt (MPU6500 version). */
3242:DMP/driver/eMPL/inv_mpu.c ****   data[0] = 0;
 11025              		.loc 1 3242 3 is_stmt 1 view .LVU3243
 11026              		.loc 1 3242 11 is_stmt 0 view .LVU3244
 11027 01c0 0023     		movs	r3, #0
 11028 01c2 8DF80430 		strb	r3, [sp, #4]
3243:DMP/driver/eMPL/inv_mpu.c ****   if (i2c_write(st.hw->addr, st.reg->accel_intel, 1, data))
 11029              		.loc 1 3243 3 is_stmt 1 view .LVU3245
 11030              		.loc 1 3243 19 is_stmt 0 view .LVU3246
 11031 01c6 1B4B     		ldr	r3, .L851
 11032 01c8 5868     		ldr	r0, [r3, #4]
 11033              		.loc 1 3243 32 view .LVU3247
 11034 01ca 1968     		ldr	r1, [r3]
 11035              		.loc 1 3243 7 view .LVU3248
 11036 01cc 01AB     		add	r3, sp, #4
 11037 01ce 0122     		movs	r2, #1
 11038 01d0 097D     		ldrb	r1, [r1, #20]	@ zero_extendqisi2
 11039 01d2 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 11040 01d4 FFF7FEFF 		bl	MPU_Write_Len
 11041              	.LVL798:
 11042              		.loc 1 3243 6 view .LVU3249
 11043 01d8 28B3     		cbz	r0, .L850
 11044              	.L838:
3223:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.accel_fsr = 0xFF;
 11045              		.loc 1 3223 3 is_stmt 1 view .LVU3250
3223:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.accel_fsr = 0xFF;
 11046              		.loc 1 3223 24 is_stmt 0 view .LVU3251
 11047 01da 164C     		ldr	r4, .L851
 11048 01dc FF23     		movs	r3, #255
 11049 01de 2372     		strb	r3, [r4, #8]
3224:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.lpf = 0xFF;
 11050              		.loc 1 3224 3 is_stmt 1 view .LVU3252
3224:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.lpf = 0xFF;
 11051              		.loc 1 3224 25 is_stmt 0 view .LVU3253
 11052 01e0 6372     		strb	r3, [r4, #9]
3225:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.sample_rate = 0xFFFF;
 11053              		.loc 1 3225 3 is_stmt 1 view .LVU3254
3225:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.sample_rate = 0xFFFF;
 11054              		.loc 1 3225 19 is_stmt 0 view .LVU3255
 11055 01e2 E372     		strb	r3, [r4, #11]
3226:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.sensors = 0xFF;
 11056              		.loc 1 3226 3 is_stmt 1 view .LVU3256
3226:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.sensors = 0xFF;
 11057              		.loc 1 3226 27 is_stmt 0 view .LVU3257
 11058 01e4 4FF6FF72 		movw	r2, #65535
 11059 01e8 E281     		strh	r2, [r4, #14]	@ movhi
3227:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.fifo_enable = 0xFF;
 11060              		.loc 1 3227 3 is_stmt 1 view .LVU3258
3227:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.fifo_enable = 0xFF;
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 297


 11061              		.loc 1 3227 23 is_stmt 0 view .LVU3259
 11062 01ea A372     		strb	r3, [r4, #10]
3228:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.clk_src = INV_CLK_PLL;
 11063              		.loc 1 3228 3 is_stmt 1 view .LVU3260
3228:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.clk_src = INV_CLK_PLL;
 11064              		.loc 1 3228 27 is_stmt 0 view .LVU3261
 11065 01ec 2374     		strb	r3, [r4, #16]
3229:DMP/driver/eMPL/inv_mpu.c ****   mpu_set_sensors(st.chip_cfg.cache.sensors_on);
 11066              		.loc 1 3229 3 is_stmt 1 view .LVU3262
3229:DMP/driver/eMPL/inv_mpu.c ****   mpu_set_sensors(st.chip_cfg.cache.sensors_on);
 11067              		.loc 1 3229 23 is_stmt 0 view .LVU3263
 11068 01ee 0123     		movs	r3, #1
 11069 01f0 2373     		strb	r3, [r4, #12]
3230:DMP/driver/eMPL/inv_mpu.c ****   mpu_set_gyro_fsr(st.chip_cfg.cache.gyro_fsr);
 11070              		.loc 1 3230 3 is_stmt 1 view .LVU3264
 11071 01f2 A07F     		ldrb	r0, [r4, #30]	@ zero_extendqisi2
 11072 01f4 FFF7FEFF 		bl	mpu_set_sensors
 11073              	.LVL799:
3231:DMP/driver/eMPL/inv_mpu.c ****   mpu_set_accel_fsr(st.chip_cfg.cache.accel_fsr);
 11074              		.loc 1 3231 3 view .LVU3265
 11075 01f8 E08A     		ldrh	r0, [r4, #22]
 11076 01fa FFF7FEFF 		bl	mpu_set_gyro_fsr
 11077              	.LVL800:
3232:DMP/driver/eMPL/inv_mpu.c ****   mpu_set_lpf(st.chip_cfg.cache.lpf);
 11078              		.loc 1 3232 3 view .LVU3266
 11079 01fe 207E     		ldrb	r0, [r4, #24]	@ zero_extendqisi2
 11080 0200 FFF7FEFF 		bl	mpu_set_accel_fsr
 11081              	.LVL801:
3233:DMP/driver/eMPL/inv_mpu.c ****   mpu_set_sample_rate(st.chip_cfg.cache.sample_rate);
 11082              		.loc 1 3233 3 view .LVU3267
 11083 0204 608B     		ldrh	r0, [r4, #26]
 11084 0206 FFF7FEFF 		bl	mpu_set_lpf
 11085              	.LVL802:
3234:DMP/driver/eMPL/inv_mpu.c ****   mpu_configure_fifo(st.chip_cfg.cache.fifo_sensors);
 11086              		.loc 1 3234 3 view .LVU3268
 11087 020a A08B     		ldrh	r0, [r4, #28]
 11088 020c FFF7FEFF 		bl	mpu_set_sample_rate
 11089              	.LVL803:
3235:DMP/driver/eMPL/inv_mpu.c **** 
 11090              		.loc 1 3235 3 view .LVU3269
 11091 0210 E07F     		ldrb	r0, [r4, #31]	@ zero_extendqisi2
 11092 0212 FFF7FEFF 		bl	mpu_configure_fifo
 11093              	.LVL804:
3237:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_dmp_state(1);
 11094              		.loc 1 3237 3 view .LVU3270
3237:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_dmp_state(1);
 11095              		.loc 1 3237 24 is_stmt 0 view .LVU3271
 11096 0216 94F82030 		ldrb	r3, [r4, #32]	@ zero_extendqisi2
3237:DMP/driver/eMPL/inv_mpu.c ****     mpu_set_dmp_state(1);
 11097              		.loc 1 3237 6 view .LVU3272
 11098 021a 002B     		cmp	r3, #0
 11099 021c D0D0     		beq	.L840
3238:DMP/driver/eMPL/inv_mpu.c **** 
 11100              		.loc 1 3238 5 is_stmt 1 view .LVU3273
 11101 021e 0120     		movs	r0, #1
 11102 0220 FFF7FEFF 		bl	mpu_set_dmp_state
 11103              	.LVL805:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 298


 11104 0224 CCE7     		b	.L840
 11105              	.L850:
3244:DMP/driver/eMPL/inv_mpu.c ****     goto lp_int_restore;
3245:DMP/driver/eMPL/inv_mpu.c **** #endif
3246:DMP/driver/eMPL/inv_mpu.c **** 
3247:DMP/driver/eMPL/inv_mpu.c ****   st.chip_cfg.int_motion_only = 0;
 11106              		.loc 1 3247 3 view .LVU3274
 11107              		.loc 1 3247 31 is_stmt 0 view .LVU3275
 11108 0226 034B     		ldr	r3, .L851
 11109 0228 5875     		strb	r0, [r3, #21]
3248:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 11110              		.loc 1 3248 3 is_stmt 1 view .LVU3276
 11111              	.L819:
3249:DMP/driver/eMPL/inv_mpu.c **** }
 11112              		.loc 1 3249 1 is_stmt 0 view .LVU3277
 11113 022a 02B0     		add	sp, sp, #8
 11114              	.LCFI194:
 11115              		.cfi_remember_state
 11116              		.cfi_def_cfa_offset 16
 11117              		@ sp needed
 11118 022c 70BD     		pop	{r4, r5, r6, pc}
 11119              	.LVL806:
 11120              	.L844:
 11121              	.LCFI195:
 11122              		.cfi_restore_state
 11123              	.LBB8:
3134:DMP/driver/eMPL/inv_mpu.c **** #endif
 11124              		.loc 1 3134 14 view .LVU3278
 11125 022e 4FF0FF30 		mov	r0, #-1
 11126              	.LVL807:
3134:DMP/driver/eMPL/inv_mpu.c **** #endif
 11127              		.loc 1 3134 14 view .LVU3279
 11128 0232 FAE7     		b	.L819
 11129              	.L852:
 11130              		.align	2
 11131              	.L851:
 11132 0234 00000000 		.word	st
 11133 0238 16000000 		.word	st+22
 11134              	.LBE8:
 11135              		.cfi_endproc
 11136              	.LFE221:
 11138              		.section	.text.run_self_test,"ax",%progbits
 11139              		.align	1
 11140              		.global	run_self_test
 11141              		.syntax unified
 11142              		.thumb
 11143              		.thumb_func
 11145              	run_self_test:
 11146              	.LFB222:
3250:DMP/driver/eMPL/inv_mpu.c **** // q30，q16格式,long转float时的除数.
3251:DMP/driver/eMPL/inv_mpu.c **** #define q30 1073741824.0f
3252:DMP/driver/eMPL/inv_mpu.c **** #define q16 65536.0f
3253:DMP/driver/eMPL/inv_mpu.c **** 
3254:DMP/driver/eMPL/inv_mpu.c **** // 陀螺仪方向设置
3255:DMP/driver/eMPL/inv_mpu.c **** static signed char gyro_orientation[9] = {1, 0, 0, 0, 1, 0, 0, 0, 1};
3256:DMP/driver/eMPL/inv_mpu.c **** // 磁力计方向设置
3257:DMP/driver/eMPL/inv_mpu.c **** static signed char comp_orientation[9] = {0, 1, 0, 1, 0, 0, 0, 0, -1};
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 299


3258:DMP/driver/eMPL/inv_mpu.c **** // MPU9250自测试
3259:DMP/driver/eMPL/inv_mpu.c **** // 返回值:0,正常
3260:DMP/driver/eMPL/inv_mpu.c **** //     其他,失败
3261:DMP/driver/eMPL/inv_mpu.c **** u8 run_self_test(void) {
 11147              		.loc 1 3261 24 is_stmt 1 view -0
 11148              		.cfi_startproc
 11149              		@ args = 0, pretend = 0, frame = 32
 11150              		@ frame_needed = 0, uses_anonymous_args = 0
 11151 0000 00B5     		push	{lr}
 11152              	.LCFI196:
 11153              		.cfi_def_cfa_offset 4
 11154              		.cfi_offset 14, -4
 11155 0002 89B0     		sub	sp, sp, #36
 11156              	.LCFI197:
 11157              		.cfi_def_cfa_offset 40
3262:DMP/driver/eMPL/inv_mpu.c ****   int result;
 11158              		.loc 1 3262 3 view .LVU3281
3263:DMP/driver/eMPL/inv_mpu.c ****   // char test_packet[4] = {0};
3264:DMP/driver/eMPL/inv_mpu.c ****   long gyro[3], accel[3];
 11159              		.loc 1 3264 3 view .LVU3282
3265:DMP/driver/eMPL/inv_mpu.c ****   result = mpu_run_6500_self_test(gyro, accel, 0);
 11160              		.loc 1 3265 3 view .LVU3283
 11161              		.loc 1 3265 12 is_stmt 0 view .LVU3284
 11162 0004 0022     		movs	r2, #0
 11163 0006 02A9     		add	r1, sp, #8
 11164 0008 05A8     		add	r0, sp, #20
 11165 000a FFF7FEFF 		bl	mpu_run_6500_self_test
 11166              	.LVL808:
3266:DMP/driver/eMPL/inv_mpu.c ****   if (result == 0x7) {
 11167              		.loc 1 3266 3 is_stmt 1 view .LVU3285
 11168              		.loc 1 3266 6 is_stmt 0 view .LVU3286
 11169 000e 0728     		cmp	r0, #7
 11170 0010 03D0     		beq	.L857
3267:DMP/driver/eMPL/inv_mpu.c ****     /* Test passed. We can trust the gyro data here, so let's push it down
3268:DMP/driver/eMPL/inv_mpu.c ****      * to the DMP.
3269:DMP/driver/eMPL/inv_mpu.c ****      */
3270:DMP/driver/eMPL/inv_mpu.c ****     unsigned short accel_sens;
3271:DMP/driver/eMPL/inv_mpu.c ****     float gyro_sens;
3272:DMP/driver/eMPL/inv_mpu.c **** 
3273:DMP/driver/eMPL/inv_mpu.c ****     mpu_get_gyro_sens(&gyro_sens);
3274:DMP/driver/eMPL/inv_mpu.c ****     gyro[0] = (long)(gyro[0] * gyro_sens);
3275:DMP/driver/eMPL/inv_mpu.c ****     gyro[1] = (long)(gyro[1] * gyro_sens);
3276:DMP/driver/eMPL/inv_mpu.c ****     gyro[2] = (long)(gyro[2] * gyro_sens);
3277:DMP/driver/eMPL/inv_mpu.c ****     // inv_set_gyro_bias(gyro, 3);
3278:DMP/driver/eMPL/inv_mpu.c ****     dmp_set_gyro_bias(gyro);
3279:DMP/driver/eMPL/inv_mpu.c ****     mpu_get_accel_sens(&accel_sens);
3280:DMP/driver/eMPL/inv_mpu.c ****     accel[0] *= accel_sens;
3281:DMP/driver/eMPL/inv_mpu.c ****     accel[1] *= accel_sens;
3282:DMP/driver/eMPL/inv_mpu.c ****     accel[2] *= accel_sens;
3283:DMP/driver/eMPL/inv_mpu.c ****     // inv_set_accel_bias(accel, 3);
3284:DMP/driver/eMPL/inv_mpu.c ****     dmp_set_accel_bias(accel);
3285:DMP/driver/eMPL/inv_mpu.c ****     return 0;
3286:DMP/driver/eMPL/inv_mpu.c ****   } else
3287:DMP/driver/eMPL/inv_mpu.c ****     return 1;
 11171              		.loc 1 3287 12 view .LVU3287
 11172 0012 0120     		movs	r0, #1
 11173              	.LVL809:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 300


 11174              	.L854:
3288:DMP/driver/eMPL/inv_mpu.c **** }
 11175              		.loc 1 3288 1 discriminator 1 view .LVU3288
 11176 0014 09B0     		add	sp, sp, #36
 11177              	.LCFI198:
 11178              		.cfi_remember_state
 11179              		.cfi_def_cfa_offset 4
 11180              		@ sp needed
 11181 0016 5DF804FB 		ldr	pc, [sp], #4
 11182              	.LVL810:
 11183              	.L857:
 11184              	.LCFI199:
 11185              		.cfi_restore_state
 11186              	.LBB9:
3270:DMP/driver/eMPL/inv_mpu.c ****     float gyro_sens;
 11187              		.loc 1 3270 5 is_stmt 1 view .LVU3289
3271:DMP/driver/eMPL/inv_mpu.c **** 
 11188              		.loc 1 3271 5 view .LVU3290
3273:DMP/driver/eMPL/inv_mpu.c ****     gyro[0] = (long)(gyro[0] * gyro_sens);
 11189              		.loc 1 3273 5 view .LVU3291
 11190 001a 01A8     		add	r0, sp, #4
 11191              	.LVL811:
3273:DMP/driver/eMPL/inv_mpu.c ****     gyro[0] = (long)(gyro[0] * gyro_sens);
 11192              		.loc 1 3273 5 is_stmt 0 view .LVU3292
 11193 001c FFF7FEFF 		bl	mpu_get_gyro_sens
 11194              	.LVL812:
3274:DMP/driver/eMPL/inv_mpu.c ****     gyro[1] = (long)(gyro[1] * gyro_sens);
 11195              		.loc 1 3274 5 is_stmt 1 view .LVU3293
3274:DMP/driver/eMPL/inv_mpu.c ****     gyro[1] = (long)(gyro[1] * gyro_sens);
 11196              		.loc 1 3274 30 is_stmt 0 view .LVU3294
 11197 0020 9DED017A 		vldr.32	s14, [sp, #4]
 11198 0024 DDED057A 		vldr.32	s15, [sp, #20]	@ int
 11199 0028 F8EEE77A 		vcvt.f32.s32	s15, s15
 11200 002c 67EE877A 		vmul.f32	s15, s15, s14
3274:DMP/driver/eMPL/inv_mpu.c ****     gyro[1] = (long)(gyro[1] * gyro_sens);
 11201              		.loc 1 3274 15 view .LVU3295
 11202 0030 FDEEE77A 		vcvt.s32.f32	s15, s15
3274:DMP/driver/eMPL/inv_mpu.c ****     gyro[1] = (long)(gyro[1] * gyro_sens);
 11203              		.loc 1 3274 13 view .LVU3296
 11204 0034 CDED057A 		vstr.32	s15, [sp, #20]	@ int
3275:DMP/driver/eMPL/inv_mpu.c ****     gyro[2] = (long)(gyro[2] * gyro_sens);
 11205              		.loc 1 3275 5 is_stmt 1 view .LVU3297
3275:DMP/driver/eMPL/inv_mpu.c ****     gyro[2] = (long)(gyro[2] * gyro_sens);
 11206              		.loc 1 3275 30 is_stmt 0 view .LVU3298
 11207 0038 DDED067A 		vldr.32	s15, [sp, #24]	@ int
 11208 003c F8EEE77A 		vcvt.f32.s32	s15, s15
 11209 0040 67EE877A 		vmul.f32	s15, s15, s14
3275:DMP/driver/eMPL/inv_mpu.c ****     gyro[2] = (long)(gyro[2] * gyro_sens);
 11210              		.loc 1 3275 15 view .LVU3299
 11211 0044 FDEEE77A 		vcvt.s32.f32	s15, s15
3275:DMP/driver/eMPL/inv_mpu.c ****     gyro[2] = (long)(gyro[2] * gyro_sens);
 11212              		.loc 1 3275 13 view .LVU3300
 11213 0048 CDED067A 		vstr.32	s15, [sp, #24]	@ int
3276:DMP/driver/eMPL/inv_mpu.c ****     // inv_set_gyro_bias(gyro, 3);
 11214              		.loc 1 3276 5 is_stmt 1 view .LVU3301
3276:DMP/driver/eMPL/inv_mpu.c ****     // inv_set_gyro_bias(gyro, 3);
 11215              		.loc 1 3276 30 is_stmt 0 view .LVU3302
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 301


 11216 004c DDED077A 		vldr.32	s15, [sp, #28]	@ int
 11217 0050 F8EEE77A 		vcvt.f32.s32	s15, s15
 11218 0054 67EE877A 		vmul.f32	s15, s15, s14
3276:DMP/driver/eMPL/inv_mpu.c ****     // inv_set_gyro_bias(gyro, 3);
 11219              		.loc 1 3276 15 view .LVU3303
 11220 0058 FDEEE77A 		vcvt.s32.f32	s15, s15
3276:DMP/driver/eMPL/inv_mpu.c ****     // inv_set_gyro_bias(gyro, 3);
 11221              		.loc 1 3276 13 view .LVU3304
 11222 005c CDED077A 		vstr.32	s15, [sp, #28]	@ int
3278:DMP/driver/eMPL/inv_mpu.c ****     mpu_get_accel_sens(&accel_sens);
 11223              		.loc 1 3278 5 is_stmt 1 view .LVU3305
 11224 0060 05A8     		add	r0, sp, #20
 11225 0062 FFF7FEFF 		bl	dmp_set_gyro_bias
 11226              	.LVL813:
3279:DMP/driver/eMPL/inv_mpu.c ****     accel[0] *= accel_sens;
 11227              		.loc 1 3279 5 view .LVU3306
 11228 0066 0DF10200 		add	r0, sp, #2
 11229 006a FFF7FEFF 		bl	mpu_get_accel_sens
 11230              	.LVL814:
3280:DMP/driver/eMPL/inv_mpu.c ****     accel[1] *= accel_sens;
 11231              		.loc 1 3280 5 view .LVU3307
3280:DMP/driver/eMPL/inv_mpu.c ****     accel[1] *= accel_sens;
 11232              		.loc 1 3280 14 is_stmt 0 view .LVU3308
 11233 006e BDF80230 		ldrh	r3, [sp, #2]
 11234 0072 029A     		ldr	r2, [sp, #8]
 11235 0074 03FB02F2 		mul	r2, r3, r2
 11236 0078 0292     		str	r2, [sp, #8]
3281:DMP/driver/eMPL/inv_mpu.c ****     accel[2] *= accel_sens;
 11237              		.loc 1 3281 5 is_stmt 1 view .LVU3309
3281:DMP/driver/eMPL/inv_mpu.c ****     accel[2] *= accel_sens;
 11238              		.loc 1 3281 10 is_stmt 0 view .LVU3310
 11239 007a 039A     		ldr	r2, [sp, #12]
3281:DMP/driver/eMPL/inv_mpu.c ****     accel[2] *= accel_sens;
 11240              		.loc 1 3281 14 view .LVU3311
 11241 007c 03FB02F2 		mul	r2, r3, r2
 11242 0080 0392     		str	r2, [sp, #12]
3282:DMP/driver/eMPL/inv_mpu.c ****     // inv_set_accel_bias(accel, 3);
 11243              		.loc 1 3282 5 is_stmt 1 view .LVU3312
3282:DMP/driver/eMPL/inv_mpu.c ****     // inv_set_accel_bias(accel, 3);
 11244              		.loc 1 3282 10 is_stmt 0 view .LVU3313
 11245 0082 049A     		ldr	r2, [sp, #16]
3282:DMP/driver/eMPL/inv_mpu.c ****     // inv_set_accel_bias(accel, 3);
 11246              		.loc 1 3282 14 view .LVU3314
 11247 0084 02FB03F3 		mul	r3, r2, r3
 11248 0088 0493     		str	r3, [sp, #16]
3284:DMP/driver/eMPL/inv_mpu.c ****     return 0;
 11249              		.loc 1 3284 5 is_stmt 1 view .LVU3315
 11250 008a 02A8     		add	r0, sp, #8
 11251 008c FFF7FEFF 		bl	dmp_set_accel_bias
 11252              	.LVL815:
3285:DMP/driver/eMPL/inv_mpu.c ****   } else
 11253              		.loc 1 3285 5 view .LVU3316
3285:DMP/driver/eMPL/inv_mpu.c ****   } else
 11254              		.loc 1 3285 12 is_stmt 0 view .LVU3317
 11255 0090 0020     		movs	r0, #0
 11256 0092 BFE7     		b	.L854
 11257              	.LBE9:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 302


 11258              		.cfi_endproc
 11259              	.LFE222:
 11261              		.section	.text.inv_row_2_scale,"ax",%progbits
 11262              		.align	1
 11263              		.global	inv_row_2_scale
 11264              		.syntax unified
 11265              		.thumb
 11266              		.thumb_func
 11268              	inv_row_2_scale:
 11269              	.LVL816:
 11270              	.LFB223:
3289:DMP/driver/eMPL/inv_mpu.c **** 
3290:DMP/driver/eMPL/inv_mpu.c **** // 方向转换
3291:DMP/driver/eMPL/inv_mpu.c **** unsigned short inv_row_2_scale(const signed char *row) {
 11271              		.loc 1 3291 56 is_stmt 1 view -0
 11272              		.cfi_startproc
 11273              		@ args = 0, pretend = 0, frame = 0
 11274              		@ frame_needed = 0, uses_anonymous_args = 0
 11275              		@ link register save eliminated.
3292:DMP/driver/eMPL/inv_mpu.c ****   unsigned short b;
 11276              		.loc 1 3292 3 view .LVU3319
3293:DMP/driver/eMPL/inv_mpu.c **** 
3294:DMP/driver/eMPL/inv_mpu.c ****   if (row[0] > 0)
 11277              		.loc 1 3294 3 view .LVU3320
 11278              		.loc 1 3294 10 is_stmt 0 view .LVU3321
 11279 0000 90F90030 		ldrsb	r3, [r0]
 11280              		.loc 1 3294 6 view .LVU3322
 11281 0004 002B     		cmp	r3, #0
 11282 0006 01DD     		ble	.L866
3295:DMP/driver/eMPL/inv_mpu.c ****     b = 0;
 11283              		.loc 1 3295 7 view .LVU3323
 11284 0008 0020     		movs	r0, #0
 11285              	.LVL817:
 11286              		.loc 1 3295 7 view .LVU3324
 11287 000a 7047     		bx	lr
 11288              	.LVL818:
 11289              	.L866:
3296:DMP/driver/eMPL/inv_mpu.c ****   else if (row[0] < 0)
 11290              		.loc 1 3296 8 is_stmt 1 view .LVU3325
 11291              		.loc 1 3296 11 is_stmt 0 view .LVU3326
 11292 000c 0FDB     		blt	.L861
3297:DMP/driver/eMPL/inv_mpu.c ****     b = 4;
3298:DMP/driver/eMPL/inv_mpu.c ****   else if (row[1] > 0)
 11293              		.loc 1 3298 8 is_stmt 1 view .LVU3327
 11294              		.loc 1 3298 15 is_stmt 0 view .LVU3328
 11295 000e 90F90130 		ldrsb	r3, [r0, #1]
 11296              		.loc 1 3298 11 view .LVU3329
 11297 0012 002B     		cmp	r3, #0
 11298 0014 01DD     		ble	.L867
3299:DMP/driver/eMPL/inv_mpu.c ****     b = 1;
 11299              		.loc 1 3299 7 view .LVU3330
 11300 0016 0120     		movs	r0, #1
 11301              	.LVL819:
 11302              		.loc 1 3299 7 view .LVU3331
 11303 0018 7047     		bx	lr
 11304              	.LVL820:
 11305              	.L867:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 303


3300:DMP/driver/eMPL/inv_mpu.c ****   else if (row[1] < 0)
 11306              		.loc 1 3300 8 is_stmt 1 view .LVU3332
 11307              		.loc 1 3300 11 is_stmt 0 view .LVU3333
 11308 001a 0ADB     		blt	.L863
3301:DMP/driver/eMPL/inv_mpu.c ****     b = 5;
3302:DMP/driver/eMPL/inv_mpu.c ****   else if (row[2] > 0)
 11309              		.loc 1 3302 8 is_stmt 1 view .LVU3334
 11310              		.loc 1 3302 15 is_stmt 0 view .LVU3335
 11311 001c 90F90230 		ldrsb	r3, [r0, #2]
 11312              		.loc 1 3302 11 view .LVU3336
 11313 0020 002B     		cmp	r3, #0
 11314 0022 08DC     		bgt	.L864
3303:DMP/driver/eMPL/inv_mpu.c ****     b = 2;
3304:DMP/driver/eMPL/inv_mpu.c ****   else if (row[2] < 0)
 11315              		.loc 1 3304 8 is_stmt 1 view .LVU3337
 11316              		.loc 1 3304 11 is_stmt 0 view .LVU3338
 11317 0024 01DB     		blt	.L868
3305:DMP/driver/eMPL/inv_mpu.c ****     b = 6;
3306:DMP/driver/eMPL/inv_mpu.c ****   else
3307:DMP/driver/eMPL/inv_mpu.c ****     b = 7; // error
 11318              		.loc 1 3307 7 view .LVU3339
 11319 0026 0720     		movs	r0, #7
 11320              	.LVL821:
3308:DMP/driver/eMPL/inv_mpu.c ****   return b;
 11321              		.loc 1 3308 3 is_stmt 1 view .LVU3340
3309:DMP/driver/eMPL/inv_mpu.c **** }
 11322              		.loc 1 3309 1 is_stmt 0 view .LVU3341
 11323 0028 7047     		bx	lr
 11324              	.LVL822:
 11325              	.L868:
3305:DMP/driver/eMPL/inv_mpu.c ****     b = 6;
 11326              		.loc 1 3305 7 view .LVU3342
 11327 002a 0620     		movs	r0, #6
 11328              	.LVL823:
3305:DMP/driver/eMPL/inv_mpu.c ****     b = 6;
 11329              		.loc 1 3305 7 view .LVU3343
 11330 002c 7047     		bx	lr
 11331              	.LVL824:
 11332              	.L861:
3297:DMP/driver/eMPL/inv_mpu.c ****   else if (row[1] > 0)
 11333              		.loc 1 3297 7 view .LVU3344
 11334 002e 0420     		movs	r0, #4
 11335              	.LVL825:
3297:DMP/driver/eMPL/inv_mpu.c ****   else if (row[1] > 0)
 11336              		.loc 1 3297 7 view .LVU3345
 11337 0030 7047     		bx	lr
 11338              	.LVL826:
 11339              	.L863:
3301:DMP/driver/eMPL/inv_mpu.c ****   else if (row[2] > 0)
 11340              		.loc 1 3301 7 view .LVU3346
 11341 0032 0520     		movs	r0, #5
 11342              	.LVL827:
3301:DMP/driver/eMPL/inv_mpu.c ****   else if (row[2] > 0)
 11343              		.loc 1 3301 7 view .LVU3347
 11344 0034 7047     		bx	lr
 11345              	.LVL828:
 11346              	.L864:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 304


3303:DMP/driver/eMPL/inv_mpu.c ****   else if (row[2] < 0)
 11347              		.loc 1 3303 7 view .LVU3348
 11348 0036 0220     		movs	r0, #2
 11349              	.LVL829:
3303:DMP/driver/eMPL/inv_mpu.c ****   else if (row[2] < 0)
 11350              		.loc 1 3303 7 view .LVU3349
 11351 0038 7047     		bx	lr
 11352              		.cfi_endproc
 11353              	.LFE223:
 11355              		.section	.text.mget_ms,"ax",%progbits
 11356              		.align	1
 11357              		.global	mget_ms
 11358              		.syntax unified
 11359              		.thumb
 11360              		.thumb_func
 11362              	mget_ms:
 11363              	.LVL830:
 11364              	.LFB224:
3310:DMP/driver/eMPL/inv_mpu.c **** // 空函数,未用到.
3311:DMP/driver/eMPL/inv_mpu.c **** void mget_ms(unsigned long *time) {
 11365              		.loc 1 3311 35 is_stmt 1 view -0
 11366              		.cfi_startproc
 11367              		@ args = 0, pretend = 0, frame = 0
 11368              		@ frame_needed = 0, uses_anonymous_args = 0
 11369              		@ link register save eliminated.
3312:DMP/driver/eMPL/inv_mpu.c ****   //*time=(unsigned long)HAL_GetTick();
3313:DMP/driver/eMPL/inv_mpu.c **** }
 11370              		.loc 1 3313 1 view .LVU3351
 11371 0000 7047     		bx	lr
 11372              		.cfi_endproc
 11373              	.LFE224:
 11375              		.section	.text.mpu_dmp_init,"ax",%progbits
 11376              		.align	1
 11377              		.global	mpu_dmp_init
 11378              		.syntax unified
 11379              		.thumb
 11380              		.thumb_func
 11382              	mpu_dmp_init:
 11383              	.LFB225:
3314:DMP/driver/eMPL/inv_mpu.c **** // mpu6050,dmp初始化
3315:DMP/driver/eMPL/inv_mpu.c **** // 返回值:0,正常
3316:DMP/driver/eMPL/inv_mpu.c **** //     其他,失败
3317:DMP/driver/eMPL/inv_mpu.c **** u8 mpu_dmp_init(void) {
 11384              		.loc 1 3317 23 view -0
 11385              		.cfi_startproc
 11386              		@ args = 0, pretend = 0, frame = 8
 11387              		@ frame_needed = 0, uses_anonymous_args = 0
 11388 0000 10B5     		push	{r4, lr}
 11389              	.LCFI200:
 11390              		.cfi_def_cfa_offset 8
 11391              		.cfi_offset 4, -8
 11392              		.cfi_offset 14, -4
 11393 0002 82B0     		sub	sp, sp, #8
 11394              	.LCFI201:
 11395              		.cfi_def_cfa_offset 16
3318:DMP/driver/eMPL/inv_mpu.c ****   u8 res = 0;
 11396              		.loc 1 3318 3 view .LVU3353
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 305


 11397              	.LVL831:
3319:DMP/driver/eMPL/inv_mpu.c ****   struct int_param_s int_param;
 11398              		.loc 1 3319 3 view .LVU3354
3320:DMP/driver/eMPL/inv_mpu.c ****   unsigned char accel_fsr;
 11399              		.loc 1 3320 3 view .LVU3355
3321:DMP/driver/eMPL/inv_mpu.c ****   unsigned short gyro_rate, gyro_fsr;
 11400              		.loc 1 3321 3 view .LVU3356
3322:DMP/driver/eMPL/inv_mpu.c ****   unsigned short compass_fsr;
 11401              		.loc 1 3322 3 view .LVU3357
3323:DMP/driver/eMPL/inv_mpu.c **** 
3324:DMP/driver/eMPL/inv_mpu.c ****   // IIC_Init(); 		        //初始化IIC总线
3325:DMP/driver/eMPL/inv_mpu.c ****   if (mpu_init(&int_param) == 0) // 初始化MPU9250
 11402              		.loc 1 3325 3 view .LVU3358
 11403              		.loc 1 3325 7 is_stmt 0 view .LVU3359
 11404 0004 02A8     		add	r0, sp, #8
 11405 0006 FFF7FEFF 		bl	mpu_init
 11406              	.LVL832:
 11407              		.loc 1 3325 6 view .LVU3360
 11408 000a 10B1     		cbz	r0, .L885
3326:DMP/driver/eMPL/inv_mpu.c ****   {
3327:DMP/driver/eMPL/inv_mpu.c ****     res = inv_init_mpl(); // 初始化MPL
3328:DMP/driver/eMPL/inv_mpu.c ****     if (res)
3329:DMP/driver/eMPL/inv_mpu.c ****       return 1;
3330:DMP/driver/eMPL/inv_mpu.c ****     inv_enable_quaternion();
3331:DMP/driver/eMPL/inv_mpu.c ****     inv_enable_9x_sensor_fusion();
3332:DMP/driver/eMPL/inv_mpu.c ****     inv_enable_fast_nomot();
3333:DMP/driver/eMPL/inv_mpu.c ****     inv_enable_gyro_tc();
3334:DMP/driver/eMPL/inv_mpu.c ****     inv_enable_vector_compass_cal();
3335:DMP/driver/eMPL/inv_mpu.c ****     inv_enable_magnetic_disturbance();
3336:DMP/driver/eMPL/inv_mpu.c ****     inv_enable_eMPL_outputs();
3337:DMP/driver/eMPL/inv_mpu.c ****     res = inv_start_mpl(); // 开启MPL
3338:DMP/driver/eMPL/inv_mpu.c ****     if (res)
3339:DMP/driver/eMPL/inv_mpu.c ****       return 1;
3340:DMP/driver/eMPL/inv_mpu.c ****     res = mpu_set_sensors(INV_XYZ_GYRO | INV_XYZ_ACCEL |
3341:DMP/driver/eMPL/inv_mpu.c ****                           INV_XYZ_COMPASS); // 设置所需要的传感器
3342:DMP/driver/eMPL/inv_mpu.c ****     if (res)
3343:DMP/driver/eMPL/inv_mpu.c ****       return 2;
3344:DMP/driver/eMPL/inv_mpu.c ****     res = mpu_configure_fifo(INV_XYZ_GYRO | INV_XYZ_ACCEL); // 设置FIFO
3345:DMP/driver/eMPL/inv_mpu.c ****     if (res)
3346:DMP/driver/eMPL/inv_mpu.c ****       return 3;
3347:DMP/driver/eMPL/inv_mpu.c ****     res = mpu_set_sample_rate(DEFAULT_MPU_HZ); // 设置采样率
3348:DMP/driver/eMPL/inv_mpu.c ****     if (res)
3349:DMP/driver/eMPL/inv_mpu.c ****       return 4;
3350:DMP/driver/eMPL/inv_mpu.c ****     res =
3351:DMP/driver/eMPL/inv_mpu.c ****         mpu_set_compass_sample_rate(1000 / COMPASS_READ_MS); // 设置磁力计采样率
3352:DMP/driver/eMPL/inv_mpu.c ****     if (res)
3353:DMP/driver/eMPL/inv_mpu.c ****       return 5;
3354:DMP/driver/eMPL/inv_mpu.c ****     mpu_get_sample_rate(&gyro_rate);
3355:DMP/driver/eMPL/inv_mpu.c ****     mpu_get_gyro_fsr(&gyro_fsr);
3356:DMP/driver/eMPL/inv_mpu.c ****     mpu_get_accel_fsr(&accel_fsr);
3357:DMP/driver/eMPL/inv_mpu.c ****     mpu_get_compass_fsr(&compass_fsr);
3358:DMP/driver/eMPL/inv_mpu.c ****     inv_set_gyro_sample_rate(1000000L / gyro_rate);
3359:DMP/driver/eMPL/inv_mpu.c ****     inv_set_accel_sample_rate(1000000L / gyro_rate);
3360:DMP/driver/eMPL/inv_mpu.c ****     inv_set_compass_sample_rate(COMPASS_READ_MS * 1000L);
3361:DMP/driver/eMPL/inv_mpu.c ****     inv_set_gyro_orientation_and_scale(
3362:DMP/driver/eMPL/inv_mpu.c ****         inv_orientation_matrix_to_scalar(gyro_orientation),
3363:DMP/driver/eMPL/inv_mpu.c ****         (long)gyro_fsr << 15);
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 306


3364:DMP/driver/eMPL/inv_mpu.c ****     inv_set_accel_orientation_and_scale(
3365:DMP/driver/eMPL/inv_mpu.c ****         inv_orientation_matrix_to_scalar(gyro_orientation),
3366:DMP/driver/eMPL/inv_mpu.c ****         (long)accel_fsr << 15);
3367:DMP/driver/eMPL/inv_mpu.c ****     inv_set_compass_orientation_and_scale(
3368:DMP/driver/eMPL/inv_mpu.c ****         inv_orientation_matrix_to_scalar(comp_orientation),
3369:DMP/driver/eMPL/inv_mpu.c ****         (long)compass_fsr << 15);
3370:DMP/driver/eMPL/inv_mpu.c **** 
3371:DMP/driver/eMPL/inv_mpu.c ****     res = dmp_load_motion_driver_firmware(); // 加载dmp固件*/
3372:DMP/driver/eMPL/inv_mpu.c ****     if (res)
3373:DMP/driver/eMPL/inv_mpu.c ****       return 6;
3374:DMP/driver/eMPL/inv_mpu.c ****     res = dmp_set_orientation(
3375:DMP/driver/eMPL/inv_mpu.c ****         inv_orientation_matrix_to_scalar(gyro_orientation)); // 设置陀螺仪方向
3376:DMP/driver/eMPL/inv_mpu.c ****     if (res)
3377:DMP/driver/eMPL/inv_mpu.c ****       return 7;
3378:DMP/driver/eMPL/inv_mpu.c ****     res = dmp_enable_feature(
3379:DMP/driver/eMPL/inv_mpu.c ****         DMP_FEATURE_6X_LP_QUAT | DMP_FEATURE_TAP | // 设置dmp功能
3380:DMP/driver/eMPL/inv_mpu.c ****         DMP_FEATURE_ANDROID_ORIENT | DMP_FEATURE_SEND_RAW_ACCEL |
3381:DMP/driver/eMPL/inv_mpu.c ****         DMP_FEATURE_SEND_CAL_GYRO | DMP_FEATURE_GYRO_CAL);
3382:DMP/driver/eMPL/inv_mpu.c ****     if (res)
3383:DMP/driver/eMPL/inv_mpu.c ****       return 8;
3384:DMP/driver/eMPL/inv_mpu.c ****     res = dmp_set_fifo_rate(DEFAULT_MPU_HZ); // 设置DMP输出速率(最大不超过200Hz)
3385:DMP/driver/eMPL/inv_mpu.c ****     if (res)
3386:DMP/driver/eMPL/inv_mpu.c ****       return 9;
3387:DMP/driver/eMPL/inv_mpu.c ****     // res = run_self_test(); // 自检
3388:DMP/driver/eMPL/inv_mpu.c ****     // if (res)
3389:DMP/driver/eMPL/inv_mpu.c ****     //   return 10;
3390:DMP/driver/eMPL/inv_mpu.c ****     res = mpu_set_dmp_state(1); // 使能DMP
3391:DMP/driver/eMPL/inv_mpu.c ****     if (res)
3392:DMP/driver/eMPL/inv_mpu.c ****       return 11;
3393:DMP/driver/eMPL/inv_mpu.c ****   }
3394:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 11409              		.loc 1 3394 10 view .LVU3361
 11410 000c 0020     		movs	r0, #0
 11411              	.LVL833:
 11412              	.L871:
3395:DMP/driver/eMPL/inv_mpu.c **** }
 11413              		.loc 1 3395 1 view .LVU3362
 11414 000e 02B0     		add	sp, sp, #8
 11415              	.LCFI202:
 11416              		.cfi_remember_state
 11417              		.cfi_def_cfa_offset 8
 11418              		@ sp needed
 11419 0010 10BD     		pop	{r4, pc}
 11420              	.LVL834:
 11421              	.L885:
 11422              	.LCFI203:
 11423              		.cfi_restore_state
3327:DMP/driver/eMPL/inv_mpu.c ****     if (res)
 11424              		.loc 1 3327 5 is_stmt 1 view .LVU3363
3327:DMP/driver/eMPL/inv_mpu.c ****     if (res)
 11425              		.loc 1 3327 11 is_stmt 0 view .LVU3364
 11426 0012 FFF7FEFF 		bl	inv_init_mpl
 11427              	.LVL835:
3328:DMP/driver/eMPL/inv_mpu.c ****       return 1;
 11428              		.loc 1 3328 5 is_stmt 1 view .LVU3365
3328:DMP/driver/eMPL/inv_mpu.c ****       return 1;
 11429              		.loc 1 3328 8 is_stmt 0 view .LVU3366
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 307


 11430 0016 10F0FF0F 		tst	r0, #255
 11431 001a 01D0     		beq	.L886
3329:DMP/driver/eMPL/inv_mpu.c ****     inv_enable_quaternion();
 11432              		.loc 1 3329 14 view .LVU3367
 11433 001c 0120     		movs	r0, #1
 11434              	.LVL836:
3329:DMP/driver/eMPL/inv_mpu.c ****     inv_enable_quaternion();
 11435              		.loc 1 3329 14 view .LVU3368
 11436 001e F6E7     		b	.L871
 11437              	.LVL837:
 11438              	.L886:
3330:DMP/driver/eMPL/inv_mpu.c ****     inv_enable_9x_sensor_fusion();
 11439              		.loc 1 3330 5 is_stmt 1 view .LVU3369
 11440 0020 FFF7FEFF 		bl	inv_enable_quaternion
 11441              	.LVL838:
3331:DMP/driver/eMPL/inv_mpu.c ****     inv_enable_fast_nomot();
 11442              		.loc 1 3331 5 view .LVU3370
 11443 0024 FFF7FEFF 		bl	inv_enable_9x_sensor_fusion
 11444              	.LVL839:
3332:DMP/driver/eMPL/inv_mpu.c ****     inv_enable_gyro_tc();
 11445              		.loc 1 3332 5 view .LVU3371
 11446 0028 FFF7FEFF 		bl	inv_enable_fast_nomot
 11447              	.LVL840:
3333:DMP/driver/eMPL/inv_mpu.c ****     inv_enable_vector_compass_cal();
 11448              		.loc 1 3333 5 view .LVU3372
 11449 002c FFF7FEFF 		bl	inv_enable_gyro_tc
 11450              	.LVL841:
3334:DMP/driver/eMPL/inv_mpu.c ****     inv_enable_magnetic_disturbance();
 11451              		.loc 1 3334 5 view .LVU3373
 11452 0030 FFF7FEFF 		bl	inv_enable_vector_compass_cal
 11453              	.LVL842:
3335:DMP/driver/eMPL/inv_mpu.c ****     inv_enable_eMPL_outputs();
 11454              		.loc 1 3335 5 view .LVU3374
 11455 0034 FFF7FEFF 		bl	inv_enable_magnetic_disturbance
 11456              	.LVL843:
3336:DMP/driver/eMPL/inv_mpu.c ****     res = inv_start_mpl(); // 开启MPL
 11457              		.loc 1 3336 5 view .LVU3375
 11458 0038 FFF7FEFF 		bl	inv_enable_eMPL_outputs
 11459              	.LVL844:
3337:DMP/driver/eMPL/inv_mpu.c ****     if (res)
 11460              		.loc 1 3337 5 view .LVU3376
3337:DMP/driver/eMPL/inv_mpu.c ****     if (res)
 11461              		.loc 1 3337 11 is_stmt 0 view .LVU3377
 11462 003c FFF7FEFF 		bl	inv_start_mpl
 11463              	.LVL845:
3338:DMP/driver/eMPL/inv_mpu.c ****       return 1;
 11464              		.loc 1 3338 5 is_stmt 1 view .LVU3378
3338:DMP/driver/eMPL/inv_mpu.c ****       return 1;
 11465              		.loc 1 3338 8 is_stmt 0 view .LVU3379
 11466 0040 10F0FF0F 		tst	r0, #255
 11467 0044 01D0     		beq	.L887
3339:DMP/driver/eMPL/inv_mpu.c ****     res = mpu_set_sensors(INV_XYZ_GYRO | INV_XYZ_ACCEL |
 11468              		.loc 1 3339 14 view .LVU3380
 11469 0046 0120     		movs	r0, #1
 11470              	.LVL846:
3339:DMP/driver/eMPL/inv_mpu.c ****     res = mpu_set_sensors(INV_XYZ_GYRO | INV_XYZ_ACCEL |
 11471              		.loc 1 3339 14 view .LVU3381
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 308


 11472 0048 E1E7     		b	.L871
 11473              	.LVL847:
 11474              	.L887:
3340:DMP/driver/eMPL/inv_mpu.c ****                           INV_XYZ_COMPASS); // 设置所需要的传感器
 11475              		.loc 1 3340 5 is_stmt 1 view .LVU3382
3340:DMP/driver/eMPL/inv_mpu.c ****                           INV_XYZ_COMPASS); // 设置所需要的传感器
 11476              		.loc 1 3340 11 is_stmt 0 view .LVU3383
 11477 004a 7920     		movs	r0, #121
 11478              	.LVL848:
3340:DMP/driver/eMPL/inv_mpu.c ****                           INV_XYZ_COMPASS); // 设置所需要的传感器
 11479              		.loc 1 3340 11 view .LVU3384
 11480 004c FFF7FEFF 		bl	mpu_set_sensors
 11481              	.LVL849:
3342:DMP/driver/eMPL/inv_mpu.c ****       return 2;
 11482              		.loc 1 3342 5 is_stmt 1 view .LVU3385
3342:DMP/driver/eMPL/inv_mpu.c ****       return 2;
 11483              		.loc 1 3342 8 is_stmt 0 view .LVU3386
 11484 0050 10F0FF0F 		tst	r0, #255
 11485 0054 6BD1     		bne	.L875
3344:DMP/driver/eMPL/inv_mpu.c ****     if (res)
 11486              		.loc 1 3344 5 is_stmt 1 view .LVU3387
3344:DMP/driver/eMPL/inv_mpu.c ****     if (res)
 11487              		.loc 1 3344 11 is_stmt 0 view .LVU3388
 11488 0056 7820     		movs	r0, #120
 11489              	.LVL850:
3344:DMP/driver/eMPL/inv_mpu.c ****     if (res)
 11490              		.loc 1 3344 11 view .LVU3389
 11491 0058 FFF7FEFF 		bl	mpu_configure_fifo
 11492              	.LVL851:
3345:DMP/driver/eMPL/inv_mpu.c ****       return 3;
 11493              		.loc 1 3345 5 is_stmt 1 view .LVU3390
3345:DMP/driver/eMPL/inv_mpu.c ****       return 3;
 11494              		.loc 1 3345 8 is_stmt 0 view .LVU3391
 11495 005c 10F0FF0F 		tst	r0, #255
 11496 0060 67D1     		bne	.L876
3347:DMP/driver/eMPL/inv_mpu.c ****     if (res)
 11497              		.loc 1 3347 5 is_stmt 1 view .LVU3392
3347:DMP/driver/eMPL/inv_mpu.c ****     if (res)
 11498              		.loc 1 3347 11 is_stmt 0 view .LVU3393
 11499 0062 6420     		movs	r0, #100
 11500              	.LVL852:
3347:DMP/driver/eMPL/inv_mpu.c ****     if (res)
 11501              		.loc 1 3347 11 view .LVU3394
 11502 0064 FFF7FEFF 		bl	mpu_set_sample_rate
 11503              	.LVL853:
3348:DMP/driver/eMPL/inv_mpu.c ****       return 4;
 11504              		.loc 1 3348 5 is_stmt 1 view .LVU3395
3348:DMP/driver/eMPL/inv_mpu.c ****       return 4;
 11505              		.loc 1 3348 8 is_stmt 0 view .LVU3396
 11506 0068 10F0FF0F 		tst	r0, #255
 11507 006c 63D1     		bne	.L877
3350:DMP/driver/eMPL/inv_mpu.c ****         mpu_set_compass_sample_rate(1000 / COMPASS_READ_MS); // 设置磁力计采样率
 11508              		.loc 1 3350 5 is_stmt 1 view .LVU3397
3351:DMP/driver/eMPL/inv_mpu.c ****     if (res)
 11509              		.loc 1 3351 9 is_stmt 0 view .LVU3398
 11510 006e 0A20     		movs	r0, #10
 11511              	.LVL854:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 309


3351:DMP/driver/eMPL/inv_mpu.c ****     if (res)
 11512              		.loc 1 3351 9 view .LVU3399
 11513 0070 FFF7FEFF 		bl	mpu_set_compass_sample_rate
 11514              	.LVL855:
3352:DMP/driver/eMPL/inv_mpu.c ****       return 5;
 11515              		.loc 1 3352 5 is_stmt 1 view .LVU3400
3352:DMP/driver/eMPL/inv_mpu.c ****       return 5;
 11516              		.loc 1 3352 8 is_stmt 0 view .LVU3401
 11517 0074 10F0FF0F 		tst	r0, #255
 11518 0078 5FD1     		bne	.L878
3354:DMP/driver/eMPL/inv_mpu.c ****     mpu_get_gyro_fsr(&gyro_fsr);
 11519              		.loc 1 3354 5 is_stmt 1 view .LVU3402
 11520 007a 01A8     		add	r0, sp, #4
 11521              	.LVL856:
3354:DMP/driver/eMPL/inv_mpu.c ****     mpu_get_gyro_fsr(&gyro_fsr);
 11522              		.loc 1 3354 5 is_stmt 0 view .LVU3403
 11523 007c FFF7FEFF 		bl	mpu_get_sample_rate
 11524              	.LVL857:
3355:DMP/driver/eMPL/inv_mpu.c ****     mpu_get_accel_fsr(&accel_fsr);
 11525              		.loc 1 3355 5 is_stmt 1 view .LVU3404
 11526 0080 0DF10200 		add	r0, sp, #2
 11527 0084 FFF7FEFF 		bl	mpu_get_gyro_fsr
 11528              	.LVL858:
3356:DMP/driver/eMPL/inv_mpu.c ****     mpu_get_compass_fsr(&compass_fsr);
 11529              		.loc 1 3356 5 view .LVU3405
 11530 0088 0DF10700 		add	r0, sp, #7
 11531 008c FFF7FEFF 		bl	mpu_get_accel_fsr
 11532              	.LVL859:
3357:DMP/driver/eMPL/inv_mpu.c ****     inv_set_gyro_sample_rate(1000000L / gyro_rate);
 11533              		.loc 1 3357 5 view .LVU3406
 11534 0090 6846     		mov	r0, sp
 11535 0092 FFF7FEFF 		bl	mpu_get_compass_fsr
 11536              	.LVL860:
3358:DMP/driver/eMPL/inv_mpu.c ****     inv_set_accel_sample_rate(1000000L / gyro_rate);
 11537              		.loc 1 3358 5 view .LVU3407
 11538 0096 BDF80400 		ldrh	r0, [sp, #4]
 11539 009a 2D4C     		ldr	r4, .L888
 11540 009c 94FBF0F0 		sdiv	r0, r4, r0
 11541 00a0 FFF7FEFF 		bl	inv_set_gyro_sample_rate
 11542              	.LVL861:
3359:DMP/driver/eMPL/inv_mpu.c ****     inv_set_compass_sample_rate(COMPASS_READ_MS * 1000L);
 11543              		.loc 1 3359 5 view .LVU3408
 11544 00a4 BDF80400 		ldrh	r0, [sp, #4]
 11545 00a8 94FBF0F0 		sdiv	r0, r4, r0
 11546 00ac FFF7FEFF 		bl	inv_set_accel_sample_rate
 11547              	.LVL862:
3360:DMP/driver/eMPL/inv_mpu.c ****     inv_set_gyro_orientation_and_scale(
 11548              		.loc 1 3360 5 view .LVU3409
 11549 00b0 2848     		ldr	r0, .L888+4
 11550 00b2 FFF7FEFF 		bl	inv_set_compass_sample_rate
 11551              	.LVL863:
3361:DMP/driver/eMPL/inv_mpu.c ****         inv_orientation_matrix_to_scalar(gyro_orientation),
 11552              		.loc 1 3361 5 view .LVU3410
3362:DMP/driver/eMPL/inv_mpu.c ****         (long)gyro_fsr << 15);
 11553              		.loc 1 3362 9 is_stmt 0 view .LVU3411
 11554 00b6 284C     		ldr	r4, .L888+8
 11555 00b8 2046     		mov	r0, r4
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 310


 11556 00ba FFF7FEFF 		bl	inv_orientation_matrix_to_scalar
 11557              	.LVL864:
3363:DMP/driver/eMPL/inv_mpu.c ****     inv_set_accel_orientation_and_scale(
 11558              		.loc 1 3363 9 view .LVU3412
 11559 00be BDF80210 		ldrh	r1, [sp, #2]
3361:DMP/driver/eMPL/inv_mpu.c ****         inv_orientation_matrix_to_scalar(gyro_orientation),
 11560              		.loc 1 3361 5 view .LVU3413
 11561 00c2 C903     		lsls	r1, r1, #15
 11562 00c4 FFF7FEFF 		bl	inv_set_gyro_orientation_and_scale
 11563              	.LVL865:
3364:DMP/driver/eMPL/inv_mpu.c ****         inv_orientation_matrix_to_scalar(gyro_orientation),
 11564              		.loc 1 3364 5 is_stmt 1 view .LVU3414
3365:DMP/driver/eMPL/inv_mpu.c ****         (long)accel_fsr << 15);
 11565              		.loc 1 3365 9 is_stmt 0 view .LVU3415
 11566 00c8 2046     		mov	r0, r4
 11567 00ca FFF7FEFF 		bl	inv_orientation_matrix_to_scalar
 11568              	.LVL866:
3366:DMP/driver/eMPL/inv_mpu.c ****     inv_set_compass_orientation_and_scale(
 11569              		.loc 1 3366 9 view .LVU3416
 11570 00ce 9DF80710 		ldrb	r1, [sp, #7]	@ zero_extendqisi2
3364:DMP/driver/eMPL/inv_mpu.c ****         inv_orientation_matrix_to_scalar(gyro_orientation),
 11571              		.loc 1 3364 5 view .LVU3417
 11572 00d2 C903     		lsls	r1, r1, #15
 11573 00d4 FFF7FEFF 		bl	inv_set_accel_orientation_and_scale
 11574              	.LVL867:
3367:DMP/driver/eMPL/inv_mpu.c ****         inv_orientation_matrix_to_scalar(comp_orientation),
 11575              		.loc 1 3367 5 is_stmt 1 view .LVU3418
3368:DMP/driver/eMPL/inv_mpu.c ****         (long)compass_fsr << 15);
 11576              		.loc 1 3368 9 is_stmt 0 view .LVU3419
 11577 00d8 2048     		ldr	r0, .L888+12
 11578 00da FFF7FEFF 		bl	inv_orientation_matrix_to_scalar
 11579              	.LVL868:
3369:DMP/driver/eMPL/inv_mpu.c **** 
 11580              		.loc 1 3369 9 view .LVU3420
 11581 00de BDF80010 		ldrh	r1, [sp]
3367:DMP/driver/eMPL/inv_mpu.c ****         inv_orientation_matrix_to_scalar(comp_orientation),
 11582              		.loc 1 3367 5 view .LVU3421
 11583 00e2 C903     		lsls	r1, r1, #15
 11584 00e4 FFF7FEFF 		bl	inv_set_compass_orientation_and_scale
 11585              	.LVL869:
3371:DMP/driver/eMPL/inv_mpu.c ****     if (res)
 11586              		.loc 1 3371 5 is_stmt 1 view .LVU3422
3371:DMP/driver/eMPL/inv_mpu.c ****     if (res)
 11587              		.loc 1 3371 11 is_stmt 0 view .LVU3423
 11588 00e8 FFF7FEFF 		bl	dmp_load_motion_driver_firmware
 11589              	.LVL870:
3372:DMP/driver/eMPL/inv_mpu.c ****       return 6;
 11590              		.loc 1 3372 5 is_stmt 1 view .LVU3424
3372:DMP/driver/eMPL/inv_mpu.c ****       return 6;
 11591              		.loc 1 3372 8 is_stmt 0 view .LVU3425
 11592 00ec 10F0FF0F 		tst	r0, #255
 11593 00f0 25D1     		bne	.L879
3374:DMP/driver/eMPL/inv_mpu.c ****         inv_orientation_matrix_to_scalar(gyro_orientation)); // 设置陀螺仪方向
 11594              		.loc 1 3374 5 is_stmt 1 view .LVU3426
3374:DMP/driver/eMPL/inv_mpu.c ****         inv_orientation_matrix_to_scalar(gyro_orientation)); // 设置陀螺仪方向
 11595              		.loc 1 3374 11 is_stmt 0 view .LVU3427
 11596 00f2 2046     		mov	r0, r4
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 311


 11597              	.LVL871:
3374:DMP/driver/eMPL/inv_mpu.c ****         inv_orientation_matrix_to_scalar(gyro_orientation)); // 设置陀螺仪方向
 11598              		.loc 1 3374 11 view .LVU3428
 11599 00f4 FFF7FEFF 		bl	inv_orientation_matrix_to_scalar
 11600              	.LVL872:
 11601 00f8 FFF7FEFF 		bl	dmp_set_orientation
 11602              	.LVL873:
3376:DMP/driver/eMPL/inv_mpu.c ****       return 7;
 11603              		.loc 1 3376 5 is_stmt 1 view .LVU3429
3376:DMP/driver/eMPL/inv_mpu.c ****       return 7;
 11604              		.loc 1 3376 8 is_stmt 0 view .LVU3430
 11605 00fc 10F0FF0F 		tst	r0, #255
 11606 0100 1FD1     		bne	.L880
3378:DMP/driver/eMPL/inv_mpu.c ****         DMP_FEATURE_6X_LP_QUAT | DMP_FEATURE_TAP | // 设置dmp功能
 11607              		.loc 1 3378 5 is_stmt 1 view .LVU3431
3378:DMP/driver/eMPL/inv_mpu.c ****         DMP_FEATURE_6X_LP_QUAT | DMP_FEATURE_TAP | // 设置dmp功能
 11608              		.loc 1 3378 11 is_stmt 0 view .LVU3432
 11609 0102 40F27310 		movw	r0, #371
 11610              	.LVL874:
3378:DMP/driver/eMPL/inv_mpu.c ****         DMP_FEATURE_6X_LP_QUAT | DMP_FEATURE_TAP | // 设置dmp功能
 11611              		.loc 1 3378 11 view .LVU3433
 11612 0106 FFF7FEFF 		bl	dmp_enable_feature
 11613              	.LVL875:
3382:DMP/driver/eMPL/inv_mpu.c ****       return 8;
 11614              		.loc 1 3382 5 is_stmt 1 view .LVU3434
3382:DMP/driver/eMPL/inv_mpu.c ****       return 8;
 11615              		.loc 1 3382 8 is_stmt 0 view .LVU3435
 11616 010a 10F0FF0F 		tst	r0, #255
 11617 010e 1AD1     		bne	.L881
3384:DMP/driver/eMPL/inv_mpu.c ****     if (res)
 11618              		.loc 1 3384 5 is_stmt 1 view .LVU3436
3384:DMP/driver/eMPL/inv_mpu.c ****     if (res)
 11619              		.loc 1 3384 11 is_stmt 0 view .LVU3437
 11620 0110 6420     		movs	r0, #100
 11621              	.LVL876:
3384:DMP/driver/eMPL/inv_mpu.c ****     if (res)
 11622              		.loc 1 3384 11 view .LVU3438
 11623 0112 FFF7FEFF 		bl	dmp_set_fifo_rate
 11624              	.LVL877:
3385:DMP/driver/eMPL/inv_mpu.c ****       return 9;
 11625              		.loc 1 3385 5 is_stmt 1 view .LVU3439
3385:DMP/driver/eMPL/inv_mpu.c ****       return 9;
 11626              		.loc 1 3385 8 is_stmt 0 view .LVU3440
 11627 0116 10F0FF0F 		tst	r0, #255
 11628 011a 16D1     		bne	.L882
3390:DMP/driver/eMPL/inv_mpu.c ****     if (res)
 11629              		.loc 1 3390 5 is_stmt 1 view .LVU3441
3390:DMP/driver/eMPL/inv_mpu.c ****     if (res)
 11630              		.loc 1 3390 11 is_stmt 0 view .LVU3442
 11631 011c 0120     		movs	r0, #1
 11632              	.LVL878:
3390:DMP/driver/eMPL/inv_mpu.c ****     if (res)
 11633              		.loc 1 3390 11 view .LVU3443
 11634 011e FFF7FEFF 		bl	mpu_set_dmp_state
 11635              	.LVL879:
3391:DMP/driver/eMPL/inv_mpu.c ****       return 11;
 11636              		.loc 1 3391 5 is_stmt 1 view .LVU3444
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 312


3391:DMP/driver/eMPL/inv_mpu.c ****       return 11;
 11637              		.loc 1 3391 8 is_stmt 0 view .LVU3445
 11638 0122 10F0FF00 		ands	r0, r0, #255
 11639              	.LVL880:
3391:DMP/driver/eMPL/inv_mpu.c ****       return 11;
 11640              		.loc 1 3391 8 view .LVU3446
 11641 0126 3FF472AF 		beq	.L871
3392:DMP/driver/eMPL/inv_mpu.c ****   }
 11642              		.loc 1 3392 14 view .LVU3447
 11643 012a 0B20     		movs	r0, #11
 11644 012c 6FE7     		b	.L871
 11645              	.LVL881:
 11646              	.L875:
3343:DMP/driver/eMPL/inv_mpu.c ****     res = mpu_configure_fifo(INV_XYZ_GYRO | INV_XYZ_ACCEL); // 设置FIFO
 11647              		.loc 1 3343 14 view .LVU3448
 11648 012e 0220     		movs	r0, #2
 11649              	.LVL882:
3343:DMP/driver/eMPL/inv_mpu.c ****     res = mpu_configure_fifo(INV_XYZ_GYRO | INV_XYZ_ACCEL); // 设置FIFO
 11650              		.loc 1 3343 14 view .LVU3449
 11651 0130 6DE7     		b	.L871
 11652              	.LVL883:
 11653              	.L876:
3346:DMP/driver/eMPL/inv_mpu.c ****     res = mpu_set_sample_rate(DEFAULT_MPU_HZ); // 设置采样率
 11654              		.loc 1 3346 14 view .LVU3450
 11655 0132 0320     		movs	r0, #3
 11656              	.LVL884:
3346:DMP/driver/eMPL/inv_mpu.c ****     res = mpu_set_sample_rate(DEFAULT_MPU_HZ); // 设置采样率
 11657              		.loc 1 3346 14 view .LVU3451
 11658 0134 6BE7     		b	.L871
 11659              	.LVL885:
 11660              	.L877:
3349:DMP/driver/eMPL/inv_mpu.c ****     res =
 11661              		.loc 1 3349 14 view .LVU3452
 11662 0136 0420     		movs	r0, #4
 11663              	.LVL886:
3349:DMP/driver/eMPL/inv_mpu.c ****     res =
 11664              		.loc 1 3349 14 view .LVU3453
 11665 0138 69E7     		b	.L871
 11666              	.LVL887:
 11667              	.L878:
3353:DMP/driver/eMPL/inv_mpu.c ****     mpu_get_sample_rate(&gyro_rate);
 11668              		.loc 1 3353 14 view .LVU3454
 11669 013a 0520     		movs	r0, #5
 11670              	.LVL888:
3353:DMP/driver/eMPL/inv_mpu.c ****     mpu_get_sample_rate(&gyro_rate);
 11671              		.loc 1 3353 14 view .LVU3455
 11672 013c 67E7     		b	.L871
 11673              	.LVL889:
 11674              	.L879:
3373:DMP/driver/eMPL/inv_mpu.c ****     res = dmp_set_orientation(
 11675              		.loc 1 3373 14 view .LVU3456
 11676 013e 0620     		movs	r0, #6
 11677              	.LVL890:
3373:DMP/driver/eMPL/inv_mpu.c ****     res = dmp_set_orientation(
 11678              		.loc 1 3373 14 view .LVU3457
 11679 0140 65E7     		b	.L871
 11680              	.LVL891:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 313


 11681              	.L880:
3377:DMP/driver/eMPL/inv_mpu.c ****     res = dmp_enable_feature(
 11682              		.loc 1 3377 14 view .LVU3458
 11683 0142 0720     		movs	r0, #7
 11684              	.LVL892:
3377:DMP/driver/eMPL/inv_mpu.c ****     res = dmp_enable_feature(
 11685              		.loc 1 3377 14 view .LVU3459
 11686 0144 63E7     		b	.L871
 11687              	.LVL893:
 11688              	.L881:
3383:DMP/driver/eMPL/inv_mpu.c ****     res = dmp_set_fifo_rate(DEFAULT_MPU_HZ); // 设置DMP输出速率(最大不超过200Hz)
 11689              		.loc 1 3383 14 view .LVU3460
 11690 0146 0820     		movs	r0, #8
 11691              	.LVL894:
3383:DMP/driver/eMPL/inv_mpu.c ****     res = dmp_set_fifo_rate(DEFAULT_MPU_HZ); // 设置DMP输出速率(最大不超过200Hz)
 11692              		.loc 1 3383 14 view .LVU3461
 11693 0148 61E7     		b	.L871
 11694              	.LVL895:
 11695              	.L882:
3386:DMP/driver/eMPL/inv_mpu.c ****     // res = run_self_test(); // 自检
 11696              		.loc 1 3386 14 view .LVU3462
 11697 014a 0920     		movs	r0, #9
 11698              	.LVL896:
3386:DMP/driver/eMPL/inv_mpu.c ****     // res = run_self_test(); // 自检
 11699              		.loc 1 3386 14 view .LVU3463
 11700 014c 5FE7     		b	.L871
 11701              	.L889:
 11702 014e 00BF     		.align	2
 11703              	.L888:
 11704 0150 40420F00 		.word	1000000
 11705 0154 A0860100 		.word	100000
 11706 0158 00000000 		.word	gyro_orientation
 11707 015c 00000000 		.word	comp_orientation
 11708              		.cfi_endproc
 11709              	.LFE225:
 11711              		.global	__aeabi_dmul
 11712              		.global	__aeabi_d2f
 11713              		.section	.text.mpu_dmp_get_data,"ax",%progbits
 11714              		.align	1
 11715              		.global	mpu_dmp_get_data
 11716              		.syntax unified
 11717              		.thumb
 11718              		.thumb_func
 11720              	mpu_dmp_get_data:
 11721              	.LVL897:
 11722              	.LFB226:
3396:DMP/driver/eMPL/inv_mpu.c **** // 得到dmp处理后的数据(注意,本函数需要比较多堆栈,局部变量有点多)
3397:DMP/driver/eMPL/inv_mpu.c **** // pitch:俯仰角 精度:0.1°   范围:-90.0° <---> +90.0°
3398:DMP/driver/eMPL/inv_mpu.c **** // roll:横滚角  精度:0.1°   范围:-180.0°<---> +180.0°
3399:DMP/driver/eMPL/inv_mpu.c **** // yaw:航向角   精度:0.1°   范围:-180.0°<---> +180.0°
3400:DMP/driver/eMPL/inv_mpu.c **** // 返回值:0,正常
3401:DMP/driver/eMPL/inv_mpu.c **** //     其他,失败
3402:DMP/driver/eMPL/inv_mpu.c **** u8 mpu_dmp_get_data(float *pitch, float *roll, float *yaw) {
 11723              		.loc 1 3402 60 is_stmt 1 view -0
 11724              		.cfi_startproc
 11725              		@ args = 0, pretend = 0, frame = 40
 11726              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 314


 11727              		.loc 1 3402 60 is_stmt 0 view .LVU3465
 11728 0000 70B5     		push	{r4, r5, r6, lr}
 11729              	.LCFI204:
 11730              		.cfi_def_cfa_offset 16
 11731              		.cfi_offset 4, -16
 11732              		.cfi_offset 5, -12
 11733              		.cfi_offset 6, -8
 11734              		.cfi_offset 14, -4
 11735 0002 2DED088B 		vpush.64	{d8, d9, d10, d11}
 11736              	.LCFI205:
 11737              		.cfi_def_cfa_offset 48
 11738              		.cfi_offset 80, -48
 11739              		.cfi_offset 81, -44
 11740              		.cfi_offset 82, -40
 11741              		.cfi_offset 83, -36
 11742              		.cfi_offset 84, -32
 11743              		.cfi_offset 85, -28
 11744              		.cfi_offset 86, -24
 11745              		.cfi_offset 87, -20
 11746 0006 8CB0     		sub	sp, sp, #48
 11747              	.LCFI206:
 11748              		.cfi_def_cfa_offset 96
 11749 0008 0646     		mov	r6, r0
 11750 000a 0D46     		mov	r5, r1
 11751 000c 1446     		mov	r4, r2
3403:DMP/driver/eMPL/inv_mpu.c ****   float q0 = 1.0f, q1 = 0.0f, q2 = 0.0f, q3 = 0.0f;
 11752              		.loc 1 3403 3 is_stmt 1 view .LVU3466
 11753              	.LVL898:
3404:DMP/driver/eMPL/inv_mpu.c ****   unsigned long sensor_timestamp;
 11754              		.loc 1 3404 3 view .LVU3467
3405:DMP/driver/eMPL/inv_mpu.c ****   short gyro[3], accel[3], sensors;
 11755              		.loc 1 3405 3 view .LVU3468
3406:DMP/driver/eMPL/inv_mpu.c ****   unsigned char more;
 11756              		.loc 1 3406 3 view .LVU3469
3407:DMP/driver/eMPL/inv_mpu.c ****   long quat[4];
 11757              		.loc 1 3407 3 view .LVU3470
3408:DMP/driver/eMPL/inv_mpu.c ****   if (dmp_read_fifo(gyro, accel, quat, &sensor_timestamp, &sensors, &more))
 11758              		.loc 1 3408 3 view .LVU3471
 11759              		.loc 1 3408 7 is_stmt 0 view .LVU3472
 11760 000e 0DF11903 		add	r3, sp, #25
 11761 0012 0193     		str	r3, [sp, #4]
 11762 0014 0DF11A03 		add	r3, sp, #26
 11763 0018 0093     		str	r3, [sp]
 11764 001a 0BAB     		add	r3, sp, #44
 11765 001c 02AA     		add	r2, sp, #8
 11766              	.LVL899:
 11767              		.loc 1 3408 7 view .LVU3473
 11768 001e 07A9     		add	r1, sp, #28
 11769              	.LVL900:
 11770              		.loc 1 3408 7 view .LVU3474
 11771 0020 09A8     		add	r0, sp, #36
 11772              	.LVL901:
 11773              		.loc 1 3408 7 view .LVU3475
 11774 0022 FFF7FEFF 		bl	dmp_read_fifo
 11775              	.LVL902:
 11776              		.loc 1 3408 6 view .LVU3476
 11777 0026 0028     		cmp	r0, #0
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 315


 11778 0028 40F0A380 		bne	.L892
3409:DMP/driver/eMPL/inv_mpu.c ****     return 1;
3410:DMP/driver/eMPL/inv_mpu.c ****   /* Gyro and accel data are written to the FIFO by the DMP in chip frame and
3411:DMP/driver/eMPL/inv_mpu.c ****    *hardware units. This behavior is convenient because it keeps the gyro and
3412:DMP/driver/eMPL/inv_mpu.c ****    *accel outputs of dmp_read_fifo and mpu_read_fifo consistent.
3413:DMP/driver/eMPL/inv_mpu.c ****    **/
3414:DMP/driver/eMPL/inv_mpu.c ****   /*if (sensors & INV_XYZ_GYRO )
3415:DMP/driver/eMPL/inv_mpu.c ****   send_packet(PACKET_TYPE_GYRO, gyro);
3416:DMP/driver/eMPL/inv_mpu.c ****   if (sensors & INV_XYZ_ACCEL)
3417:DMP/driver/eMPL/inv_mpu.c ****   send_packet(PACKET_TYPE_ACCEL, accel); */
3418:DMP/driver/eMPL/inv_mpu.c ****   /* Unlike gyro and accel, quaternions are written to the FIFO in the body
3419:DMP/driver/eMPL/inv_mpu.c ****    *frame, q30. The orientation is set by the scalar passed to
3420:DMP/driver/eMPL/inv_mpu.c ****    *dmp_set_orientation during initialization.
3421:DMP/driver/eMPL/inv_mpu.c ****    **/
3422:DMP/driver/eMPL/inv_mpu.c ****   if (sensors & INV_WXYZ_QUAT) {
 11779              		.loc 1 3422 3 is_stmt 1 view .LVU3477
 11780              		.loc 1 3422 15 is_stmt 0 view .LVU3478
 11781 002c BDF91A30 		ldrsh	r3, [sp, #26]
 11782              		.loc 1 3422 6 view .LVU3479
 11783 0030 13F4807F 		tst	r3, #256
 11784 0034 00F09F80 		beq	.L893
3423:DMP/driver/eMPL/inv_mpu.c ****     q0 = quat[0] / q30; // q30格式转换为浮点数
 11785              		.loc 1 3423 5 is_stmt 1 view .LVU3480
 11786              		.loc 1 3423 18 is_stmt 0 view .LVU3481
 11787 0038 DDED027A 		vldr.32	s15, [sp, #8]	@ int
 11788 003c B8EEE78A 		vcvt.f32.s32	s16, s15
 11789              		.loc 1 3423 8 view .LVU3482
 11790 0040 DFED517A 		vldr.32	s15, .L895+8
 11791 0044 28EE278A 		vmul.f32	s16, s16, s15
 11792              	.LVL903:
3424:DMP/driver/eMPL/inv_mpu.c ****     q1 = quat[1] / q30;
 11793              		.loc 1 3424 5 is_stmt 1 view .LVU3483
 11794              		.loc 1 3424 18 is_stmt 0 view .LVU3484
 11795 0048 9DED037A 		vldr.32	s14, [sp, #12]	@ int
 11796 004c B8EEC79A 		vcvt.f32.s32	s18, s14
 11797              		.loc 1 3424 8 view .LVU3485
 11798 0050 29EE279A 		vmul.f32	s18, s18, s15
 11799              	.LVL904:
3425:DMP/driver/eMPL/inv_mpu.c ****     q2 = quat[2] / q30;
 11800              		.loc 1 3425 5 is_stmt 1 view .LVU3486
 11801              		.loc 1 3425 18 is_stmt 0 view .LVU3487
 11802 0054 9DED047A 		vldr.32	s14, [sp, #16]	@ int
 11803 0058 F8EEC78A 		vcvt.f32.s32	s17, s14
 11804              		.loc 1 3425 8 view .LVU3488
 11805 005c 68EEA78A 		vmul.f32	s17, s17, s15
 11806              	.LVL905:
3426:DMP/driver/eMPL/inv_mpu.c ****     q3 = quat[3] / q30;
 11807              		.loc 1 3426 5 is_stmt 1 view .LVU3489
 11808              		.loc 1 3426 18 is_stmt 0 view .LVU3490
 11809 0060 9DED057A 		vldr.32	s14, [sp, #20]	@ int
 11810 0064 F8EEC79A 		vcvt.f32.s32	s19, s14
 11811              		.loc 1 3426 8 view .LVU3491
 11812 0068 69EEA79A 		vmul.f32	s19, s19, s15
 11813              	.LVL906:
3427:DMP/driver/eMPL/inv_mpu.c ****     // 计算得到俯仰角/横滚角/航向角
3428:DMP/driver/eMPL/inv_mpu.c ****     *pitch = asin(-2 * q1 * q3 + 2 * q0 * q2) * 57.3; // pitch
 11814              		.loc 1 3428 5 is_stmt 1 view .LVU3492
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 316


 11815              		.loc 1 3428 22 is_stmt 0 view .LVU3493
 11816 006c B8EE00AA 		vmov.f32	s20, #-2.0e+0
 11817 0070 29EE0AAA 		vmul.f32	s20, s18, s20
 11818              		.loc 1 3428 27 view .LVU3494
 11819 0074 2AEE297A 		vmul.f32	s14, s20, s19
 11820              		.loc 1 3428 36 view .LVU3495
 11821 0078 78EE08AA 		vadd.f32	s21, s16, s16
 11822              		.loc 1 3428 41 view .LVU3496
 11823 007c 6AEEA87A 		vmul.f32	s15, s21, s17
 11824              		.loc 1 3428 14 view .LVU3497
 11825 0080 77EE277A 		vadd.f32	s15, s14, s15
 11826 0084 17EE900A 		vmov	r0, s15
 11827 0088 FFF7FEFF 		bl	__aeabi_f2d
 11828              	.LVL907:
 11829 008c 41EC100B 		vmov	d0, r0, r1
 11830 0090 FFF7FEFF 		bl	asin
 11831              	.LVL908:
 11832 0094 51EC100B 		vmov	r0, r1, d0
 11833              		.loc 1 3428 47 view .LVU3498
 11834 0098 39A3     		adr	r3, .L895
 11835 009a D3E90023 		ldrd	r2, [r3]
 11836 009e FFF7FEFF 		bl	__aeabi_dmul
 11837              	.LVL909:
 11838 00a2 FFF7FEFF 		bl	__aeabi_d2f
 11839              	.LVL910:
 11840              		.loc 1 3428 12 view .LVU3499
 11841 00a6 3060     		str	r0, [r6]	@ float
3429:DMP/driver/eMPL/inv_mpu.c ****     *roll = atan2(2 * q2 * q3 + 2 * q0 * q1, -2 * q1 * q1 - 2 * q2 * q2 + 1) *
 11842              		.loc 1 3429 5 is_stmt 1 view .LVU3500
 11843              		.loc 1 3429 21 is_stmt 0 view .LVU3501
 11844 00a8 78EEA87A 		vadd.f32	s15, s17, s17
 11845              		.loc 1 3429 26 view .LVU3502
 11846 00ac 27EEA9BA 		vmul.f32	s22, s15, s19
 11847              		.loc 1 3429 40 view .LVU3503
 11848 00b0 6AEE89AA 		vmul.f32	s21, s21, s18
 11849              		.loc 1 3429 31 view .LVU3504
 11850 00b4 3BEE2ABA 		vadd.f32	s22, s22, s21
 11851              		.loc 1 3429 54 view .LVU3505
 11852 00b8 2AEE09AA 		vmul.f32	s20, s20, s18
 11853              		.loc 1 3429 68 view .LVU3506
 11854 00bc 67EEA87A 		vmul.f32	s15, s15, s17
 11855              		.loc 1 3429 59 view .LVU3507
 11856 00c0 3AEE67AA 		vsub.f32	s20, s20, s15
 11857              		.loc 1 3429 13 view .LVU3508
 11858 00c4 F7EE007A 		vmov.f32	s15, #1.0e+0
 11859 00c8 7AEE277A 		vadd.f32	s15, s20, s15
 11860 00cc 17EE900A 		vmov	r0, s15
 11861 00d0 FFF7FEFF 		bl	__aeabi_f2d
 11862              	.LVL911:
 11863 00d4 41EC1A0B 		vmov	d10, r0, r1
 11864 00d8 1BEE100A 		vmov	r0, s22
 11865 00dc FFF7FEFF 		bl	__aeabi_f2d
 11866              	.LVL912:
 11867 00e0 B0EE4A1A 		vmov.f32	s2, s20
 11868 00e4 F0EE6A1A 		vmov.f32	s3, s21
 11869 00e8 41EC100B 		vmov	d0, r0, r1
 11870 00ec FFF7FEFF 		bl	atan2
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 317


 11871              	.LVL913:
 11872 00f0 51EC100B 		vmov	r0, r1, d0
 11873              		.loc 1 3429 78 view .LVU3509
 11874 00f4 22A3     		adr	r3, .L895
 11875 00f6 D3E90023 		ldrd	r2, [r3]
 11876 00fa FFF7FEFF 		bl	__aeabi_dmul
 11877              	.LVL914:
 11878 00fe FFF7FEFF 		bl	__aeabi_d2f
 11879              	.LVL915:
 11880              		.loc 1 3429 11 view .LVU3510
 11881 0102 2860     		str	r0, [r5]	@ float
3430:DMP/driver/eMPL/inv_mpu.c ****             57.3; // roll
3431:DMP/driver/eMPL/inv_mpu.c ****     *yaw =
 11882              		.loc 1 3431 5 is_stmt 1 view .LVU3511
3432:DMP/driver/eMPL/inv_mpu.c ****         atan2(2 * (q1 * q2 + q0 * q3), q0 * q0 + q1 * q1 - q2 * q2 - q3 * q3) *
 11883              		.loc 1 3432 23 is_stmt 0 view .LVU3512
 11884 0104 69EE287A 		vmul.f32	s15, s18, s17
 11885              		.loc 1 3432 33 view .LVU3513
 11886 0108 28EE297A 		vmul.f32	s14, s16, s19
 11887              		.loc 1 3432 28 view .LVU3514
 11888 010c 77EE877A 		vadd.f32	s15, s15, s14
 11889              		.loc 1 3432 17 view .LVU3515
 11890 0110 37EEA7AA 		vadd.f32	s20, s15, s15
 11891              		.loc 1 3432 43 view .LVU3516
 11892 0114 28EE088A 		vmul.f32	s16, s16, s16
 11893              	.LVL916:
 11894              		.loc 1 3432 53 view .LVU3517
 11895 0118 29EE099A 		vmul.f32	s18, s18, s18
 11896              	.LVL917:
 11897              		.loc 1 3432 48 view .LVU3518
 11898 011c 38EE098A 		vadd.f32	s16, s16, s18
 11899              		.loc 1 3432 63 view .LVU3519
 11900 0120 68EEA88A 		vmul.f32	s17, s17, s17
 11901              	.LVL918:
 11902              		.loc 1 3432 58 view .LVU3520
 11903 0124 38EE688A 		vsub.f32	s16, s16, s17
 11904              		.loc 1 3432 73 view .LVU3521
 11905 0128 69EEA99A 		vmul.f32	s19, s19, s19
 11906              	.LVL919:
 11907              		.loc 1 3432 9 view .LVU3522
 11908 012c 78EE697A 		vsub.f32	s15, s16, s19
 11909 0130 17EE900A 		vmov	r0, s15
 11910 0134 FFF7FEFF 		bl	__aeabi_f2d
 11911              	.LVL920:
 11912 0138 41EC180B 		vmov	d8, r0, r1
 11913 013c 1AEE100A 		vmov	r0, s20
 11914 0140 FFF7FEFF 		bl	__aeabi_f2d
 11915              	.LVL921:
 11916 0144 B0EE481A 		vmov.f32	s2, s16
 11917 0148 F0EE681A 		vmov.f32	s3, s17
 11918 014c 41EC100B 		vmov	d0, r0, r1
 11919 0150 FFF7FEFF 		bl	atan2
 11920              	.LVL922:
 11921 0154 51EC100B 		vmov	r0, r1, d0
 11922              		.loc 1 3432 79 view .LVU3523
 11923 0158 09A3     		adr	r3, .L895
 11924 015a D3E90023 		ldrd	r2, [r3]
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 318


 11925 015e FFF7FEFF 		bl	__aeabi_dmul
 11926              	.LVL923:
 11927 0162 FFF7FEFF 		bl	__aeabi_d2f
 11928              	.LVL924:
3431:DMP/driver/eMPL/inv_mpu.c ****         atan2(2 * (q1 * q2 + q0 * q3), q0 * q0 + q1 * q1 - q2 * q2 - q3 * q3) *
 11929              		.loc 1 3431 10 view .LVU3524
 11930 0166 2060     		str	r0, [r4]	@ float
3433:DMP/driver/eMPL/inv_mpu.c ****         57.3; // yaw
3434:DMP/driver/eMPL/inv_mpu.c ****   } else
3435:DMP/driver/eMPL/inv_mpu.c ****     return 2;
3436:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 11931              		.loc 1 3436 3 is_stmt 1 view .LVU3525
 11932              		.loc 1 3436 10 is_stmt 0 view .LVU3526
 11933 0168 0020     		movs	r0, #0
 11934              	.LVL925:
 11935              	.L891:
3437:DMP/driver/eMPL/inv_mpu.c **** }
 11936              		.loc 1 3437 1 view .LVU3527
 11937 016a 0CB0     		add	sp, sp, #48
 11938              	.LCFI207:
 11939              		.cfi_remember_state
 11940              		.cfi_def_cfa_offset 48
 11941              		@ sp needed
 11942 016c BDEC088B 		vldm	sp!, {d8-d11}
 11943              	.LCFI208:
 11944              		.cfi_restore 86
 11945              		.cfi_restore 87
 11946              		.cfi_restore 84
 11947              		.cfi_restore 85
 11948              		.cfi_restore 82
 11949              		.cfi_restore 83
 11950              		.cfi_restore 80
 11951              		.cfi_restore 81
 11952              		.cfi_def_cfa_offset 16
 11953 0170 70BD     		pop	{r4, r5, r6, pc}
 11954              	.LVL926:
 11955              	.L892:
 11956              	.LCFI209:
 11957              		.cfi_restore_state
3409:DMP/driver/eMPL/inv_mpu.c ****   /* Gyro and accel data are written to the FIFO by the DMP in chip frame and
 11958              		.loc 1 3409 12 view .LVU3528
 11959 0172 0120     		movs	r0, #1
 11960 0174 F9E7     		b	.L891
 11961              	.L893:
3435:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 11962              		.loc 1 3435 12 view .LVU3529
 11963 0176 0220     		movs	r0, #2
 11964 0178 F7E7     		b	.L891
 11965              	.L896:
 11966 017a 00BFAFF3 		.align	3
 11966      0080
 11967              	.L895:
 11968 0180 66666666 		.word	1717986918
 11969 0184 66A64C40 		.word	1078765158
 11970 0188 00008030 		.word	813694976
 11971              		.cfi_endproc
 11972              	.LFE226:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 319


 11974              		.section	.text.mpu_mpl_get_data,"ax",%progbits
 11975              		.align	1
 11976              		.global	mpu_mpl_get_data
 11977              		.syntax unified
 11978              		.thumb
 11979              		.thumb_func
 11981              	mpu_mpl_get_data:
 11982              	.LVL927:
 11983              	.LFB227:
3438:DMP/driver/eMPL/inv_mpu.c **** 
3439:DMP/driver/eMPL/inv_mpu.c **** // pitch:俯仰角 精度:0.1°   范围:-90.0° <---> +90.0°
3440:DMP/driver/eMPL/inv_mpu.c **** // roll:横滚角  精度:0.1°   范围:-180.0°<---> +180.0°
3441:DMP/driver/eMPL/inv_mpu.c **** // yaw:航向角   精度:0.1°   范围:-180.0°<---> +180.0°
3442:DMP/driver/eMPL/inv_mpu.c **** // 返回值:0,正常
3443:DMP/driver/eMPL/inv_mpu.c **** //     其他,失败
3444:DMP/driver/eMPL/inv_mpu.c **** u8 mpu_mpl_get_data(float *pitch, float *roll, float *yaw) {
 11984              		.loc 1 3444 60 is_stmt 1 view -0
 11985              		.cfi_startproc
 11986              		@ args = 0, pretend = 0, frame = 120
 11987              		@ frame_needed = 0, uses_anonymous_args = 0
 11988              		.loc 1 3444 60 is_stmt 0 view .LVU3531
 11989 0000 70B5     		push	{r4, r5, r6, lr}
 11990              	.LCFI210:
 11991              		.cfi_def_cfa_offset 16
 11992              		.cfi_offset 4, -16
 11993              		.cfi_offset 5, -12
 11994              		.cfi_offset 6, -8
 11995              		.cfi_offset 14, -4
 11996 0002 A0B0     		sub	sp, sp, #128
 11997              	.LCFI211:
 11998              		.cfi_def_cfa_offset 144
 11999 0004 0646     		mov	r6, r0
 12000 0006 0D46     		mov	r5, r1
 12001 0008 1446     		mov	r4, r2
3445:DMP/driver/eMPL/inv_mpu.c ****   unsigned long sensor_timestamp, timestamp;
 12002              		.loc 1 3445 3 is_stmt 1 view .LVU3532
3446:DMP/driver/eMPL/inv_mpu.c ****   short gyro[3], accel_short[3], compass_short[3], sensors;
 12003              		.loc 1 3446 3 view .LVU3533
3447:DMP/driver/eMPL/inv_mpu.c ****   unsigned char more;
 12004              		.loc 1 3447 3 view .LVU3534
3448:DMP/driver/eMPL/inv_mpu.c ****   long compass[3], accel[3], quat[4], temperature;
 12005              		.loc 1 3448 3 view .LVU3535
3449:DMP/driver/eMPL/inv_mpu.c ****   long data[9];
 12006              		.loc 1 3449 3 view .LVU3536
3450:DMP/driver/eMPL/inv_mpu.c ****   int8_t accuracy;
 12007              		.loc 1 3450 3 view .LVU3537
3451:DMP/driver/eMPL/inv_mpu.c **** 
3452:DMP/driver/eMPL/inv_mpu.c ****   if (dmp_read_fifo(gyro, accel_short, quat, &sensor_timestamp, &sensors,
 12008              		.loc 1 3452 3 view .LVU3538
 12009              		.loc 1 3452 7 is_stmt 0 view .LVU3539
 12010 000a 0DF15D03 		add	r3, sp, #93
 12011 000e 0193     		str	r3, [sp, #4]
 12012 0010 0DF15E03 		add	r3, sp, #94
 12013 0014 0093     		str	r3, [sp]
 12014 0016 1FAB     		add	r3, sp, #124
 12015 0018 0DAA     		add	r2, sp, #52
 12016              	.LVL928:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 320


 12017              		.loc 1 3452 7 view .LVU3540
 12018 001a 1AA9     		add	r1, sp, #104
 12019              	.LVL929:
 12020              		.loc 1 3452 7 view .LVU3541
 12021 001c 1CA8     		add	r0, sp, #112
 12022              	.LVL930:
 12023              		.loc 1 3452 7 view .LVU3542
 12024 001e FFF7FEFF 		bl	dmp_read_fifo
 12025              	.LVL931:
 12026              		.loc 1 3452 6 view .LVU3543
 12027 0022 0028     		cmp	r0, #0
 12028 0024 61D1     		bne	.L902
3453:DMP/driver/eMPL/inv_mpu.c ****                     &more))
3454:DMP/driver/eMPL/inv_mpu.c ****     return 1;
3455:DMP/driver/eMPL/inv_mpu.c **** 
3456:DMP/driver/eMPL/inv_mpu.c ****   if (sensors & INV_XYZ_GYRO) {
 12029              		.loc 1 3456 3 is_stmt 1 view .LVU3544
 12030              		.loc 1 3456 15 is_stmt 0 view .LVU3545
 12031 0026 BDF95E30 		ldrsh	r3, [sp, #94]
 12032              		.loc 1 3456 6 view .LVU3546
 12033 002a 13F0700F 		tst	r3, #112
 12034 002e 31D1     		bne	.L904
 12035              	.L899:
3457:DMP/driver/eMPL/inv_mpu.c ****     inv_build_gyro(gyro, sensor_timestamp); // 把新数据发送给MPL
3458:DMP/driver/eMPL/inv_mpu.c ****     mpu_get_temperature(&temperature, &sensor_timestamp);
3459:DMP/driver/eMPL/inv_mpu.c ****     inv_build_temp(temperature,
3460:DMP/driver/eMPL/inv_mpu.c ****                    sensor_timestamp); // 把温度值发给MPL，只有陀螺仪需要温度值
3461:DMP/driver/eMPL/inv_mpu.c ****   }
3462:DMP/driver/eMPL/inv_mpu.c **** 
3463:DMP/driver/eMPL/inv_mpu.c ****   if (sensors & INV_XYZ_ACCEL) {
 12036              		.loc 1 3463 3 is_stmt 1 view .LVU3547
 12037              		.loc 1 3463 15 is_stmt 0 view .LVU3548
 12038 0030 BDF95E30 		ldrsh	r3, [sp, #94]
 12039              		.loc 1 3463 6 view .LVU3549
 12040 0034 13F0080F 		tst	r3, #8
 12041 0038 39D1     		bne	.L905
 12042              	.L900:
3464:DMP/driver/eMPL/inv_mpu.c ****     accel[0] = (long)accel_short[0];
3465:DMP/driver/eMPL/inv_mpu.c ****     accel[1] = (long)accel_short[1];
3466:DMP/driver/eMPL/inv_mpu.c ****     accel[2] = (long)accel_short[2];
3467:DMP/driver/eMPL/inv_mpu.c ****     inv_build_accel(accel, 0, sensor_timestamp); // 把加速度值发给MPL
3468:DMP/driver/eMPL/inv_mpu.c ****   }
3469:DMP/driver/eMPL/inv_mpu.c **** 
3470:DMP/driver/eMPL/inv_mpu.c ****   if (!mpu_get_compass_reg(compass_short, &sensor_timestamp)) {
 12043              		.loc 1 3470 3 is_stmt 1 view .LVU3550
 12044              		.loc 1 3470 8 is_stmt 0 view .LVU3551
 12045 003a 1FA9     		add	r1, sp, #124
 12046 003c 18A8     		add	r0, sp, #96
 12047 003e FFF7FEFF 		bl	mpu_get_compass_reg
 12048              	.LVL932:
 12049              		.loc 1 3470 6 view .LVU3552
 12050 0042 0028     		cmp	r0, #0
 12051 0044 42D0     		beq	.L906
 12052              	.L901:
3471:DMP/driver/eMPL/inv_mpu.c ****     compass[0] = (long)compass_short[0];
3472:DMP/driver/eMPL/inv_mpu.c ****     compass[1] = (long)compass_short[1];
3473:DMP/driver/eMPL/inv_mpu.c ****     compass[2] = (long)compass_short[2];
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 321


3474:DMP/driver/eMPL/inv_mpu.c ****     inv_build_compass(compass, 0, sensor_timestamp); // 把磁力计值发给MPL
3475:DMP/driver/eMPL/inv_mpu.c ****   }
3476:DMP/driver/eMPL/inv_mpu.c ****   inv_execute_on_data();
 12053              		.loc 1 3476 3 is_stmt 1 view .LVU3553
 12054 0046 FFF7FEFF 		bl	inv_execute_on_data
 12055              	.LVL933:
3477:DMP/driver/eMPL/inv_mpu.c ****   inv_get_sensor_type_euler(data, &accuracy, &timestamp);
 12056              		.loc 1 3477 3 view .LVU3554
 12057 004a 1EAA     		add	r2, sp, #120
 12058 004c 0DF10B01 		add	r1, sp, #11
 12059 0050 03A8     		add	r0, sp, #12
 12060 0052 FFF7FEFF 		bl	inv_get_sensor_type_euler
 12061              	.LVL934:
3478:DMP/driver/eMPL/inv_mpu.c **** 
3479:DMP/driver/eMPL/inv_mpu.c ****   *roll = (data[0] / q16);
 12062              		.loc 1 3479 3 view .LVU3555
 12063              		.loc 1 3479 20 is_stmt 0 view .LVU3556
 12064 0056 DDED037A 		vldr.32	s15, [sp, #12]	@ int
 12065 005a F8EEE77A 		vcvt.f32.s32	s15, s15
 12066 005e 9FED247A 		vldr.32	s14, .L907
 12067 0062 67EE877A 		vmul.f32	s15, s15, s14
 12068              		.loc 1 3479 9 view .LVU3557
 12069 0066 C5ED007A 		vstr.32	s15, [r5]
3480:DMP/driver/eMPL/inv_mpu.c ****   *pitch = -(data[1] / q16);
 12070              		.loc 1 3480 3 is_stmt 1 view .LVU3558
 12071              		.loc 1 3480 22 is_stmt 0 view .LVU3559
 12072 006a DDED047A 		vldr.32	s15, [sp, #16]	@ int
 12073 006e F8EEE77A 		vcvt.f32.s32	s15, s15
 12074              		.loc 1 3480 12 view .LVU3560
 12075 0072 67EE677A 		vnmul.f32	s15, s14, s15
 12076              		.loc 1 3480 10 view .LVU3561
 12077 0076 C6ED007A 		vstr.32	s15, [r6]
3481:DMP/driver/eMPL/inv_mpu.c ****   *yaw = -data[2] / q16;
 12078              		.loc 1 3481 3 is_stmt 1 view .LVU3562
 12079              		.loc 1 3481 15 is_stmt 0 view .LVU3563
 12080 007a 059B     		ldr	r3, [sp, #20]
 12081              		.loc 1 3481 10 view .LVU3564
 12082 007c 5B42     		rsbs	r3, r3, #0
 12083 007e 07EE903A 		vmov	s15, r3	@ int
 12084              		.loc 1 3481 19 view .LVU3565
 12085 0082 F8EEE77A 		vcvt.f32.s32	s15, s15
 12086 0086 67EE877A 		vmul.f32	s15, s15, s14
 12087              		.loc 1 3481 8 view .LVU3566
 12088 008a C4ED007A 		vstr.32	s15, [r4]
3482:DMP/driver/eMPL/inv_mpu.c ****   return 0;
 12089              		.loc 1 3482 3 is_stmt 1 view .LVU3567
 12090              		.loc 1 3482 10 is_stmt 0 view .LVU3568
 12091 008e 0020     		movs	r0, #0
 12092              	.L898:
3483:DMP/driver/eMPL/inv_mpu.c **** }
 12093              		.loc 1 3483 1 view .LVU3569
 12094 0090 20B0     		add	sp, sp, #128
 12095              	.LCFI212:
 12096              		.cfi_remember_state
 12097              		.cfi_def_cfa_offset 16
 12098              		@ sp needed
 12099 0092 70BD     		pop	{r4, r5, r6, pc}
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 322


 12100              	.LVL935:
 12101              	.L904:
 12102              	.LCFI213:
 12103              		.cfi_restore_state
3457:DMP/driver/eMPL/inv_mpu.c ****     mpu_get_temperature(&temperature, &sensor_timestamp);
 12104              		.loc 1 3457 5 is_stmt 1 view .LVU3570
 12105 0094 1F99     		ldr	r1, [sp, #124]
 12106 0096 1CA8     		add	r0, sp, #112
 12107 0098 FFF7FEFF 		bl	inv_build_gyro
 12108              	.LVL936:
3458:DMP/driver/eMPL/inv_mpu.c ****     inv_build_temp(temperature,
 12109              		.loc 1 3458 5 view .LVU3571
 12110 009c 1FA9     		add	r1, sp, #124
 12111 009e 0CA8     		add	r0, sp, #48
 12112 00a0 FFF7FEFF 		bl	mpu_get_temperature
 12113              	.LVL937:
3459:DMP/driver/eMPL/inv_mpu.c ****                    sensor_timestamp); // 把温度值发给MPL，只有陀螺仪需要温度值
 12114              		.loc 1 3459 5 view .LVU3572
 12115 00a4 1F99     		ldr	r1, [sp, #124]
 12116 00a6 0C98     		ldr	r0, [sp, #48]
 12117 00a8 FFF7FEFF 		bl	inv_build_temp
 12118              	.LVL938:
 12119 00ac C0E7     		b	.L899
 12120              	.L905:
3464:DMP/driver/eMPL/inv_mpu.c ****     accel[1] = (long)accel_short[1];
 12121              		.loc 1 3464 5 view .LVU3573
3464:DMP/driver/eMPL/inv_mpu.c ****     accel[1] = (long)accel_short[1];
 12122              		.loc 1 3464 33 is_stmt 0 view .LVU3574
 12123 00ae BDF96830 		ldrsh	r3, [sp, #104]
3464:DMP/driver/eMPL/inv_mpu.c ****     accel[1] = (long)accel_short[1];
 12124              		.loc 1 3464 14 view .LVU3575
 12125 00b2 1193     		str	r3, [sp, #68]
3465:DMP/driver/eMPL/inv_mpu.c ****     accel[2] = (long)accel_short[2];
 12126              		.loc 1 3465 5 is_stmt 1 view .LVU3576
3465:DMP/driver/eMPL/inv_mpu.c ****     accel[2] = (long)accel_short[2];
 12127              		.loc 1 3465 33 is_stmt 0 view .LVU3577
 12128 00b4 BDF96A30 		ldrsh	r3, [sp, #106]
3465:DMP/driver/eMPL/inv_mpu.c ****     accel[2] = (long)accel_short[2];
 12129              		.loc 1 3465 14 view .LVU3578
 12130 00b8 1293     		str	r3, [sp, #72]
3466:DMP/driver/eMPL/inv_mpu.c ****     inv_build_accel(accel, 0, sensor_timestamp); // 把加速度值发给MPL
 12131              		.loc 1 3466 5 is_stmt 1 view .LVU3579
3466:DMP/driver/eMPL/inv_mpu.c ****     inv_build_accel(accel, 0, sensor_timestamp); // 把加速度值发给MPL
 12132              		.loc 1 3466 33 is_stmt 0 view .LVU3580
 12133 00ba BDF96C30 		ldrsh	r3, [sp, #108]
3466:DMP/driver/eMPL/inv_mpu.c ****     inv_build_accel(accel, 0, sensor_timestamp); // 把加速度值发给MPL
 12134              		.loc 1 3466 14 view .LVU3581
 12135 00be 1393     		str	r3, [sp, #76]
3467:DMP/driver/eMPL/inv_mpu.c ****   }
 12136              		.loc 1 3467 5 is_stmt 1 view .LVU3582
 12137 00c0 1F9A     		ldr	r2, [sp, #124]
 12138 00c2 0021     		movs	r1, #0
 12139 00c4 11A8     		add	r0, sp, #68
 12140 00c6 FFF7FEFF 		bl	inv_build_accel
 12141              	.LVL939:
 12142 00ca B6E7     		b	.L900
 12143              	.L906:
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 323


3471:DMP/driver/eMPL/inv_mpu.c ****     compass[1] = (long)compass_short[1];
 12144              		.loc 1 3471 5 view .LVU3583
3471:DMP/driver/eMPL/inv_mpu.c ****     compass[1] = (long)compass_short[1];
 12145              		.loc 1 3471 37 is_stmt 0 view .LVU3584
 12146 00cc BDF96030 		ldrsh	r3, [sp, #96]
3471:DMP/driver/eMPL/inv_mpu.c ****     compass[1] = (long)compass_short[1];
 12147              		.loc 1 3471 16 view .LVU3585
 12148 00d0 1493     		str	r3, [sp, #80]
3472:DMP/driver/eMPL/inv_mpu.c ****     compass[2] = (long)compass_short[2];
 12149              		.loc 1 3472 5 is_stmt 1 view .LVU3586
3472:DMP/driver/eMPL/inv_mpu.c ****     compass[2] = (long)compass_short[2];
 12150              		.loc 1 3472 37 is_stmt 0 view .LVU3587
 12151 00d2 BDF96230 		ldrsh	r3, [sp, #98]
3472:DMP/driver/eMPL/inv_mpu.c ****     compass[2] = (long)compass_short[2];
 12152              		.loc 1 3472 16 view .LVU3588
 12153 00d6 1593     		str	r3, [sp, #84]
3473:DMP/driver/eMPL/inv_mpu.c ****     inv_build_compass(compass, 0, sensor_timestamp); // 把磁力计值发给MPL
 12154              		.loc 1 3473 5 is_stmt 1 view .LVU3589
3473:DMP/driver/eMPL/inv_mpu.c ****     inv_build_compass(compass, 0, sensor_timestamp); // 把磁力计值发给MPL
 12155              		.loc 1 3473 37 is_stmt 0 view .LVU3590
 12156 00d8 BDF96430 		ldrsh	r3, [sp, #100]
3473:DMP/driver/eMPL/inv_mpu.c ****     inv_build_compass(compass, 0, sensor_timestamp); // 把磁力计值发给MPL
 12157              		.loc 1 3473 16 view .LVU3591
 12158 00dc 1693     		str	r3, [sp, #88]
3474:DMP/driver/eMPL/inv_mpu.c ****   }
 12159              		.loc 1 3474 5 is_stmt 1 view .LVU3592
 12160 00de 1F9A     		ldr	r2, [sp, #124]
 12161 00e0 0021     		movs	r1, #0
 12162 00e2 14A8     		add	r0, sp, #80
 12163 00e4 FFF7FEFF 		bl	inv_build_compass
 12164              	.LVL940:
 12165 00e8 ADE7     		b	.L901
 12166              	.L902:
3454:DMP/driver/eMPL/inv_mpu.c **** 
 12167              		.loc 1 3454 12 is_stmt 0 view .LVU3593
 12168 00ea 0120     		movs	r0, #1
 12169 00ec D0E7     		b	.L898
 12170              	.L908:
 12171 00ee 00BF     		.align	2
 12172              	.L907:
 12173 00f0 00008037 		.word	931135488
 12174              		.cfi_endproc
 12175              	.LFE227:
 12177              		.section	.data.comp_orientation,"aw"
 12178              		.align	2
 12181              	comp_orientation:
 12182 0000 00010001 		.ascii	"\000\001\000\001\000\000\000\000\377"
 12182      00000000 
 12182      FF
 12183              		.section	.data.gyro_orientation,"aw"
 12184              		.align	2
 12187              	gyro_orientation:
 12188 0000 01000000 		.ascii	"\001\000\000\000\001\000\000\000\001"
 12188      01000000 
 12188      01
 12189              		.section	.rodata.mpu_6500_st_tb,"a"
 12190              		.align	2
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 324


 12193              	mpu_6500_st_tb:
 12194 0000 3C0A     		.short	2620
 12195 0002 560A     		.short	2646
 12196 0004 700A     		.short	2672
 12197 0006 8B0A     		.short	2699
 12198 0008 A60A     		.short	2726
 12199 000a C10A     		.short	2753
 12200 000c DD0A     		.short	2781
 12201 000e F80A     		.short	2808
 12202 0010 150B     		.short	2837
 12203 0012 310B     		.short	2865
 12204 0014 4E0B     		.short	2894
 12205 0016 6B0B     		.short	2923
 12206 0018 880B     		.short	2952
 12207 001a A50B     		.short	2981
 12208 001c C30B     		.short	3011
 12209 001e E10B     		.short	3041
 12210 0020 000C     		.short	3072
 12211 0022 1E0C     		.short	3102
 12212 0024 3D0C     		.short	3133
 12213 0026 5D0C     		.short	3165
 12214 0028 7C0C     		.short	3196
 12215 002a 9C0C     		.short	3228
 12216 002c BD0C     		.short	3261
 12217 002e DD0C     		.short	3293
 12218 0030 FE0C     		.short	3326
 12219 0032 1F0D     		.short	3359
 12220 0034 410D     		.short	3393
 12221 0036 630D     		.short	3427
 12222 0038 850D     		.short	3461
 12223 003a A80D     		.short	3496
 12224 003c CB0D     		.short	3531
 12225 003e EE0D     		.short	3566
 12226 0040 120E     		.short	3602
 12227 0042 360E     		.short	3638
 12228 0044 5A0E     		.short	3674
 12229 0046 7F0E     		.short	3711
 12230 0048 A40E     		.short	3748
 12231 004a CA0E     		.short	3786
 12232 004c EF0E     		.short	3823
 12233 004e 160F     		.short	3862
 12234 0050 3C0F     		.short	3900
 12235 0052 630F     		.short	3939
 12236 0054 8B0F     		.short	3979
 12237 0056 B30F     		.short	4019
 12238 0058 DB0F     		.short	4059
 12239 005a 0310     		.short	4099
 12240 005c 2C10     		.short	4140
 12241 005e 5610     		.short	4182
 12242 0060 8010     		.short	4224
 12243 0062 AA10     		.short	4266
 12244 0064 D410     		.short	4308
 12245 0066 0011     		.short	4352
 12246 0068 2B11     		.short	4395
 12247 006a 5711     		.short	4439
 12248 006c 8311     		.short	4483
 12249 006e B011     		.short	4528
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 325


 12250 0070 DE11     		.short	4574
 12251 0072 0B12     		.short	4619
 12252 0074 3912     		.short	4665
 12253 0076 6812     		.short	4712
 12254 0078 9712     		.short	4759
 12255 007a C712     		.short	4807
 12256 007c F712     		.short	4855
 12257 007e 2713     		.short	4903
 12258 0080 5913     		.short	4953
 12259 0082 8A13     		.short	5002
 12260 0084 BC13     		.short	5052
 12261 0086 EF13     		.short	5103
 12262 0088 2214     		.short	5154
 12263 008a 5514     		.short	5205
 12264 008c 8914     		.short	5257
 12265 008e BE14     		.short	5310
 12266 0090 F314     		.short	5363
 12267 0092 2915     		.short	5417
 12268 0094 5F15     		.short	5471
 12269 0096 9515     		.short	5525
 12270 0098 CD15     		.short	5581
 12271 009a 0416     		.short	5636
 12272 009c 3D16     		.short	5693
 12273 009e 7616     		.short	5750
 12274 00a0 AF16     		.short	5807
 12275 00a2 E916     		.short	5865
 12276 00a4 2417     		.short	5924
 12277 00a6 5F17     		.short	5983
 12278 00a8 9B17     		.short	6043
 12279 00aa D817     		.short	6104
 12280 00ac 1518     		.short	6165
 12281 00ae 5218     		.short	6226
 12282 00b0 9118     		.short	6289
 12283 00b2 CF18     		.short	6351
 12284 00b4 0F19     		.short	6415
 12285 00b6 4F19     		.short	6479
 12286 00b8 9019     		.short	6544
 12287 00ba D119     		.short	6609
 12288 00bc 131A     		.short	6675
 12289 00be 561A     		.short	6742
 12290 00c0 9A1A     		.short	6810
 12291 00c2 DE1A     		.short	6878
 12292 00c4 221B     		.short	6946
 12293 00c6 681B     		.short	7016
 12294 00c8 AE1B     		.short	7086
 12295 00ca F51B     		.short	7157
 12296 00cc 3D1C     		.short	7229
 12297 00ce 851C     		.short	7301
 12298 00d0 CE1C     		.short	7374
 12299 00d2 181D     		.short	7448
 12300 00d4 621D     		.short	7522
 12301 00d6 AD1D     		.short	7597
 12302 00d8 F91D     		.short	7673
 12303 00da 461E     		.short	7750
 12304 00dc 941E     		.short	7828
 12305 00de E21E     		.short	7906
 12306 00e0 311F     		.short	7985
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 326


 12307 00e2 811F     		.short	8065
 12308 00e4 D11F     		.short	8145
 12309 00e6 2320     		.short	8227
 12310 00e8 7520     		.short	8309
 12311 00ea C820     		.short	8392
 12312 00ec 1C21     		.short	8476
 12313 00ee 7121     		.short	8561
 12314 00f0 C721     		.short	8647
 12315 00f2 1D22     		.short	8733
 12316 00f4 7422     		.short	8820
 12317 00f6 CD22     		.short	8909
 12318 00f8 2623     		.short	8998
 12319 00fa 8023     		.short	9088
 12320 00fc DA23     		.short	9178
 12321 00fe 3624     		.short	9270
 12322 0100 9324     		.short	9363
 12323 0102 F124     		.short	9457
 12324 0104 4F25     		.short	9551
 12325 0106 AF25     		.short	9647
 12326 0108 0F26     		.short	9743
 12327 010a 7126     		.short	9841
 12328 010c D326     		.short	9939
 12329 010e 3627     		.short	10038
 12330 0110 9B27     		.short	10139
 12331 0112 0028     		.short	10240
 12332 0114 6728     		.short	10343
 12333 0116 CE28     		.short	10446
 12334 0118 3629     		.short	10550
 12335 011a A029     		.short	10656
 12336 011c 0B2A     		.short	10763
 12337 011e 762A     		.short	10870
 12338 0120 E32A     		.short	10979
 12339 0122 512B     		.short	11089
 12340 0124 C02B     		.short	11200
 12341 0126 302C     		.short	11312
 12342 0128 A12C     		.short	11425
 12343 012a 132D     		.short	11539
 12344 012c 862D     		.short	11654
 12345 012e FB2D     		.short	11771
 12346 0130 712E     		.short	11889
 12347 0132 E82E     		.short	12008
 12348 0134 602F     		.short	12128
 12349 0136 D92F     		.short	12249
 12350 0138 5330     		.short	12371
 12351 013a CF30     		.short	12495
 12352 013c 4C31     		.short	12620
 12353 013e CA31     		.short	12746
 12354 0140 4A32     		.short	12874
 12355 0142 CA32     		.short	13002
 12356 0144 4C33     		.short	13132
 12357 0146 D033     		.short	13264
 12358 0148 5434     		.short	13396
 12359 014a DA34     		.short	13530
 12360 014c 6235     		.short	13666
 12361 014e EA35     		.short	13802
 12362 0150 7436     		.short	13940
 12363 0152 0037     		.short	14080
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 327


 12364 0154 8D37     		.short	14221
 12365 0156 1B38     		.short	14363
 12366 0158 AA38     		.short	14506
 12367 015a 3C39     		.short	14652
 12368 015c CE39     		.short	14798
 12369 015e 623A     		.short	14946
 12370 0160 F83A     		.short	15096
 12371 0162 8F3B     		.short	15247
 12372 0164 273C     		.short	15399
 12373 0166 C13C     		.short	15553
 12374 0168 5D3D     		.short	15709
 12375 016a FA3D     		.short	15866
 12376 016c 983E     		.short	16024
 12377 016e 383F     		.short	16184
 12378 0170 DA3F     		.short	16346
 12379 0172 7E40     		.short	16510
 12380 0174 2341     		.short	16675
 12381 0176 CA41     		.short	16842
 12382 0178 7242     		.short	17010
 12383 017a 1C43     		.short	17180
 12384 017c C843     		.short	17352
 12385 017e 7644     		.short	17526
 12386 0180 2545     		.short	17701
 12387 0182 D645     		.short	17878
 12388 0184 8946     		.short	18057
 12389 0186 3D47     		.short	18237
 12390 0188 F447     		.short	18420
 12391 018a AC48     		.short	18604
 12392 018c 6649     		.short	18790
 12393 018e 224A     		.short	18978
 12394 0190 DF4A     		.short	19167
 12395 0192 9F4B     		.short	19359
 12396 0194 614C     		.short	19553
 12397 0196 244D     		.short	19748
 12398 0198 EA4D     		.short	19946
 12399 019a B14E     		.short	20145
 12400 019c 7B4F     		.short	20347
 12401 019e 4650     		.short	20550
 12402 01a0 1451     		.short	20756
 12403 01a2 E351     		.short	20963
 12404 01a4 B552     		.short	21173
 12405 01a6 8953     		.short	21385
 12406 01a8 5E54     		.short	21598
 12407 01aa 3655     		.short	21814
 12408 01ac 1156     		.short	22033
 12409 01ae ED56     		.short	22253
 12410 01b0 CB57     		.short	22475
 12411 01b2 AC58     		.short	22700
 12412 01b4 8F59     		.short	22927
 12413 01b6 745A     		.short	23156
 12414 01b8 5C5B     		.short	23388
 12415 01ba 465C     		.short	23622
 12416 01bc 325D     		.short	23858
 12417 01be 215E     		.short	24097
 12418 01c0 125F     		.short	24338
 12419 01c2 0560     		.short	24581
 12420 01c4 FB60     		.short	24827
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 328


 12421 01c6 F361     		.short	25075
 12422 01c8 EE62     		.short	25326
 12423 01ca EB63     		.short	25579
 12424 01cc EB64     		.short	25835
 12425 01ce ED65     		.short	26093
 12426 01d0 F266     		.short	26354
 12427 01d2 FA67     		.short	26618
 12428 01d4 0469     		.short	26884
 12429 01d6 116A     		.short	27153
 12430 01d8 206B     		.short	27424
 12431 01da 336C     		.short	27699
 12432 01dc 486D     		.short	27976
 12433 01de 5F6E     		.short	28255
 12434 01e0 7A6F     		.short	28538
 12435 01e2 9770     		.short	28823
 12436 01e4 B871     		.short	29112
 12437 01e6 DB72     		.short	29403
 12438 01e8 0174     		.short	29697
 12439 01ea 2A75     		.short	29994
 12440 01ec 5676     		.short	30294
 12441 01ee 8577     		.short	30597
 12442 01f0 B778     		.short	30903
 12443 01f2 EC79     		.short	31212
 12444 01f4 247B     		.short	31524
 12445 01f6 5F7C     		.short	31839
 12446 01f8 9D7D     		.short	32157
 12447 01fa DF7E     		.short	32479
 12448 01fc 2480     		.short	-32732
 12449 01fe 6C81     		.short	-32404
 12450              		.section	.data.st,"aw"
 12451              		.align	2
 12454              	st:
 12455 0000 00000000 		.word	reg
 12456 0004 00000000 		.word	hw
 12457 0008 00000000 		.space	44
 12457      00000000 
 12457      00000000 
 12457      00000000 
 12457      00000000 
 12458 0034 00000000 		.word	test
 12459              		.global	test
 12460              		.section	.rodata.test,"a"
 12461              		.align	2
 12464              	test:
 12465 0000 83000000 		.word	131
 12466 0004 00400000 		.word	16384
 12467 0008 00       		.byte	0
 12468 0009 02       		.byte	2
 12469 000a 00       		.byte	0
 12470 000b 00       		.byte	0
 12471 000c C800     		.short	200
 12472 000e C8       		.byte	-56
 12473 000f 00       		.space	1
 12474 0010 0000A041 		.word	1101004800
 12475 0014 00007042 		.word	1114636288
 12476 0018 0000003F 		.word	1056964608
 12477 001c 6666663E 		.word	1046898278
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 329


 12478 0020 CDCC2C3F 		.word	1059900621
 12479 0024 0000003F 		.word	1056964608
 12480 0028 0000003F 		.word	1056964608
 12481 002c 0A00     		.short	10
 12482 002e 0000     		.space	2
 12483              		.global	hw
 12484              		.section	.rodata.hw,"a"
 12485              		.align	2
 12488              	hw:
 12489 0000 68       		.byte	104
 12490 0001 00       		.space	1
 12491 0002 0004     		.short	1024
 12492 0004 80       		.byte	-128
 12493 0005 00       		.space	1
 12494 0006 4101     		.short	321
 12495 0008 0000     		.short	0
 12496 000a 0001     		.short	256
 12497 000c 3313     		.short	4915
 12498              		.global	reg
 12499              		.section	.rodata.reg,"a"
 12500              		.align	2
 12503              	reg:
 12504 0000 75       		.byte	117
 12505 0001 19       		.byte	25
 12506 0002 1A       		.byte	26
 12507 0003 0C       		.byte	12
 12508 0004 6A       		.byte	106
 12509 0005 23       		.byte	35
 12510 0006 1B       		.byte	27
 12511 0007 1C       		.byte	28
 12512 0008 1D       		.byte	29
 12513 0009 1E       		.byte	30
 12514 000a 1F       		.byte	31
 12515 000b 20       		.byte	32
 12516 000c 72       		.byte	114
 12517 000d 74       		.byte	116
 12518 000e 43       		.byte	67
 12519 000f 3B       		.byte	59
 12520 0010 41       		.byte	65
 12521 0011 38       		.byte	56
 12522 0012 39       		.byte	57
 12523 0013 3A       		.byte	58
 12524 0014 69       		.byte	105
 12525 0015 6B       		.byte	107
 12526 0016 6C       		.byte	108
 12527 0017 37       		.byte	55
 12528 0018 6F       		.byte	111
 12529 0019 77       		.byte	119
 12530 001a 24       		.byte	36
 12531 001b 6D       		.byte	109
 12532 001c 6E       		.byte	110
 12533 001d 70       		.byte	112
 12534 001e 25       		.byte	37
 12535 001f 26       		.byte	38
 12536 0020 27       		.byte	39
 12537 0021 28       		.byte	40
 12538 0022 29       		.byte	41
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 330


 12539 0023 2A       		.byte	42
 12540 0024 34       		.byte	52
 12541 0025 63       		.byte	99
 12542 0026 64       		.byte	100
 12543 0027 67       		.byte	103
 12544 0028 49       		.byte	73
 12545 0029 00       		.space	1
 12546              		.global	mpl_key
 12547              		.section	.rodata.str1.4,"aMS",%progbits,1
 12548              		.align	2
 12549              	.LC38:
 12550 0000 654D504C 		.ascii	"eMPL 5.1\000"
 12550      20352E31 
 12550      00
 12551              		.section	.data.mpl_key,"aw"
 12552              		.align	2
 12555              	mpl_key:
 12556 0000 00000000 		.word	.LC38
 12557              		.section	.rodata
 12558              		.align	2
 12559              		.set	.LANCHOR0,. + 0
 12560              	.LC27:
 12561 0000 00000000 		.ascii	"\000\000\000\000\000\000"
 12561      0000
 12562              		.text
 12563              	.Letext0:
 12564              		.file 2 "/usr/local/include/sys/_types/_int8_t.h"
 12565              		.file 3 "/usr/local/include/_types/_uint8_t.h"
 12566              		.file 4 "/usr/local/include/_types/_uint16_t.h"
 12567              		.file 5 "/usr/local/include/_types/_uint32_t.h"
 12568              		.file 6 "/usr/local/include/arm/_types.h"
 12569              		.file 7 "/usr/local/include/sys/_types.h"
 12570              		.file 8 "Drivers/CMSIS/Device/ST/STM32G4xx/Include/stm32g474xx.h"
 12571              		.file 9 "/usr/local/include/sys/_types/_size_t.h"
 12572              		.file 10 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal_def.h"
 12573              		.file 11 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal_dma.h"
 12574              		.file 12 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal_uart.h"
 12575              		.file 13 "/usr/local/include/_stdio.h"
 12576              		.file 14 "DMP/driver/include/mltypes.h"
 12577              		.file 15 "Core/Inc/usart.h"
 12578              		.file 16 "DMP/eMPL-hal/eMPL_outputs.h"
 12579              		.file 17 "DMP/mllite/data_builder.h"
 12580              		.file 18 "/usr/local/include/math.h"
 12581              		.file 19 "DMP/driver/eMPL/inv_mpu_dmp_motion_driver.h"
 12582              		.file 20 "DMP/mllite/ml_math_func.h"
 12583              		.file 21 "DMP/mllite/mpl.h"
 12584              		.file 22 "DMP/mpl/mag_disturb.h"
 12585              		.file 23 "DMP/mpl/compass_vec_cal.h"
 12586              		.file 24 "DMP/mpl/gyro_tc.h"
 12587              		.file 25 "DMP/mpl/fast_no_motion.h"
 12588              		.file 26 "DMP/mpl/fusion_9axis.h"
 12589              		.file 27 "DMP/mpl/quaternion_supervisor.h"
 12590              		.file 28 "/usr/local/include/string.h"
 12591              		.file 29 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal.h"
 12592              		.file 30 "user/Inc/mpu9250.h"
 12593              		.file 31 "/usr/local/include/stdio.h"
 12594              		.file 32 "DMP/driver/eMPL/inv_mpu.h"
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 331


 12595              		.file 33 "<built-in>"
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 332


DEFINED SYMBOLS
                            *ABS*:00000000 inv_mpu.c
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:21     .text.set_int_enable:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:26     .text.set_int_enable:00000000 set_int_enable
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:168    .text.set_int_enable:00000094 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:12454  .data.st:00000000 st
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:174    .text.get_st_biases:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:179    .text.get_st_biases:00000000 get_st_biases
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:598    .text.get_st_biases:0000022c $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:605    .text.get_st_biases:00000234 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:964    .text.get_st_biases:00000424 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:969    .rodata.get_st_6500_biases.str1.4:00000000 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:985    .text.get_st_6500_biases:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:990    .text.get_st_6500_biases:00000000 get_st_6500_biases
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:1369   .text.get_st_6500_biases:000001f0 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:1377   .text.get_st_6500_biases:000001f8 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:1961   .text.get_st_6500_biases:0000055c $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:1971   .rodata.accel_6500_self_test.str1.4:00000000 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:2017   .text.accel_6500_self_test:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:2022   .text.accel_6500_self_test:00000000 accel_6500_self_test
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:2515   .text.accel_6500_self_test:000002b0 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:12193  .rodata.mpu_6500_st_tb:00000000 mpu_6500_st_tb
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:2544   .rodata.gyro_6500_self_test.str1.4:00000000 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:2569   .text.gyro_6500_self_test:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:2574   .text.gyro_6500_self_test:00000000 gyro_6500_self_test
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:3050   .text.gyro_6500_self_test:00000288 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:3075   .text._sys_exit:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:3081   .text._sys_exit:00000000 _sys_exit
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:3096   .text.fputc:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:3102   .text.fputc:00000000 fputc
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:3140   .text.fputc:0000001c $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:3145   .rodata.mpu_reg_dump.str1.4:00000000 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:3149   .text.mpu_reg_dump:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:3155   .text.mpu_reg_dump:00000000 mpu_reg_dump
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:3247   .text.mpu_reg_dump:00000050 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:3253   .text.mpu_read_reg:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:3259   .text.mpu_read_reg:00000000 mpu_read_reg
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:3342   .text.mpu_read_reg:0000003c $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:3347   .text.mpu_get_gyro_reg:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:3353   .text.mpu_get_gyro_reg:00000000 mpu_get_gyro_reg
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:3453   .text.mpu_get_gyro_reg:00000060 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:3458   .text.mpu_get_accel_reg:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:3464   .text.mpu_get_accel_reg:00000000 mpu_get_accel_reg
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:3564   .text.mpu_get_accel_reg:00000060 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:3569   .text.mpu_get_temperature:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:3575   .text.mpu_get_temperature:00000000 mpu_get_temperature
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:3690   .text.mpu_get_temperature:00000078 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:3696   .text.mpu_read_6500_accel_bias:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:3702   .text.mpu_read_6500_accel_bias:00000000 mpu_read_6500_accel_bias
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:3814   .text.mpu_read_6500_accel_bias:00000080 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:3819   .text.mpu_read_6050_accel_bias:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:3825   .text.mpu_read_6050_accel_bias:00000000 mpu_read_6050_accel_bias
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:3937   .text.mpu_read_6050_accel_bias:00000080 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:3942   .text.mpu_read_6500_gyro_bias:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:3948   .text.mpu_read_6500_gyro_bias:00000000 mpu_read_6500_gyro_bias
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:4060   .text.mpu_read_6500_gyro_bias:00000080 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:4065   .text.mpu_set_gyro_bias_reg:00000000 $t
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 333


/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:4071   .text.mpu_set_gyro_bias_reg:00000000 mpu_set_gyro_bias_reg
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:4214   .text.mpu_set_gyro_bias_reg:0000009c $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:4220   .text.mpu_set_accel_bias_6050_reg:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:4226   .text.mpu_set_accel_bias_6050_reg:00000000 mpu_set_accel_bias_6050_reg
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:4388   .text.mpu_set_accel_bias_6050_reg:000000c0 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:4394   .text.mpu_set_accel_bias_6500_reg:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:4400   .text.mpu_set_accel_bias_6500_reg:00000000 mpu_set_accel_bias_6500_reg
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:4562   .text.mpu_set_accel_bias_6500_reg:000000c0 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:4568   .text.mpu_reset_fifo:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:4574   .text.mpu_reset_fifo:00000000 mpu_reset_fifo
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:4943   .text.mpu_reset_fifo:000001f4 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:4948   .text.mpu_get_gyro_fsr:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:4954   .text.mpu_get_gyro_fsr:00000000 mpu_get_gyro_fsr
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:4971   .text.mpu_get_gyro_fsr:0000000c $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:4975   .text.mpu_get_gyro_fsr:00000010 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:5021   .text.mpu_get_gyro_fsr:00000038 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:5026   .text.mpu_set_gyro_fsr:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:5032   .text.mpu_set_gyro_fsr:00000000 mpu_set_gyro_fsr
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:5176   .text.mpu_set_gyro_fsr:00000094 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:5181   .text.mpu_get_accel_fsr:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:5187   .text.mpu_get_accel_fsr:00000000 mpu_get_accel_fsr
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:5204   .text.mpu_get_accel_fsr:0000000c $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:5208   .text.mpu_get_accel_fsr:00000010 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:5271   .text.mpu_get_accel_fsr:00000040 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:5276   .text.mpu_set_accel_fsr:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:5282   .text.mpu_set_accel_fsr:00000000 mpu_set_accel_fsr
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:5313   .text.mpu_set_accel_fsr:00000016 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:5427   .text.mpu_set_accel_fsr:00000090 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:5432   .text.mpu_get_lpf:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:5438   .text.mpu_get_lpf:00000000 mpu_get_lpf
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:5456   .text.mpu_get_lpf:0000000e $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:5462   .text.mpu_get_lpf:00000014 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:5522   .text.mpu_get_lpf:00000040 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:5527   .text.mpu_set_lpf:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:5533   .text.mpu_set_lpf:00000000 mpu_set_lpf
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:5679   .text.mpu_set_lpf:00000090 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:5684   .text.mpu_get_sample_rate:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:5690   .text.mpu_get_sample_rate:00000000 mpu_get_sample_rate
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:5726   .text.mpu_get_sample_rate:00000018 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:5731   .text.mpu_get_compass_sample_rate:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:5737   .text.mpu_get_compass_sample_rate:00000000 mpu_get_compass_sample_rate
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:5760   .text.mpu_get_compass_sample_rate:0000000c $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:5765   .text.mpu_set_compass_sample_rate:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:5771   .text.mpu_set_compass_sample_rate:00000000 mpu_set_compass_sample_rate
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:5874   .text.mpu_set_compass_sample_rate:00000064 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:5879   .text.mpu_get_gyro_sens:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:5885   .text.mpu_get_gyro_sens:00000000 mpu_get_gyro_sens
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:5902   .text.mpu_get_gyro_sens:0000000c $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:5906   .text.mpu_get_gyro_sens:00000010 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:5964   .text.mpu_get_gyro_sens:00000038 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:5973   .text.mpu_get_accel_sens:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:5979   .text.mpu_get_accel_sens:00000000 mpu_get_accel_sens
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:5996   .text.mpu_get_accel_sens:0000000c $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:6000   .text.mpu_get_accel_sens:00000010 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:6063   .text.mpu_get_accel_sens:00000048 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:6068   .text.mpu_get_fifo_config:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:6074   .text.mpu_get_fifo_config:00000000 mpu_get_fifo_config
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 334


/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:6097   .text.mpu_get_fifo_config:0000000c $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:6102   .text.mpu_configure_fifo:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:6108   .text.mpu_configure_fifo:00000000 mpu_configure_fifo
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:6225   .text.mpu_configure_fifo:00000060 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:6230   .text.mpu_get_power_state:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:6236   .text.mpu_get_power_state:00000000 mpu_get_power_state
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:6271   .text.mpu_get_power_state:00000014 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:6276   .text.mpu_get_int_status:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:6282   .text.mpu_get_int_status:00000000 mpu_get_int_status
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:6362   .text.mpu_get_int_status:00000040 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:6367   .text.mpu_read_fifo:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:6373   .text.mpu_read_fifo:00000000 mpu_read_fifo
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:6801   .text.mpu_read_fifo:000001fc $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:6806   .text.mpu_read_fifo_stream:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:6812   .text.mpu_read_fifo_stream:00000000 mpu_read_fifo_stream
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:7009   .text.mpu_read_fifo_stream:000000bc $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:7014   .text.mpu_set_bypass:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:7020   .text.mpu_set_bypass:00000000 mpu_set_bypass
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:7296   .text.mpu_set_bypass:00000164 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:7301   .rodata.setup_compass.str1.4:00000000 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:7305   .text.setup_compass:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:7310   .text.setup_compass:00000000 setup_compass
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:7729   .text.setup_compass:0000023c $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:7735   .text.compass_self_test:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:7740   .text.compass_self_test:00000000 compass_self_test
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:8031   .text.compass_self_test:00000144 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:8036   .text.mpu_set_int_level:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:8042   .text.mpu_set_int_level:00000000 mpu_set_int_level
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:8063   .text.mpu_set_int_level:0000000c $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:8068   .text.mpu_set_int_latched:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:8074   .text.mpu_set_int_latched:00000000 mpu_set_int_latched
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:8190   .text.mpu_set_int_latched:00000070 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:8195   .text.mpu_lp_accel_mode:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:8201   .text.mpu_lp_accel_mode:00000000 mpu_lp_accel_mode
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:8420   .text.mpu_lp_accel_mode:000000e4 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:8425   .text.mpu_set_sample_rate:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:8431   .text.mpu_set_sample_rate:00000000 mpu_set_sample_rate
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:8600   .text.mpu_set_sample_rate:000000a8 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:8605   .text.mpu_set_sensors:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:8611   .text.mpu_set_sensors:00000000 mpu_set_sensors
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:8904   .text.mpu_set_sensors:00000190 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:8909   .text.mpu_init:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:8915   .text.mpu_init:00000000 mpu_init
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:9157   .text.mpu_init:00000118 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:9162   .text.mpu_write_mem:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:9168   .text.mpu_write_mem:00000000 mpu_write_mem
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:9300   .text.mpu_write_mem:00000070 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:9305   .text.mpu_read_mem:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:9311   .text.mpu_read_mem:00000000 mpu_read_mem
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:9443   .text.mpu_read_mem:00000070 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:9448   .text.mpu_load_firmware:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:9454   .text.mpu_load_firmware:00000000 mpu_load_firmware
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:9629   .text.mpu_load_firmware:000000b0 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:9634   .text.mpu_set_dmp_state:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:9640   .text.mpu_set_dmp_state:00000000 mpu_set_dmp_state
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:9787   .text.mpu_set_dmp_state:00000090 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:9792   .rodata.mpu_run_6500_self_test.str1.4:00000000 $d
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 335


/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:9820   .text.mpu_run_6500_self_test:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:9826   .text.mpu_run_6500_self_test:00000000 mpu_run_6500_self_test
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:10225  .text.mpu_run_6500_self_test:00000184 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:10239  .text.mpu_run_self_test:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:10245  .text.mpu_run_self_test:00000000 mpu_run_self_test
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:10397  .text.mpu_run_self_test:000000a8 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:10402  .text.mpu_get_dmp_state:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:10408  .text.mpu_get_dmp_state:00000000 mpu_get_dmp_state
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:10431  .text.mpu_get_dmp_state:0000000c $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:10436  .text.mpu_get_compass_reg:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:10442  .text.mpu_get_compass_reg:00000000 mpu_get_compass_reg
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:10597  .text.mpu_get_compass_reg:000000b0 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:10602  .text.mpu_get_compass_fsr:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:10608  .text.mpu_get_compass_fsr:00000000 mpu_get_compass_fsr
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:10633  .text.mpu_get_compass_fsr:0000000c $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:10638  .text.mpu_lp_motion_interrupt:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:10644  .text.mpu_lp_motion_interrupt:00000000 mpu_lp_motion_interrupt
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:11132  .text.mpu_lp_motion_interrupt:00000234 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:11139  .text.run_self_test:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:11145  .text.run_self_test:00000000 run_self_test
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:11262  .text.inv_row_2_scale:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:11268  .text.inv_row_2_scale:00000000 inv_row_2_scale
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:11356  .text.mget_ms:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:11362  .text.mget_ms:00000000 mget_ms
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:11376  .text.mpu_dmp_init:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:11382  .text.mpu_dmp_init:00000000 mpu_dmp_init
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:11704  .text.mpu_dmp_init:00000150 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:12187  .data.gyro_orientation:00000000 gyro_orientation
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:12181  .data.comp_orientation:00000000 comp_orientation
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:11714  .text.mpu_dmp_get_data:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:11720  .text.mpu_dmp_get_data:00000000 mpu_dmp_get_data
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:11968  .text.mpu_dmp_get_data:00000180 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:11975  .text.mpu_mpl_get_data:00000000 $t
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:11981  .text.mpu_mpl_get_data:00000000 mpu_mpl_get_data
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:12173  .text.mpu_mpl_get_data:000000f0 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:12178  .data.comp_orientation:00000000 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:12184  .data.gyro_orientation:00000000 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:12190  .rodata.mpu_6500_st_tb:00000000 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:12451  .data.st:00000000 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:12503  .rodata.reg:00000000 reg
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:12488  .rodata.hw:00000000 hw
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:12464  .rodata.test:00000000 test
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:12461  .rodata.test:00000000 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:12485  .rodata.hw:00000000 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:12500  .rodata.reg:00000000 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:12555  .data.mpl_key:00000000 mpl_key
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:12548  .rodata.str1.4:00000000 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:12552  .data.mpl_key:00000000 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:12558  .rodata:00000000 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:5328   .text.mpu_set_accel_fsr:00000025 $d
/var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s:5328   .text.mpu_set_accel_fsr:00000026 $t

UNDEFINED SYMBOLS
MPU_Write_Len
__aeabi_ldivmod
HAL_Delay
MPU_Read_Len
ARM GAS  /var/folders/21/t9g5rlb91ys800n5npymflf80000gn/T//cc9Tap3V.s 			page 336


__aeabi_f2d
puts
printf
__aeabi_i2d
__aeabi_dcmpgt
HAL_UART_Transmit
huart1
memcmp
dmp_set_gyro_bias
dmp_set_accel_bias
inv_init_mpl
inv_enable_quaternion
inv_enable_9x_sensor_fusion
inv_enable_fast_nomot
inv_enable_gyro_tc
inv_enable_vector_compass_cal
inv_enable_magnetic_disturbance
inv_enable_eMPL_outputs
inv_start_mpl
inv_set_gyro_sample_rate
inv_set_accel_sample_rate
inv_set_compass_sample_rate
inv_orientation_matrix_to_scalar
inv_set_gyro_orientation_and_scale
inv_set_accel_orientation_and_scale
inv_set_compass_orientation_and_scale
dmp_load_motion_driver_firmware
dmp_set_orientation
dmp_enable_feature
dmp_set_fifo_rate
__aeabi_dmul
__aeabi_d2f
dmp_read_fifo
asin
atan2
inv_execute_on_data
inv_get_sensor_type_euler
inv_build_gyro
inv_build_temp
inv_build_accel
inv_build_compass
